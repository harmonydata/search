"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4315],{44315:(e,a,t)=>{t.d(a,{A:()=>g});var i=t(95155),s=t(68998),l=t(9561),n=t(47821),o=t(5565),r=t(1234),d=t(64517),c=t(9450),h=t(64364),u=t(52604),x=t(90675),p=t(12115),v=t(53452),m=t(86453),b=t(3485);function g(e){var a,t,g,f,y,j,_,A,w,k,C,z,V,W,D,I,S,F,R,L,B,E,H;let{result:M,isSelected:O,onClick:N,onFindSimilar:P}=e,U=!!(M.ancestors&&M.ancestors.length>0),T=null===(t=M.extra_data)||void 0===t?void 0:null===(a=t.resource_type)||void 0===a?void 0:a.includes("variable"),q=null===(f=M.extra_data)||void 0===f?void 0:null===(g=f.resource_type)||void 0===g?void 0:g.includes("dataset"),[G,J]=(0,p.useState)(!1),K=M,Q=M;U&&(null===(y=M.ancestors)||void 0===y?void 0:y[0])&&(Q=M.ancestors[0],K=M);let X=(null==Q?void 0:null===(j=Q.extra_data)||void 0===j?void 0:j.resource_type)||Q.dataset_schema&&Q.dataset_schema["@type"]||"Unknown Resource Type",Y=(null===(_=Q.dataset_schema)||void 0===_?void 0:_.name)||(null===(A=Q.extra_data)||void 0===A?void 0:A.name)||"Unnamed Resource",Z=U&&q?(null===(w=K.dataset_schema)||void 0===w?void 0:w.description)||(null===(k=K.extra_data)||void 0===k?void 0:k.description)||"":(null===(C=Q.dataset_schema)||void 0===C?void 0:C.description)||(null===(z=Q.extra_data)||void 0===z?void 0:z.description)||"",$=((null===(V=Q.dataset_schema)||void 0===V?void 0:V.keywords)||Q.topics||[]).filter(e=>"string"==typeof e&&!e.includes("<a title=")&&!e.startsWith("<")),ee=(null===(W=K.dataset_schema)||void 0===W?void 0:W.number_of_variables)||(null===(I=K.dataset_schema)||void 0===I?void 0:null===(D=I.variableMeasured)||void 0===D?void 0:D.length)||0,ea=(null===(S=K.variables_which_matched)||void 0===S?void 0:S.length)||0,et=(null===(F=K.child_datasets)||void 0===F?void 0:F.length)||0,ei=(null===(R=K.dataset_schema)||void 0===R?void 0:R.includedInDataCatalog)&&K.dataset_schema.includedInDataCatalog.length>0,es=Z.length>200?"".concat(Z.substring(0,200),"..."):Z,el=null,[en,eo]=(0,p.useState)(!1);return(null===(L=Q.dataset_schema)||void 0===L?void 0:L.image)&&!en?el=Q.dataset_schema.image:Q.thumbnail&&!en&&(el=Q.thumbnail),(0,i.jsxs)(s.default,{onClick:N,sx:{cursor:"pointer",display:"flex",width:"100%",bgcolor:O?"rgba(25, 118, 210, 0.08)":"transparent",borderLeft:O?"3px solid":"3px solid transparent",borderRight:O?"3px solid":"3px solid transparent",borderColor:O?"primary.main":"transparent","&:hover":{bgcolor:O?"rgba(25, 118, 210, 0.12)":"rgba(0, 0, 0, 0.02)"}},children:[(0,i.jsxs)(s.default,{sx:{width:120,minHeight:"100%",py:2,flexShrink:1,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",color:"grey.500",background:"transparent",position:"relative"},children:[el&&!en?(0,i.jsx)(o.default,{src:el,alt:Y,width:100,height:100,style:{objectFit:"contain"},onError:()=>eo(!0),unoptimized:!0}):X.includes("dataset")?(0,i.jsx)(r.A,{size:48}):X.includes("variable")?(0,i.jsx)(d.A,{size:48}):X.includes("study")?(0,i.jsx)(c.A,{size:48}):(0,i.jsx)(h.A,{size:48}),U&&(0,i.jsxs)(i.Fragment,{children:[T&&(0,i.jsx)(s.default,{sx:{position:"absolute",top:0,right:0,bgcolor:"primary.main",color:"white",borderRadius:"50%",width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"bold"},children:"V"}),q&&(0,i.jsx)(s.default,{sx:{position:"absolute",top:0,right:0,bgcolor:"primary.main",color:"white",borderRadius:"50%",width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"bold"},children:(0,i.jsx)(r.A,{size:16})})]}),(0,i.jsx)(s.default,{sx:{mt:1,width:"100%",display:"flex",justifyContent:"center"},children:(0,i.jsxs)(v.A,{chipVariant:"secondary",size:"small",onClick:e=>{var a;e.stopPropagation(),(null===(a=K.extra_data)||void 0===a?void 0:a.uuid)&&window.open("".concat((0,b.xC)(),"discover?like=").concat(K.extra_data.uuid),"_blank")},sx:{cursor:"pointer",display:"flex",alignItems:"center",gap:.5},children:["Find Similar ",(0,i.jsx)(u.A,{size:14,style:{marginLeft:4}})]})})]}),(0,i.jsxs)(s.default,{sx:{display:"flex",flexDirection:"column",p:2,flex:1,background:"transparent"},children:[(0,i.jsxs)(s.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,i.jsx)(l.A,{variant:"h6",gutterBottom:!0,sx:{mb:.5,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:1.2,flex:1,mr:1},children:Y}),(0,i.jsx)(n.A,{size:"small",onClick:e=>{e.stopPropagation(),J(!0)},sx:{opacity:.6,"&:hover":{opacity:1},color:"text.secondary"},children:(0,i.jsx)(x.A,{size:16})})]}),$.length>0&&(0,i.jsx)(l.A,{variant:"body2",sx:{mb:1,color:"text.secondary"},children:$.slice(0,5).map((e,a)=>(0,i.jsxs)(s.default,{component:"span",children:[(0,i.jsx)(s.default,{component:"strong",sx:{fontSize:{xs:"0.75rem",sm:"0.85rem"}},children:e}),a<Math.min($.length,5)-1&&(0,i.jsx)(s.default,{component:"span",sx:{mx:.5},children:"â€¢"})]},"".concat(e,"-").concat(a)))}),(0,i.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:1.4,mb:1.5},children:es}),(0,i.jsx)(s.default,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:"auto"},children:U&&T?(0,i.jsx)(v.A,{chipVariant:"primary",size:"small",children:(null===(B=K.extra_data)||void 0===B?void 0:B.description)||(null===(E=K.extra_data)||void 0===E?void 0:E.name)},null===(H=K.extra_data)||void 0===H?void 0:H.uuid):(0,i.jsxs)(i.Fragment,{children:[ee>0&&(0,i.jsx)(v.A,{chipVariant:"primary",size:"small",children:ea>0?"Matched by variable":"".concat(ee," Variables")}),ei&&(0,i.jsx)(v.A,{chipVariant:"secondary",size:"small",children:"Data Available"}),et>0&&(0,i.jsxs)(v.A,{chipVariant:"secondary",size:"small",sx:{backgroundColor:"#444653",color:"white","&:hover":{backgroundColor:"#3a3d47"}},children:[et," Dataset",1!==et?"s":""]}),K.hasFreeAccess&&(0,i.jsx)(v.A,{chipVariant:"secondary",size:"small",children:"Free Access"}),K.hasCohortsAvailable&&(0,i.jsx)(v.A,{chipVariant:"secondary",size:"small",children:"Cohorts Available"})]})})]}),(0,i.jsx)(m.A,{open:G,onClose:()=>J(!1),data:K,title:"Debug: ".concat(Y)})]})}}}]);