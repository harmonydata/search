(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[544],{83686:()=>{},32383:()=>{},8428:(e,o,t)=>{"use strict";t.d(o,{A:()=>h});var n=t(95155),l=t(12115),r=t(30997),i=t(57165),a=t(53326),s=t(66656),d=t(9561),c=t(68998),g=t(48173),u=t.n(g);function h(e){let{datasets:o}=e,t=[{field:"title",headerName:"Dataset Name",flex:1,minWidth:300,renderCell:e=>{let o=e.value||"Untitled Dataset",t=e.row.slug,l=e.row.uuid;return t?(0,n.jsx)(s.A,{component:u(),href:"/items/".concat(t),underline:"hover",sx:{fontWeight:600,color:"primary.main"},children:o}):l?(0,n.jsx)(s.A,{component:u(),href:"/items/".concat(l),underline:"hover",sx:{fontWeight:600,color:"primary.main"},children:o}):(0,n.jsx)(d.default,{variant:"body2",sx:{fontWeight:600},children:o})}},{field:"numVariables",headerName:"Variables",width:120,renderCell:e=>{let o=e.value;return(0,n.jsx)(d.default,{variant:"body2",color:"text.secondary",children:o||"-"})}},{field:"temporalCoverage",headerName:"Time Coverage",width:150,renderCell:e=>{let o=e.value;return(0,n.jsx)(d.default,{variant:"body2",color:"text.secondary",children:o||"-"})}}],g=(0,l.useMemo)(()=>o.map((e,o)=>{var t,n,l,r,i,a,s,d,c;return{id:(null===(t=e.extra_data)||void 0===t?void 0:t.uuid)||o,title:(null===(n=e.dataset_schema)||void 0===n?void 0:n.name)||(null===(l=e.extra_data)||void 0===l?void 0:l.name)||"Untitled Dataset",slug:null===(r=e.extra_data)||void 0===r?void 0:r.slug,uuid:null===(i=e.extra_data)||void 0===i?void 0:i.uuid,numVariables:(null===(a=e.dataset_schema)||void 0===a?void 0:a.number_of_variables)||(null===(s=e.extra_data)||void 0===s?void 0:s.num_variables)||(null===(d=e.extra_data)||void 0===d?void 0:d.number_of_variables),temporalCoverage:null===(c=e.dataset_schema)||void 0===c?void 0:c.temporalCoverage}}),[o]);return(0,n.jsx)(c.default,{sx:{height:"100%",minHeight:200},children:(0,n.jsx)(r.z,{rows:g,columns:t,disableRowSelectionOnClick:!0,sortModel:[{field:"title",sort:"asc"}],sx:{background:"white",borderRadius:2,fontSize:14,height:"100%"},hideFooter:!0,pageSizeOptions:[20,50,100],showToolbar:!0,slots:{toolbar:()=>(0,n.jsx)(c.default,{sx:{display:"flex",alignItems:"center",gap:2,p:1,mr:2},children:(0,n.jsx)(i.e,{expanded:!0,style:{width:"100%"},children:(0,n.jsx)(a.X,{})})})}})})}},16814:(e,o,t)=>{"use strict";t.d(o,{A:()=>c});var n=t(95155),l=t(64665),r=t(68998),i=t(9561),a=t(5565),s=t(3485),d=t(12115);function c(e){let{name:o,url:t,logo:c}=e,[g,u]=(0,d.useState)(c),[h,p]=(0,d.useState)(!1);(0,d.useEffect)(()=>{console.log('Resolving logo for data catalog: "'.concat(o,'"'));try{let e=(0,s.sM)(o,c);console.log('Resolved logo for data catalog "'.concat(o,'":'),e),u(e),p(!1)}catch(e){console.error('Error resolving logo for data catalog "'.concat(o,'":'),e),u(void 0)}},[o,c]);let x=g&&g.length>0&&!h;return(0,n.jsxs)(l.A,{elevation:0,sx:{display:"flex",borderRadius:"16px",overflow:"hidden",width:"280px",height:"80px",flexShrink:0,border:"1px solid",borderColor:"grey.200",cursor:t?"pointer":"default",transition:"all 0.2s","&:hover":t?{boxShadow:2,borderColor:"primary.main"}:{}},onClick:()=>{t&&window.open(t,"_blank","noopener,noreferrer")},children:[(0,n.jsx)(r.default,{sx:{flex:1,bgcolor:"rgba(0,0,0,0.03)",p:2,display:"flex",flexDirection:"column",justifyContent:"center"},children:(0,n.jsx)(i.default,{sx:{fontWeight:500,fontSize:"0.9rem",lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",maxHeight:"3.7em",wordBreak:"break-word"},children:o})}),x&&(0,n.jsx)(r.default,{sx:{width:"30%",bgcolor:"white",display:"flex",alignItems:"center",justifyContent:"center",p:1,borderLeft:"1px solid",borderColor:"grey.200"},children:(0,n.jsx)(a.default,{src:g,alt:o,width:50,height:50,style:{objectFit:"contain"},onError:()=>{console.error('Error loading image for data catalog "'.concat(o,'" from path: ').concat(g)),p(!0)},unoptimized:!0})})]})}},86453:(e,o,t)=>{"use strict";t.d(o,{A:()=>x});var n=t(95155),l=t(78416),r=t(36417),i=t(9561),a=t(68998),s=t(47821),d=t(27753),c=t(26214),g=t(22282),u=t(2743),h=t(6327),p=t(2599);function x(e){let{open:o,onClose:t,data:x,title:f="Debug Data"}=e,m=()=>{navigator.clipboard.writeText(JSON.stringify(x,null,2))};return(0,n.jsxs)(l.A,{open:o,onClose:t,maxWidth:"lg",fullWidth:!0,sx:{"& .MuiDialog-paper":{maxHeight:"90vh",height:"90vh"}},children:[(0,n.jsxs)(r.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[(0,n.jsx)(i.default,{variant:"h6",component:"div",children:f}),(0,n.jsxs)(a.default,{children:[(0,n.jsx)(s.A,{onClick:m,size:"small",sx:{mr:1},title:"Copy JSON to clipboard",children:(0,n.jsx)(u.A,{fontSize:"small"})}),(0,n.jsx)(s.A,{onClick:t,size:"small",children:(0,n.jsx)(h.A,{fontSize:"small"})})]})]}),(0,n.jsx)(d.A,{dividers:!0,sx:{p:0,height:"100%"},children:o&&(0,n.jsx)(a.default,{sx:{height:"100%",overflow:"auto","& .w-json-view-container":{backgroundColor:"#fafafa",fontSize:"13px",fontFamily:'"SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace'}},children:(0,n.jsx)(p.Ay,{value:x,collapsed:2,displayObjectSize:!0,displayDataTypes:!0,enableClipboard:!0,style:{backgroundColor:"#fafafa",padding:"16px"}})})}),(0,n.jsxs)(c.A,{children:[(0,n.jsx)(g.A,{onClick:m,startIcon:(0,n.jsx)(u.A,{}),children:"Copy JSON"}),(0,n.jsx)(g.A,{onClick:t,variant:"contained",children:"Close"})]})]})}},57040:(e,o,t)=>{"use strict";t.d(o,{A:()=>E});var n=t(95155),l=t(12115),r=t(26536),i=t(30997),a=t(57165),s=t(53326),d=t(68998),c=t(72926),g=t(47821),u=t(66917),h=t(4918),p=t(41983),x=t(2091),f=t(60391),m=t(78416),C=t(36417),b=t(9561),j=t(27753),v=t(10319),y=t(10358),A=t(64364),w=t(71569),S=t(689),R=t(48694),N=t(7660);function k(e){let{variables:o,studyName:t,downloadAnchorEl:m,onDownloadClick:C,onDownloadClose:b}=e,j=(0,l.useRef)(null),S=(0,l.useRef)(null),[R,k]=(0,l.useState)(!1),[E,H]=(0,l.useState)(!1);console.log("variables passed:",o),(0,l.useEffect)(()=>{if(customElements.get("harmony-export"))return;let e=document.createElement("script");return e.src="/app/js/harmony-export.js",e.async=!0,document.body.appendChild(e),()=>{document.body.contains(e)&&document.body.removeChild(e)}},[]);let D=[{field:"description",headerName:"Description / Code",flex:2,valueGetter:(e,o)=>(o.score?"[MATCHING] ":"")+(o.description||o.name)+(o.description&&o.name?" ("+o.name+")":""),sortable:!0},{field:"options",headerName:"Response Options",flex:1,valueGetter:(e,o)=>o.options&&Array.isArray(o.options)?o.options.join(" / "):"",sortable:!0},{field:"matched",headerName:"Matched",type:"boolean",flex:.5,sortable:!0}],I=o.filter(e=>e.name||e.description).map((e,o)=>({id:e.uuid||e.name||o,...e})),z=(0,r.b)();(0,l.useEffect)(()=>{let e=setTimeout(()=>{z.current&&k(!0)},200);return()=>clearTimeout(e)},[z]);let O=()=>{let e=z.current;if(e&&R)try{let o=e.getSelectedRows(),t=o&&"number"==typeof o.size&&o.size>0;H(t)}catch(e){H(!1)}},U=()=>{let e=z.current;if(!e||!R)return 0;try{let o=e.getSelectedRows();return o&&"number"==typeof o.size?o.size:0}catch(e){return 0}};(0,l.useEffect)(()=>{if(!R)return;let e=setInterval(()=>{O()},500);return()=>{clearInterval(e)}},[R]);let F=()=>{null==b||b()},L=()=>{let e;let o=z.current;if(!o||!R)return[];try{e=o.getSelectedRows()}catch(o){e=null}return(e&&"number"==typeof e.size&&e.size>0&&e?Array.from(e.values()):(()=>{let e;try{e=o.getRowModels()}catch(o){e=null}return e?Array.from(e.values()):[]})()).map((e,o)=>({question_no:e.description?e.name:o,question_text:e.description||e.name,response_options:e.options&&Array.isArray(e.options)?e.options.join(" / "):""}))},M=()=>{let e;let o=z.current;if(!o||!j.current||!R)return;try{e=o.getSelectedRows()}catch(o){e=null}if(!e||"number"!=typeof e.size)return;console.log("selectedIds:",e);let n=Array.from(e.values()).map((e,o)=>({question_no:e.description?e.name:o,question_text:e.description||e.name})),l=document.createElement("harmony-export");l.size="32px",l.instrument_name="".concat(t||"Selected Variables"," from harmonydata.ac.uk/discover"),l.questions=n,j.current.innerHTML="",j.current.appendChild(l)};return(0,l.useEffect)(()=>{if(!R)return;let e=setTimeout(()=>{M()},100);return()=>clearTimeout(e)},[R,E]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.default,{sx:{height:"100%",minHeight:400},children:I.length>0&&(0,n.jsx)(i.z,{apiRef:z,paginationMode:"server",rows:I,columns:D,checkboxSelection:!0,disableRowSelectionOnClick:!0,sortModel:[{field:"score",sort:"desc"}],sx:{background:"white",borderRadius:2,fontSize:14,height:"100%"},hideFooter:!0,pageSizeOptions:[20,50,100],showToolbar:!0,slots:{toolbar:()=>(0,n.jsxs)(d.default,{sx:{display:"flex",alignItems:"center",gap:2,p:1,mr:2},children:[(0,n.jsx)(a.e,{expanded:!0,style:{width:"100%"},children:(0,n.jsx)(s.X,{placeholder:"Search within variables",style:{background:"white",borderRadius:192,fontSize:14,margin:15,width:"calc(100% - 15px)",height:"auto"}})}),E&&(0,n.jsx)(c.A,{title:"Harmonise selected items",children:(0,n.jsx)(g.A,{size:"small",sx:{width:40,height:40},children:(0,n.jsx)(d.default,{ref:j,sx:{display:"flex",alignItems:"center",justifyContent:"center",width:20,height:20}})})}),(0,n.jsx)(c.A,{title:E?"Download ".concat(U()," selected questions"):"Download all questions",children:(0,n.jsx)(g.A,{ref:S,size:"small",onClick:C,sx:{width:40,height:40},children:(0,n.jsx)(v.A,{size:30})})})]})}})}),(0,n.jsx)(u.Ay,{open:!!m,anchorEl:m,onClose:F,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,n.jsxs)(h.A,{sx:{width:200},children:[(0,n.jsxs)(p.Ay,{onClick:()=>{let e=new Blob([JSON.stringify(L(),null,2)],{type:"application/json"}),o=URL.createObjectURL(e),t=document.createElement("a");t.href=o,t.download="questions.json",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(o),F()},sx:{cursor:"pointer"},children:[(0,n.jsx)(x.A,{children:(0,n.jsx)(y.A,{size:20})}),(0,n.jsx)(f.A,{primary:"Download as JSON"})]}),(0,n.jsxs)(p.Ay,{onClick:()=>{let e=new Blob([[["Question Number","Question Text","Response Options"],...L().map(e=>[e.question_no,e.question_text,e.response_options])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n")],{type:"text/csv"}),o=URL.createObjectURL(e),t=document.createElement("a");t.href=o,t.download="questions.csv",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(o),F()},sx:{cursor:"pointer"},children:[(0,n.jsx)(x.A,{children:(0,n.jsx)(A.A,{size:20})}),(0,n.jsx)(f.A,{primary:"Download as CSV"})]}),(0,n.jsxs)(p.Ay,{onClick:()=>{let e=L(),o=N.Wp.json_to_sheet(e),t=N.Wp.book_new();N.Wp.book_append_sheet(t,o,"Questions");let n=new Blob([N.M9(t,{bookType:"xlsx",type:"array"})],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),l=URL.createObjectURL(n),r=document.createElement("a");r.href=l,r.download="questions.xlsx",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(l),F()},sx:{cursor:"pointer"},children:[(0,n.jsx)(x.A,{children:(0,n.jsx)(w.A,{size:20})}),(0,n.jsx)(f.A,{primary:"Download as Excel"})]})]})})]})}function E(e){let{variables:o,studyName:t}=e,[r,i]=(0,l.useState)(!1),a=(0,l.useRef)(null),[s,u]=(0,l.useState)(null),h=()=>{u(null),i(!1)},p=(0,n.jsx)(k,{variables:o,studyName:t,downloadAnchorEl:s,onDownloadClick:e=>{console.log("handleDownloadClick",e.currentTarget),u(a.current)},onDownloadClose:()=>{u(null)}});return r?(0,n.jsxs)(m.A,{ref:a,open:!0,onClose:h,maxWidth:"xl",fullWidth:!0,sx:{"& .MuiDialog-paper":{height:"90vh",maxHeight:"90vh"}},children:[(0,n.jsxs)(C.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[(0,n.jsxs)(b.default,{variant:"h6",children:["Variables - ",t||"Study"]}),(0,n.jsx)(g.A,{onClick:h,size:"small",sx:{color:"text.secondary"},children:(0,n.jsx)(S.A,{size:20})})]}),(0,n.jsx)(j.A,{sx:{p:0,overflow:"hidden"},children:(0,n.jsx)(d.default,{sx:{height:"100%","& .MuiDataGrid-root":{borderRadius:0,maxHeight:"none",height:"100%"}},children:p})})]}):(0,n.jsxs)(d.default,{ref:a,sx:{position:"relative"},children:[(0,n.jsx)(d.default,{sx:{position:"absolute",top:8,right:8,zIndex:10,backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:1},children:(0,n.jsx)(c.A,{title:"Open in large view",children:(0,n.jsx)(g.A,{size:"small",onClick:()=>{u(null),i(!0)},children:(0,n.jsx)(R.A,{size:20})})})}),(0,n.jsx)(d.default,{sx:{"& .MuiDataGrid-root":{height:450,borderRadius:2}},children:p})]})}t(67699)},65776:(e,o,t)=>{"use strict";t.d(o,{A:()=>c});var n=t(95155),l=t(64665),r=t(68998),i=t(9561),a=t(5565),s=t(3485),d=t(12115);function c(e){let{name:o,url:t,logo:c,inactive:g,compact:u}=e,[h,p]=(0,d.useState)(c),[x,f]=(0,d.useState)(!1);(0,d.useEffect)(()=>{console.log('Resolving logo for organization: "'.concat(o,'"'));try{let e=(0,s.sM)(o,c);console.log('Resolved logo for organization "'.concat(o,'":'),e),p(e),f(!1)}catch(e){console.error('Error resolving logo for organization "'.concat(o,'":'),e),p(void 0)}},[o,c]);let m=h&&h.length>0&&!x;return(0,n.jsxs)(l.A,{elevation:0,sx:{display:"flex",borderRadius:"16px",overflow:"hidden",width:u?"220px":"280px",height:u?"75px":"85px",flexShrink:0,border:"1px solid",borderColor:"grey.200",cursor:t?"pointer":"default",transition:"all 0.2s",opacity:g?.5:1,"&:hover":t?{boxShadow:2,borderColor:"primary.main"}:{}},onClick:()=>{t&&window.open(t,"_blank","noopener,noreferrer")},children:[(0,n.jsx)(r.default,{sx:{flex:1,bgcolor:"rgba(0,0,0,0.03)",p:2,display:"flex",flexDirection:"column",justifyContent:"center"},children:(0,n.jsx)(i.default,{sx:{fontWeight:500,fontSize:u?"0.8rem":"0.9rem",lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",maxHeight:"3.9em",wordBreak:"break-word",paddingBottom:"1px"},children:o})}),m&&(0,n.jsx)(r.default,{sx:{width:"30%",bgcolor:"white",display:"flex",alignItems:"center",justifyContent:"center",p:1,borderLeft:"1px solid",borderColor:"grey.200"},children:(0,n.jsx)(a.default,{src:h,alt:o,width:u?40:50,height:u?40:50,style:{objectFit:"contain"},onError:()=>{console.error('Error loading image for organization "'.concat(o,'" from path: ').concat(h)),f(!0)},unoptimized:!0})})]})}},53452:(e,o,t)=>{"use strict";t.d(o,{A:()=>l});var n=t(22282);let l=(0,t(89142).Ay)(n.A,{shouldForwardProp:e=>"chipVariant"!==e})(e=>{let{theme:o,chipVariant:t="primary",onClick:n=()=>{}}=e;return{onClick:n,borderRadius:8,textTransform:"none",padding:"0 16px",height:32,minHeight:32,fontSize:"0.875rem",fontWeight:500,whiteSpace:"nowrap",lineHeight:1,..."primary"===t&&{backgroundColor:o.palette.primary.main,color:o.palette.primary.contrastText,"&:hover":{backgroundColor:o.palette.primary.dark}},..."secondary"===t&&{backgroundColor:o.palette.secondary.main,color:o.palette.secondary.contrastText,"&:hover":{backgroundColor:o.palette.secondary.dark}},..."dark"===t&&{backgroundColor:"#444653",color:"#FFFFFF","&:hover":{backgroundColor:"#363742"}}}})},5274:(e,o,t)=>{"use strict";t.d(o,{A:()=>j});var n=t(95155),l=t(12115),r=t(9561),i=t(68998),a=t(22282),s=t(78416),d=t(36417),c=t(47821),g=t(27753),u=t(90662),h=t(28222),p=t(65330),x=t(26214),f=t(2743),m=t(6327),C=t(51644),b=t(86453);function j(e){let{open:o,onClose:t,title:j,originalSearchResult:v,lookupData:y,finalProcessedData:A}=e,[w,S]=(0,l.useState)(!1),[R,N]=(0,l.useState)(null),[k,E]=(0,l.useState)(""),H=()=>{navigator.clipboard.writeText(JSON.stringify({originalSearchResult:v,lookupData:y,finalProcessedData:A},null,2))},D=(e,o)=>{N(e),E(o),S(!0)},I=e=>{let{data:o,label:t}=e;return o?(0,n.jsxs)(i.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,n.jsxs)(r.default,{variant:"body2",children:[(0,n.jsxs)("strong",{children:[t,":"]})," ",(e=>{var o,t;if(!e||"object"!=typeof e)return"Invalid data";let n=Object.keys(e).length,l=e.title||(null===(o=e.dataset_schema)||void 0===o?void 0:o.name)||(null===(t=e.extra_data)||void 0===t?void 0:t.name)||e.name||"Unnamed";return"".concat(l," (").concat(n," top-level properties)")})(o)]}),(0,n.jsx)(a.A,{size:"small",variant:"outlined",onClick:()=>D(o,"".concat(j," - ").concat(t)),sx:{ml:2},children:"View JSON"})]}):(0,n.jsxs)(r.default,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:["No ",t.toLowerCase()," data available"]})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.A,{open:o,onClose:t,maxWidth:"md",fullWidth:!0,sx:{"& .MuiDialog-paper":{maxHeight:"80vh"}},children:[(0,n.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[(0,n.jsxs)(r.default,{variant:"h6",component:"div",children:["Debug Data: ",j]}),(0,n.jsxs)(i.default,{children:[(0,n.jsx)(c.A,{onClick:H,size:"small",sx:{mr:1},title:"Copy all data to clipboard",children:(0,n.jsx)(f.A,{fontSize:"small"})}),(0,n.jsx)(c.A,{onClick:t,size:"small",children:(0,n.jsx)(m.A,{fontSize:"small"})})]})]}),(0,n.jsx)(g.A,{dividers:!0,sx:{p:3},children:o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.default,{variant:"subtitle1",gutterBottom:!0,sx:{mb:3},children:"Data Pipeline Overview"}),(0,n.jsxs)(i.default,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,n.jsxs)(u.A,{defaultExpanded:!1,children:[(0,n.jsx)(h.A,{expandIcon:(0,n.jsx)(C.A,{}),children:(0,n.jsx)(r.default,{variant:"subtitle2",sx:{fontWeight:600},children:"1. Original Search Result"})}),(0,n.jsxs)(p.A,{children:[(0,n.jsx)(r.default,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"The raw data returned from the search API when this result was found."}),(0,n.jsx)(I,{data:v,label:"Original Search Result"})]})]}),(0,n.jsxs)(u.A,{defaultExpanded:!1,children:[(0,n.jsx)(h.A,{expandIcon:(0,n.jsx)(C.A,{}),children:(0,n.jsx)(r.default,{variant:"subtitle2",sx:{fontWeight:600},children:"2. Lookup Data"})}),(0,n.jsxs)(p.A,{children:[(0,n.jsx)(r.default,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"The full data fetched from the lookup API using the UUID from the search result."}),(0,n.jsx)(I,{data:y,label:"Lookup Data"})]})]}),(0,n.jsxs)(u.A,{defaultExpanded:!1,children:[(0,n.jsx)(h.A,{expandIcon:(0,n.jsx)(C.A,{}),children:(0,n.jsx)(r.default,{variant:"subtitle2",sx:{fontWeight:600},children:"3. Final Processed Data"})}),(0,n.jsxs)(p.A,{children:[(0,n.jsx)(r.default,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"The processed and formatted data that is displayed in the StudyDetail component."}),(0,n.jsx)(I,{data:A,label:"Final Processed Data"})]})]})]}),(0,n.jsx)(i.default,{sx:{mt:3,p:2,bgcolor:"grey.50",borderRadius:1},children:(0,n.jsxs)(r.default,{variant:"caption",color:"text.secondary",children:[(0,n.jsx)("strong",{children:"Data Flow:"})," Original Search Result → Lookup API → Processing & Mapping → StudyDetail Component"]})})]})}),(0,n.jsxs)(x.A,{children:[(0,n.jsx)(a.A,{onClick:H,startIcon:(0,n.jsx)(f.A,{}),children:"Copy All Data"}),(0,n.jsx)(a.A,{onClick:t,variant:"contained",children:"Close"})]})]}),(0,n.jsx)(b.A,{open:w,onClose:()=>S(!1),data:R,title:k})]})}},3485:(e,o,t)=>{"use strict";t.d(o,{sM:()=>i,xC:()=>a});var n=t(2818);let l={"Office for National Statistics":"ONS","National Health Service":"NHS","Department for Education":"DfE","Department of Health":"DoH","Department of Health and Social Care":"DHSC","Medical Research Council":"MRC","National Institute for Health and Care Excellence":"NICE","National Institute for Health Research":"NIHR","Economic and Social Research Council":"ESRC","Arts and Humanities Research Council":"AHRC","Biotechnology and Biological Sciences Research Council":"BBSRC","Engineering and Physical Sciences Research Council":"EPSRC","Natural Environment Research Council":"NERC","Science and Technology Facilities Council":"STFC","UK Research and Innovation":"UKRI","University College London":"UCL","University of Oxford":"Oxford","University of Cambridge":"Cambridge","Imperial College London":"Imperial","King's College London":"KCL","London School of Economics":"LSE","Edinburgh University":"Edin","University of Manchester":"Manchester","University of Bristol":"Bristol","University of Warwick":"Warwick","World Health Organization":"WHO","United Nations":"UN","European Union":"EU_flag","Organisation for Economic Co-operation and Development":"OECD","Wellcome Trust":"Wellcome","Nuffield Foundation":"Nuffield","British Heart Foundation":"BHF","Cancer Research UK":"CRUK","Alzheimer's Society":"Alzheimer","Diabetes UK":"Diabetes","National Institute of Mental Health":"NIMH","National Institutes of Health":"NIH","Centers for Disease Control and Prevention":"CDC","Social Care Institute for Excellence":"SCIE"},r={MRC:"/logos/MRC.png",ESRC:"/logos/ESRC.png",UKRI:"/logos/UKRI.png",NERC:"/logos/NERC.png",STFC:"/logos/STFC.png",AHRC:"/logos/AHRC.png",BBSRC:"/logos/BBSRC.png",EPSRC:"/logos/EPSRC.png",NIHR:"/logos/NIHR.png",BHF:"/logos/BHF.png",CRUK:"/logos/CRUK.png",Wellcome:"/logos/Wellcome.png",Nuffield:"/logos/Nuffield.png",ONS:"/logos/ONS.png",NHS:"/logos/NHS.png",DfE:"/logos/DfE.png",DHSC:"/logos/DHSC.png",DoHSC:"/logos/DHSC.png",NICE:"/logos/NICE.png",SCIE:"/logos/SCIE.png",HOUK:"/logos/HOUK.png",UCL:"/logos/UCL.png",Oxford:"/logos/Oxford.png",Cambridge:"/logos/Cambridge.png",Imperial:"/logos/Imperial.png",KCL:"/logos/KCL.png",LSE:"/logos/LSE.png",Edin:"/logos/Edin.png",NIH:"/logos/NIH.png",NIMH:"/logos/NIMH.png",NIDA:"/logos/NIDA.png",NIAAA:"/logos/NIAAA.png",NSF:"/logos/NSF.png",CDC:"/logos/CDC.png",FDA:"/logos/FDA.png",EU_flag:"/logos/EU_flag.png",EUCom:"/logos/EUCom.png",ERC:"/logos/ERC.png",H2020:"/logos/H2020.png",HorizonEU:"/logos/HorizonEU.png",WHO:"/logos/WHO.png",VR:"/logos/VR.png",BMBF:"/logos/BMBF.png",DFG:"/logos/DFG.png",CNRS:"/logos/CNRS.png",INSERM:"/logos/INSERM.png",ARC:"/logos/ARC.png",NHMRC:"/logos/NHMRC.png",CIHR:"/logos/CIHR.png",Uni:"/logos/university.png",Hosp:"/logos/hospital.png",Gov:"/logos/government.png",NGO:"/logos/ngo.png",Charity:"/logos/charity.png",Rayne:"/logos/Rayne.png",SRFound:"/logos/SRFound.png",BCTrust:"/logos/BCTrust.png",UKHF:"/logos/UKHF.png",RCN:"/logos/RCN.png",KingsFund:"/logos/KingsFund.png",MHRN:"/logos/MHRN.png",McPF:"/logos/McPF.png",BLF:"/logos/BLF.png",CLAHRC:"/logos/CLAHRC.png",TNA:"/logos/TNA.png",NAO:"/logos/NAO.png",RCP:"/logos/RCP.png",SU:"/logos/SU.png",SLaM:"/logos/SLaM.png"};function i(e,o){if(o&&o.trim().length>0)return console.log("Using provided logo for ".concat(e||"Unknown",": ").concat(o)),o;if(!e||0===e.trim().length){console.log("No organization name provided to findOrganizationLogo");return}if(e.includes(" ")&&e.split(" ").every(e=>e.length<=6)){for(let o of(console.log('Organization name "'.concat(e,'" appears to be a space-delimited list of abbreviations')),e.split(" ").map(e=>e.trim()).filter(e=>e.length>0))){if(r[o])return console.log('Found direct logo match for abbreviation "'.concat(o,'": ').concat(r[o])),r[o];for(let[e,t]of Object.entries(l))if(e.toLowerCase().includes(o.toLowerCase())||t.toLowerCase()===o.toLowerCase()){let n="/logos/".concat(t,".png");return console.log('Found partial match for "'.concat(o,'" with known organization "').concat(e,'" (').concat(t,"): ").concat(n)),n}}console.log('No logo match found for any part of "'.concat(e,'"'));return}let t=l[e];if(t){let o="/logos/".concat(t,".png");return console.log('Found direct organization match for "'.concat(e,'": ').concat(o)),o}if(r[e])return console.log('Found direct logo match for organization abbreviation "'.concat(e,'": ').concat(r[e])),r[e];for(let[o,t]of Object.entries(l))if(e.toLowerCase().includes(o.toLowerCase())||e.toLowerCase().includes(t.toLowerCase())){let n="/logos/".concat(t,".png");return console.log('Found partial match for "'.concat(e,'" with known organization "').concat(o,'": ').concat(n)),n}console.log('No logo match found for "'.concat(e,'"'))}function a(){return n.env.GITHUB_PAGES_DEPLOYMENT?"/search/":window.location.pathname.startsWith("/search")?"/search/":"/"}},67699:()=>{}}]);