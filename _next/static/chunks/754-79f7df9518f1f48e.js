(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[754],{83686:()=>{},32383:()=>{},86453:(e,t,l)=>{"use strict";l.d(t,{A:()=>f});var s=l(95155),n=l(78416),i=l(36417),a=l(9561),r=l(68998),o=l(47821),d=l(27753),c=l(26214),u=l(22282),x=l(2743),h=l(6327),p=l(2599);function f(e){let{open:t,onClose:l,data:f,title:m="Debug Data"}=e,j=()=>{navigator.clipboard.writeText(JSON.stringify(f,null,2))};return(0,s.jsxs)(n.A,{open:t,onClose:l,maxWidth:"lg",fullWidth:!0,sx:{"& .MuiDialog-paper":{maxHeight:"90vh",height:"90vh"}},children:[(0,s.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[(0,s.jsx)(a.default,{variant:"h6",component:"div",children:m}),(0,s.jsxs)(r.default,{children:[(0,s.jsx)(o.A,{onClick:j,size:"small",sx:{mr:1},title:"Copy JSON to clipboard",children:(0,s.jsx)(x.A,{fontSize:"small"})}),(0,s.jsx)(o.A,{onClick:l,size:"small",children:(0,s.jsx)(h.A,{fontSize:"small"})})]})]}),(0,s.jsx)(d.A,{dividers:!0,sx:{p:0,height:"100%"},children:t&&(0,s.jsx)(r.default,{sx:{height:"100%",overflow:"auto","& .w-json-view-container":{backgroundColor:"#fafafa",fontSize:"13px",fontFamily:'"SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace'}},children:(0,s.jsx)(p.Ay,{value:f,collapsed:2,displayObjectSize:!0,displayDataTypes:!0,enableClipboard:!0,style:{backgroundColor:"#fafafa",padding:"16px"}})})}),(0,s.jsxs)(c.A,{children:[(0,s.jsx)(u.A,{onClick:j,startIcon:(0,s.jsx)(x.A,{}),children:"Copy JSON"}),(0,s.jsx)(u.A,{onClick:l,variant:"contained",children:"Close"})]})]})}},23193:(e,t,l)=>{"use strict";l.d(t,{A:()=>Z});var s=l(95155),n=l(68998),i=l(47821),a=l(9561),r=l(35256),o=l(5565),d=l(90675),c=l(52488),u=l(32645),x=l(12115),h=l(53452),p=l(64665),f=l(3485);function m(e){let{name:t,url:l,logo:i}=e,[r,d]=(0,x.useState)(i),[c,u]=(0,x.useState)(!1);(0,x.useEffect)(()=>{console.log('Resolving logo for data catalog: "'.concat(t,'"'));try{let e=(0,f.sM)(t,i);console.log('Resolved logo for data catalog "'.concat(t,'":'),e),d(e),u(!1)}catch(e){console.error('Error resolving logo for data catalog "'.concat(t,'":'),e),d(void 0)}},[t,i]);let h=r&&r.length>0&&!c;return(0,s.jsxs)(p.A,{elevation:0,sx:{display:"flex",borderRadius:"16px",overflow:"hidden",width:"280px",height:"80px",flexShrink:0,border:"1px solid",borderColor:"grey.200",cursor:l?"pointer":"default",transition:"all 0.2s","&:hover":l?{boxShadow:2,borderColor:"primary.main"}:{}},onClick:()=>{l&&window.open(l,"_blank","noopener,noreferrer")},children:[(0,s.jsx)(n.default,{sx:{flex:1,bgcolor:"rgba(0,0,0,0.03)",p:2,display:"flex",flexDirection:"column",justifyContent:"center"},children:(0,s.jsx)(a.default,{sx:{fontWeight:500,fontSize:"0.9rem",lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",maxHeight:"3.7em",wordBreak:"break-word"},children:t})}),h&&(0,s.jsx)(n.default,{sx:{width:"30%",bgcolor:"white",display:"flex",alignItems:"center",justifyContent:"center",p:1,borderLeft:"1px solid",borderColor:"grey.200"},children:(0,s.jsx)(o.default,{src:r,alt:t,width:50,height:50,style:{objectFit:"contain"},onError:()=>{console.error('Error loading image for data catalog "'.concat(t,'" from path: ').concat(r)),u(!0)},unoptimized:!0})})]})}var j=l(65776),g=l(51857),b=l(67247),y=l(26536),v=l(30997),A=l(57165),C=l(53326),w=l(72926),k=l(66917),S=l(4918),z=l(41983),R=l(2091),D=l(60391),I=l(78416),O=l(36417),E=l(27753),L=l(10319),W=l(10358),T=l(64364),_=l(71569),N=l(689),M=l(48694),V=l(7660);function U(e){let{variables:t,studyName:l,downloadAnchorEl:a,onDownloadClick:r,onDownloadClose:o}=e,d=(0,x.useRef)(null),c=(0,x.useRef)(null),[u,h]=(0,x.useState)(!1),[p,f]=(0,x.useState)(!1);console.log("variables passed:",t),(0,x.useEffect)(()=>{if(customElements.get("harmony-export"))return;let e=document.createElement("script");return e.src="/app/js/harmony-export.js",e.async=!0,document.body.appendChild(e),()=>{document.body.contains(e)&&document.body.removeChild(e)}},[]);let m=[{field:"description",headerName:"Description / Code",flex:2,valueGetter:(e,t)=>(t.score?"[MATCHING] ":"")+(t.description||t.name)+(t.description&&t.name?" ("+t.name+")":""),sortable:!1},{field:"options",headerName:"Response Options",flex:1,valueGetter:(e,t)=>t.options&&Array.isArray(t.options)?t.options.join(" / "):"",sortable:!1}],j=t.filter(e=>e.name||e.description).map((e,t)=>({id:e.uuid||e.name||t,...e})),g=(0,y.b)();(0,x.useEffect)(()=>{let e=setTimeout(()=>{g.current&&h(!0)},200);return()=>clearTimeout(e)},[g]);let b=()=>{let e=g.current;if(e&&u)try{let t=e.getSelectedRows(),l=t&&"number"==typeof t.size&&t.size>0;f(l)}catch(e){f(!1)}},I=()=>{let e=g.current;if(!e||!u)return 0;try{let t=e.getSelectedRows();return t&&"number"==typeof t.size?t.size:0}catch(e){return 0}};(0,x.useEffect)(()=>{if(!u)return;let e=setInterval(()=>{b()},500);return()=>{clearInterval(e)}},[u]);let O=()=>{null==o||o()},E=()=>{let e;let t=g.current;if(!t||!u)return[];try{e=t.getSelectedRows()}catch(t){e=null}return(e&&"number"==typeof e.size&&e.size>0&&e?Array.from(e.values()):(()=>{let e;try{e=t.getRowModels()}catch(t){e=null}return e?Array.from(e.values()):[]})()).map((e,t)=>({question_no:e.description?e.name:t,question_text:e.description||e.name,response_options:e.options&&Array.isArray(e.options)?e.options.join(" / "):""}))},N=()=>{let e;let t=g.current;if(!t||!d.current||!u)return;try{e=t.getSelectedRows()}catch(t){e=null}if(!e||"number"!=typeof e.size)return;console.log("selectedIds:",e);let s=Array.from(e.values()).map((e,t)=>({question_no:e.description?e.name:t,question_text:e.description||e.name})),n=document.createElement("harmony-export");n.size="32px",n.instrument_name="".concat(l||"Selected Variables"," from harmonydata.ac.uk/discover"),n.questions=s,d.current.innerHTML="",d.current.appendChild(n)};return(0,x.useEffect)(()=>{if(!u)return;let e=setTimeout(()=>{N()},100);return()=>clearTimeout(e)},[u,p]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.default,{sx:{height:"100%",minHeight:400},children:j.length>0&&(0,s.jsx)(v.z,{autoPageSize:!0,apiRef:g,rows:j,columns:m,checkboxSelection:!0,disableRowSelectionOnClick:!0,sortModel:[{field:"score",sort:"desc"}],sx:{background:"white",borderRadius:2,fontSize:14,height:"100%"},hideFooterSelectedRowCount:!0,pageSizeOptions:[10,25,50],showToolbar:!0,slots:{toolbar:()=>(0,s.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",gap:2,p:1,mr:2},children:[(0,s.jsx)(A.e,{expanded:!0,style:{width:"100%"},children:(0,s.jsx)(C.X,{placeholder:"Search within variables",style:{background:"white",borderRadius:192,fontSize:14,margin:15,width:"calc(100% - 15px)",height:"auto"}})}),p&&(0,s.jsx)(w.A,{title:"Harmonise selected items",children:(0,s.jsx)(i.A,{size:"small",sx:{width:40,height:40},children:(0,s.jsx)(n.default,{ref:d,sx:{display:"flex",alignItems:"center",justifyContent:"center",width:20,height:20}})})}),(0,s.jsx)(w.A,{title:p?"Download ".concat(I()," selected questions"):"Download all questions",children:(0,s.jsx)(i.A,{ref:c,size:"small",onClick:r,sx:{width:40,height:40},children:(0,s.jsx)(L.A,{size:30})})})]})}})}),(0,s.jsx)(k.Ay,{open:!!a,anchorEl:a,onClose:O,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,s.jsxs)(S.A,{sx:{width:200},children:[(0,s.jsxs)(z.Ay,{onClick:()=>{let e=new Blob([JSON.stringify(E(),null,2)],{type:"application/json"}),t=URL.createObjectURL(e),l=document.createElement("a");l.href=t,l.download="questions.json",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(t),O()},sx:{cursor:"pointer"},children:[(0,s.jsx)(R.A,{children:(0,s.jsx)(W.A,{size:20})}),(0,s.jsx)(D.A,{primary:"Download as JSON"})]}),(0,s.jsxs)(z.Ay,{onClick:()=>{let e=new Blob([[["Question Number","Question Text","Response Options"],...E().map(e=>[e.question_no,e.question_text,e.response_options])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),l=document.createElement("a");l.href=t,l.download="questions.csv",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(t),O()},sx:{cursor:"pointer"},children:[(0,s.jsx)(R.A,{children:(0,s.jsx)(T.A,{size:20})}),(0,s.jsx)(D.A,{primary:"Download as CSV"})]}),(0,s.jsxs)(z.Ay,{onClick:()=>{let e=E(),t=V.Wp.json_to_sheet(e),l=V.Wp.book_new();V.Wp.book_append_sheet(l,t,"Questions");let s=new Blob([V.M9(l,{bookType:"xlsx",type:"array"})],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=URL.createObjectURL(s),i=document.createElement("a");i.href=n,i.download="questions.xlsx",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),O()},sx:{cursor:"pointer"},children:[(0,s.jsx)(R.A,{children:(0,s.jsx)(_.A,{size:20})}),(0,s.jsx)(D.A,{primary:"Download as Excel"})]})]})})]})}function P(e){let{variables:t,studyName:l}=e,[r,o]=(0,x.useState)(!1),d=(0,x.useRef)(null),[c,u]=(0,x.useState)(null),h=()=>{u(null),o(!1)},p=(0,s.jsx)(U,{variables:t,studyName:l,downloadAnchorEl:c,onDownloadClick:e=>{console.log("handleDownloadClick",e.currentTarget),u(d.current)},onDownloadClose:()=>{u(null)}});return r?(0,s.jsxs)(I.A,{ref:d,open:!0,onClose:h,maxWidth:"xl",fullWidth:!0,sx:{"& .MuiDialog-paper":{height:"90vh",maxHeight:"90vh"}},children:[(0,s.jsxs)(O.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[(0,s.jsxs)(a.default,{variant:"h6",children:["Variables - ",l||"Study"]}),(0,s.jsx)(i.A,{onClick:h,size:"small",sx:{color:"text.secondary"},children:(0,s.jsx)(N.A,{size:20})})]}),(0,s.jsx)(E.A,{sx:{p:0,overflow:"hidden"},children:(0,s.jsx)(n.default,{sx:{height:"100%","& .MuiDataGrid-root":{borderRadius:0,maxHeight:"none",height:"100%"}},children:p})})]}):(0,s.jsxs)(n.default,{ref:d,sx:{position:"relative"},children:[(0,s.jsx)(n.default,{sx:{position:"absolute",top:8,right:8,zIndex:10,backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:1},children:(0,s.jsx)(w.A,{title:"Open in large view",children:(0,s.jsx)(i.A,{size:"small",onClick:()=>{u(null),o(!0)},children:(0,s.jsx)(M.A,{size:20})})})}),(0,s.jsx)(n.default,{sx:{"& .MuiDataGrid-root":{height:450,borderRadius:2}},children:p})]})}l(67699);var F=l(22282),q=l(90662),B=l(28222),H=l(65330),J=l(26214),G=l(2743),Q=l(6327),X=l(51644),Y=l(86453);function K(e){let{open:t,onClose:l,title:r,originalSearchResult:o,lookupData:d,finalProcessedData:c}=e,[u,h]=(0,x.useState)(!1),[p,f]=(0,x.useState)(null),[m,j]=(0,x.useState)(""),g=()=>{navigator.clipboard.writeText(JSON.stringify({originalSearchResult:o,lookupData:d,finalProcessedData:c},null,2))},b=(e,t)=>{f(e),j(t),h(!0)},y=e=>{let{data:t,label:l}=e;return t?(0,s.jsxs)(n.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,s.jsxs)(a.default,{variant:"body2",children:[(0,s.jsxs)("strong",{children:[l,":"]})," ",(e=>{var t,l;if(!e||"object"!=typeof e)return"Invalid data";let s=Object.keys(e).length,n=e.title||(null===(t=e.dataset_schema)||void 0===t?void 0:t.name)||(null===(l=e.extra_data)||void 0===l?void 0:l.name)||e.name||"Unnamed";return"".concat(n," (").concat(s," top-level properties)")})(t)]}),(0,s.jsx)(F.A,{size:"small",variant:"outlined",onClick:()=>b(t,"".concat(r," - ").concat(l)),sx:{ml:2},children:"View JSON"})]}):(0,s.jsxs)(a.default,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:["No ",l.toLowerCase()," data available"]})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(I.A,{open:t,onClose:l,maxWidth:"md",fullWidth:!0,sx:{"& .MuiDialog-paper":{maxHeight:"80vh"}},children:[(0,s.jsxs)(O.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[(0,s.jsxs)(a.default,{variant:"h6",component:"div",children:["Debug Data: ",r]}),(0,s.jsxs)(n.default,{children:[(0,s.jsx)(i.A,{onClick:g,size:"small",sx:{mr:1},title:"Copy all data to clipboard",children:(0,s.jsx)(G.A,{fontSize:"small"})}),(0,s.jsx)(i.A,{onClick:l,size:"small",children:(0,s.jsx)(Q.A,{fontSize:"small"})})]})]}),(0,s.jsx)(E.A,{dividers:!0,sx:{p:3},children:t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.default,{variant:"subtitle1",gutterBottom:!0,sx:{mb:3},children:"Data Pipeline Overview"}),(0,s.jsxs)(n.default,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,s.jsxs)(q.A,{defaultExpanded:!1,children:[(0,s.jsx)(B.A,{expandIcon:(0,s.jsx)(X.A,{}),children:(0,s.jsx)(a.default,{variant:"subtitle2",sx:{fontWeight:600},children:"1. Original Search Result"})}),(0,s.jsxs)(H.A,{children:[(0,s.jsx)(a.default,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"The raw data returned from the search API when this result was found."}),(0,s.jsx)(y,{data:o,label:"Original Search Result"})]})]}),(0,s.jsxs)(q.A,{defaultExpanded:!1,children:[(0,s.jsx)(B.A,{expandIcon:(0,s.jsx)(X.A,{}),children:(0,s.jsx)(a.default,{variant:"subtitle2",sx:{fontWeight:600},children:"2. Lookup Data"})}),(0,s.jsxs)(H.A,{children:[(0,s.jsx)(a.default,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"The full data fetched from the lookup API using the UUID from the search result."}),(0,s.jsx)(y,{data:d,label:"Lookup Data"})]})]}),(0,s.jsxs)(q.A,{defaultExpanded:!1,children:[(0,s.jsx)(B.A,{expandIcon:(0,s.jsx)(X.A,{}),children:(0,s.jsx)(a.default,{variant:"subtitle2",sx:{fontWeight:600},children:"3. Final Processed Data"})}),(0,s.jsxs)(H.A,{children:[(0,s.jsx)(a.default,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"The processed and formatted data that is displayed in the StudyDetail component."}),(0,s.jsx)(y,{data:c,label:"Final Processed Data"})]})]})]}),(0,s.jsx)(n.default,{sx:{mt:3,p:2,bgcolor:"grey.50",borderRadius:1},children:(0,s.jsxs)(a.default,{variant:"caption",color:"text.secondary",children:[(0,s.jsx)("strong",{children:"Data Flow:"})," Original Search Result → Lookup API → Processing & Mapping → StudyDetail Component"]})})]})}),(0,s.jsxs)(J.A,{children:[(0,s.jsx)(F.A,{onClick:g,startIcon:(0,s.jsx)(G.A,{}),children:"Copy All Data"}),(0,s.jsx)(F.A,{onClick:l,variant:"contained",children:"Close"})]})]}),(0,s.jsx)(Y.A,{open:u,onClose:()=>h(!1),data:p,title:m})]})}let Z=(0,x.memo)(e=>{var t;let{study:l,isDrawerView:p=!1,onTopicClick:f,debugData:y}=e,[v,A]=(0,x.useState)(!1),[C,w]=(0,x.useState)(!1),[k,S]=(0,x.useState)(!1),[z,R]=(0,x.useState)(!1),[D,I]=(0,x.useState)(!1);(0,x.useEffect)(()=>{I(!1)},[l.image]);let[O,E]=(0,x.useState)(!1),L=l.topics.filter(e=>"string"==typeof e&&!e.includes("<a title=")&&!e.startsWith("<")),W=L.length>0,T=l.instruments&&l.instruments.length>0,_=l.matchedVariables&&l.matchedVariables.length>0||l.allVariables&&l.allVariables.length>0,N=l.additionalLinks&&l.additionalLinks.length>0,M=(0,x.useMemo)(()=>{console.log("study var deduping :",l.matchedVariables,l);let e=l.matchedVariables||[],t=l.allVariables||[],s=new Map;return e.forEach(e=>{let t=e.uuid||e.name;t&&s.set(t,e)}),t.forEach(e=>{let t=e.uuid||e.name;!t||s.has(t)||s.set(t,e)}),Array.from(s.values())},[l.matchedVariables,l.allVariables]);return(0,s.jsxs)(n.default,{sx:{p:3,width:"100%",height:"100%",overflowY:"auto",flex:1,display:"flex",flexDirection:"column"},children:[p&&(0,s.jsx)(n.default,{sx:{display:"flex",justifyContent:"flex-end",mb:2},children:(0,s.jsx)(i.A,{size:"small",onClick:()=>E(!0),sx:{opacity:.6,"&:hover":{opacity:1},color:"text.secondary"},children:(0,s.jsx)(d.A,{size:18})})}),!p&&(0,s.jsxs)(n.default,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:2,mb:4},children:[(0,s.jsx)(n.default,{sx:{flex:1},children:(0,s.jsxs)(n.default,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},children:[(0,s.jsx)(a.default,{variant:"h4",gutterBottom:!0,sx:{flex:1,mr:1},children:l.title}),(0,s.jsx)(i.A,{size:"small",onClick:()=>E(!0),sx:{opacity:.6,"&:hover":{opacity:1},color:"text.secondary",mt:.5},children:(0,s.jsx)(d.A,{size:18})})]})}),l.image&&!D&&(0,s.jsx)(n.default,{sx:{width:100,height:100,position:"relative",borderRadius:"8px",overflow:"hidden",flexShrink:0},children:(0,s.jsx)(o.default,{src:l.image,alt:l.title,fill:!0,style:{objectFit:"contain"},onError:()=>I(!0),unoptimized:!0})})]}),l.description&&(0,s.jsxs)(n.default,{sx:{mb:4},children:[(0,s.jsxs)(r.A,{in:z,collapsedSize:"130px",children:[" ",(0,s.jsx)(g.A,{text:l.description,paragraphProps:{variant:"body1",sx:{mb:2}},compact:!0})]}),l.description.length>300&&(0,s.jsxs)(n.default,{onClick:()=>R(!z),sx:{display:"flex",alignItems:"center",color:"primary.main",cursor:"pointer",mt:1},children:[(0,s.jsx)(a.default,{variant:"body2",color:"primary",sx:{fontWeight:500,mr:1},children:z?"Show Less":"Show More"}),z?(0,s.jsx)(c.A,{size:16}):(0,s.jsx)(u.A,{size:16})]})]}),(0,s.jsxs)(n.default,{sx:{display:"flex",flexDirection:"column",gap:3,mb:4},children:[l.publisher&&(0,s.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(a.default,{variant:"subtitle2",children:"Publisher:"}),(0,s.jsx)(j.A,{name:l.publisher.name,url:l.publisher.url,logo:l.publisher.logo})]}),l.geographicCoverage&&(0,s.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(a.default,{variant:"subtitle2",children:"Geographic Coverage:"}),(0,s.jsx)(a.default,{children:l.geographicCoverage})]}),l.temporalCoverage&&(0,s.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(a.default,{variant:"subtitle2",children:"Temporal Coverage:"}),(0,s.jsx)(a.default,{children:(e=>{if(!e)return"Not specified";if(e.includes("..")){let[t,l]=e.split("..");return l?"".concat(t," - ").concat(l):"".concat(t," - Present (Ongoing)")}return e})(l.temporalCoverage)})]}),l.sampleSize&&"Not specified"!==l.sampleSize&&(0,s.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(a.default,{variant:"subtitle2",children:"Sample Size:"}),(0,s.jsx)(a.default,{children:l.sampleSize})]}),l.ageCoverage&&(0,s.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(a.default,{variant:"subtitle2",children:"Age Coverage:"}),(0,s.jsx)(a.default,{children:l.ageCoverage})]}),l.resourceType&&(0,s.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(a.default,{variant:"subtitle2",children:"Resource Type:"}),(0,s.jsx)(a.default,{children:l.resourceType})]}),l.studyDesign&&l.studyDesign.length>0&&(0,s.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(a.default,{variant:"subtitle2",children:"Study Design:"}),(0,s.jsx)(a.default,{children:l.studyDesign.join(", ")})]})]}),l.funders&&l.funders.length>0&&(0,s.jsxs)(n.default,{sx:{mb:4,flexShrink:0},children:[(0,s.jsx)(a.default,{variant:"subtitle2",gutterBottom:!0,children:"Funders:"}),(0,s.jsx)(n.default,{sx:{display:"flex",overflowX:"auto",gap:2,pb:1,"&::-webkit-scrollbar":{height:6},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,0.2)",borderRadius:3}},children:l.funders.map((e,t)=>(0,s.jsx)(j.A,{name:e.name,url:e.url,logo:e.logo},"".concat(e.name,"-").concat(t)))})]}),l.dataCatalogs&&l.dataCatalogs.length>0&&(0,s.jsxs)(n.default,{sx:{mb:4,flexShrink:0},children:[(0,s.jsx)(a.default,{variant:"subtitle2",gutterBottom:!0,children:"Available in Data Catalogs:"}),(0,s.jsx)(n.default,{sx:{display:"flex",overflowX:"auto",gap:2,pb:1,"&::-webkit-scrollbar":{height:6},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,0.2)",borderRadius:3}},children:l.dataCatalogs.map((e,t)=>(0,s.jsx)(m,{name:e.name,url:e.url,logo:e.logo},"".concat(e.name,"-").concat(t)))})]}),N&&(0,s.jsxs)(n.default,{sx:{mb:4,flexShrink:0},children:[(0,s.jsx)(h.A,{fullWidth:!0,chipVariant:"secondary",endIcon:k?(0,s.jsx)(c.A,{size:16,style:{fill:"#004735",stroke:"none"}}):(0,s.jsx)(u.A,{size:16,style:{fill:"#004735",stroke:"none"}}),sx:{justifyContent:"space-between",py:2,height:"auto",mb:2},onClick:()=>S(!k),children:"Related Links & Papers"}),(0,s.jsx)(r.A,{in:k,children:k&&(0,s.jsx)(n.default,{sx:{display:"flex",flexDirection:"column",gap:2,mb:2},children:null===(t=l.additionalLinks)||void 0===t?void 0:t.map((e,t)=>(0,s.jsx)(b.A,{url:e},"link-".concat(t)))})})]}),W&&(0,s.jsxs)(n.default,{sx:{mb:4},children:[(0,s.jsx)(a.default,{variant:"subtitle2",gutterBottom:!0,children:"Topics:"}),(0,s.jsx)(n.default,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:L.map((e,t)=>(0,s.jsx)(h.A,{onClick:t=>{t.stopPropagation(),f&&f(e)},sx:{cursor:"pointer"},children:e},"topic-".concat(t)))})]}),T&&(0,s.jsxs)(n.default,{sx:{mb:4},children:[(0,s.jsx)(a.default,{variant:"subtitle2",gutterBottom:!0,children:"Instruments:"}),(0,s.jsx)(n.default,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:l.instruments.map((e,t)=>(0,s.jsx)(h.A,{chipVariant:"secondary",children:e},"instrument-".concat(t)))})]}),(0,s.jsxs)(n.default,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,s.jsx)(h.A,{fullWidth:!0,chipVariant:"secondary",endIcon:C?(0,s.jsx)(c.A,{size:16,style:{fill:"#004735",stroke:"none"}}):(0,s.jsx)(u.A,{size:16,style:{fill:"#004735",stroke:"none"}}),sx:{justifyContent:"space-between",py:2,height:"auto"},onClick:()=>w(!C),children:"AI Summary"}),(0,s.jsx)(r.A,{in:C,children:(0,s.jsx)(n.default,{sx:{p:2,bgcolor:"rgba(0, 0, 0, 0.02)",borderRadius:2,mb:2},children:(0,s.jsx)(a.default,{children:"AI summary not available yet."})})}),_&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.A,{fullWidth:!0,chipVariant:"secondary",endIcon:v?(0,s.jsx)(c.A,{size:16,style:{fill:"#004735",stroke:"none"}}):(0,s.jsx)(u.A,{size:16,style:{fill:"#004735",stroke:"none"}}),sx:{justifyContent:"space-between",py:2,height:"auto"},onClick:()=>A(!v),children:"Related Variables found within study"}),(0,s.jsx)(r.A,{in:v,children:(0,s.jsx)(n.default,{sx:{p:2,bgcolor:"rgba(0, 0, 0, 0.02)",borderRadius:2,mb:2},children:(0,s.jsx)(P,{variables:M,studyName:l.title})})})]})]}),(0,s.jsx)(K,{open:O,onClose:()=>E(!1),title:l.title,originalSearchResult:null==y?void 0:y.originalSearchResult,lookupData:null==y?void 0:y.lookupData,finalProcessedData:l})]})})},67699:()=>{}}]);