(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9079],{70460:(e,o,r)=>{Promise.resolve().then(r.bind(r,56232))},56232:(e,o,r)=>{"use strict";r.r(o),r.d(o,{default:()=>T});var n=r(95155),t=r(12115),a=r(35761),i=r(55295),s=r(68998),l=r(9561),c=r(64665),d=r(96854),h=r(10897),u=r(35417),g=r(70152),p=r(70503),x=r(22678),m=r(90507),v=r(90847),f=r(91888),C=r(90662),y=r(28222),b=r(49234),A=r(65330),j=r(72926),S=r(22282),w=r(42479),I=r(32645),k=r(20687),H=r(35524),N=r(26848),R=r(7893),z=r(96152),E=r(10683),D=r(63612),F=r(76046),U=r(44315),M=r(54615),L=r(73179),B=r(44766),O=r(3485),P=r(5565);let _=e=>{let o=e.variablesCount||0,r=o>0?Array(o).fill({name:"Variable"}):[];return{extra_data:{uuid:e.uuid,slug:e.slug,resource_type:e.resourceType,name:e.title,description:e.description,keywords:e.keywords||[],number_of_variables:o},dataset_schema:{name:e.title,description:e.description,keywords:e.keywords||[],number_of_variables:o,variableMeasured:r,includedInDataCatalog:e.hasDataAvailable?[{}]:[]},child_datasets:Array(e.datasetsCount||0).fill({}),hasFreeAccess:e.hasFreeAccess||!1,hasCohortsAvailable:e.hasCohortsAvailable||!1,thumbnail:e.image}};function T(){let{currentUser:e}=(0,E.A)(),{loadSearchFromSaved:o,updateSearchSettings:r}=(0,D.S)(),T=(0,F.useRouter)(),W=(0,a.A)(),K=(0,i.A)(W.breakpoints.down("sm")),[G,J]=(0,t.useState)([]),[q,V]=(0,t.useState)([]),[Q,X]=(0,t.useState)([]),[Y,Z]=(0,t.useState)([]),[$,ee]=(0,t.useState)(!0),[eo,er]=(0,t.useState)(null),[en,et]=(0,t.useState)(""),[ea,ei]=(0,t.useState)("all"),es=async()=>{if(e)try{let o=(0,M.P)((0,M.rJ)(L.db,"harmonisations"),(0,M._M)("uid","==",e.uid),(0,M.My)("created","desc"),(0,M.AB)(50)),r=await (0,M.GG)(o),n=[];r.forEach(e=>{n.push({id:e.id,...e.data()})}),J(n)}catch(e){console.error("Error loading harmonizations:",e),er("Failed to load harmonizations")}},el=async()=>{try{let e=(0,M.P)((0,M.rJ)(L.db,"harmonisations"),(0,M._M)("public","==",!0),(0,M.My)("lastAccessed","desc"),(0,M.AB)(10)),o=await (0,M.GG)(e),r=[];o.forEach(e=>{r.push({id:e.id,...e.data()})}),V(r)}catch(e){console.error("Error loading recent public harmonizations:",e)}},ec=async()=>{if(e)try{let o=(0,M.P)((0,M.rJ)(L.db,"saved_searches"),(0,M._M)("uid","==",e.uid),(0,M.My)("created","desc"),(0,M.AB)(50)),r=await (0,M.GG)(o),n=[];r.forEach(e=>{n.push({id:e.id,...e.data()})}),X(n)}catch(e){console.error("Error loading saved searches:",e)}},ed=async()=>{if(e)try{let o=(0,M.P)((0,M.rJ)(L.db,"saved_resources"),(0,M._M)("uid","==",e.uid),(0,M.My)("created","desc"),(0,M.AB)(50)),r=await (0,M.GG)(o),n=[];r.forEach(e=>{n.push({id:e.id,...e.data()})}),Z(n)}catch(e){console.error("Error loading saved resources:",e)}};(0,t.useEffect)(()=>{let o=async()=>{ee(!0),er(null),await Promise.all([es(),el(),ec(),ed()]),ee(!1)};e?o():ee(!1)},[e]);let eh=async e=>{try{await (0,M.kd)((0,M.H9)(L.db,"saved_searches",e)),X(o=>o.filter(o=>o.id!==e))}catch(e){console.error("Error deleting saved search:",e)}},eu=async e=>{try{await (0,M.kd)((0,M.H9)(L.db,"saved_resources",e)),Z(o=>o.filter(o=>o.id!==e))}catch(e){console.error("Error deleting saved resource:",e)}},eg=async e=>{try{await (0,M.kd)((0,M.H9)(L.db,"harmonisations",e)),J(o=>o.filter(o=>o.id!==e))}catch(e){console.error("Error deleting harmonization:",e)}},ep=e=>{r({query:e.query,selectedFilters:e.filters||{},useSearch2:e.useSearch2||!1,hybridWeight:e.hybridWeight||.5,maxDistance:e.maxDistance||.4,selectedCategory:e.selectedCategory||null}),T.push("/discover")},ex=e=>e.filter(e=>{var o,r;let n=(null===(r=e.apiData)||void 0===r?void 0:null===(o=r.instruments)||void 0===o?void 0:o.map(e=>e.name).filter(Boolean))||[],t=(n.length>0?n.join(" with "):"Untitled Harmonization").toLowerCase().includes(en.toLowerCase()),a="all"===ea||"harmonisation"===ea;return t&&a}),em=e=>e.filter(e=>{var o,r;let n=(null===(r=e.apiData)||void 0===r?void 0:null===(o=r.instruments)||void 0===o?void 0:o.map(e=>e.name).filter(Boolean))||[],t=(n.length>0?n.join(" with "):"Untitled Harmonization").toLowerCase().includes(en.toLowerCase()),a="all"===ea||"harmonisation"===ea;return t&&a}),ev=e=>e.filter(e=>{let o=e.query.toLowerCase().includes(en.toLowerCase()),r="all"===ea||"search"===ea;return o&&r}),ef=e=>e.filter(e=>{let o=e.title.toLowerCase().includes(en.toLowerCase()),r="all"===ea||"resource"===ea;return o&&r});return e?$?(0,n.jsx)(s.default,{sx:{p:3,display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:(0,n.jsx)(d.A,{})}):(0,n.jsxs)(s.default,{sx:{p:3},children:[(0,n.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"My Saves"}),(0,n.jsx)(l.A,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Manage your saved harmonizations, searches, and resources."}),eo&&(0,n.jsx)(h.A,{severity:"error",sx:{mb:3},children:eo}),(0,n.jsx)(s.default,{sx:{mb:3},children:(0,n.jsxs)(u.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,n.jsx)(u.Ay,{item:!0,xs:12,sm:6,children:(0,n.jsx)(g.A,{fullWidth:!0,placeholder:"Search saved items...",value:en,onChange:e=>et(e.target.value),InputProps:{endAdornment:(0,n.jsx)(p.A,{position:"end",children:(0,n.jsx)(P.default,{src:(0,O.xC)()+"icons/discover.svg",alt:"Search",width:20,height:20})}),sx:{height:48,"& .MuiOutlinedInput-root":{borderRadius:24},"& .MuiOutlinedInput-notchedOutline":{borderColor:"grey.200"}}},sx:{"& .MuiOutlinedInput-root":{borderRadius:24}}})}),(0,n.jsx)(u.Ay,{item:!0,xs:12,sm:6,children:(0,n.jsxs)(x.A,{fullWidth:!0,children:[(0,n.jsx)(m.A,{children:"Type"}),(0,n.jsxs)(v.A,{value:ea,onChange:e=>ei(e.target.value),label:"Type",children:[(0,n.jsx)(f.A,{value:"all",children:"All Types"}),(0,n.jsx)(f.A,{value:"harmonisation",children:"Harmonizations"}),(0,n.jsx)(f.A,{value:"search",children:"Searches"}),(0,n.jsx)(f.A,{value:"resource",children:"Resources"})]})]})})]})}),(0,n.jsxs)(C.A,{defaultExpanded:!0,sx:{mb:2},children:[(0,n.jsx)(y.A,{expandIcon:(0,n.jsx)(I.A,{size:20}),sx:{bgcolor:"background.paper","&:hover":{bgcolor:"action.hover"}},children:(0,n.jsxs)(s.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(k.A,{size:20}),(0,n.jsx)(l.A,{variant:"h6",children:"Saved Resources"}),(0,n.jsx)(b.A,{label:ef(Y).length,size:"small"})]})}),(0,n.jsx)(A.A,{children:(()=>{let e=ef(Y);return 0===Y.length?(0,n.jsx)(l.A,{color:"text.secondary",children:"No resources saved yet. Save studies and datasets from the discovery page to see them here."}):0===e.length?(0,n.jsx)(l.A,{color:"text.secondary",children:"No resources match your search criteria."}):(0,n.jsx)(s.default,{children:e.map(e=>{let o=_(e);return(0,n.jsxs)(s.default,{sx:{position:"relative",mb:2},children:[(0,n.jsx)(U.A,{result:o,onClick:()=>{let o="/".concat("study"===e.resourceType?"studies":"items","/").concat(e.slug||e.uuid);window.open(o,"_blank")}}),(0,n.jsx)(s.default,{sx:{position:"absolute",top:8,right:8,zIndex:1},children:(0,n.jsx)(j.A,{title:"Delete",children:(0,n.jsx)(S.A,{variant:"outlined",size:"small",onClick:o=>{o.stopPropagation(),eu(e.id)},startIcon:(0,n.jsx)(H.A,{size:16}),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)",color:"error.main",borderColor:"error.main","&:hover":{backgroundColor:"error.main",color:"white"}},children:!K&&"Delete"})})})]},e.id)})})})()})]}),(0,n.jsxs)(C.A,{sx:{mb:2},children:[(0,n.jsx)(y.A,{expandIcon:(0,n.jsx)(I.A,{size:20}),sx:{bgcolor:"background.paper","&:hover":{bgcolor:"action.hover"}},children:(0,n.jsxs)(s.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(N.A,{size:20}),(0,n.jsx)(l.A,{variant:"h6",children:"Recent Public Harmonizations"}),(0,n.jsx)(b.A,{label:ex(q).length,size:"small"})]})}),(0,n.jsx)(A.A,{children:(()=>{let e=ex(q);return 0===e.length?(0,n.jsx)(l.A,{color:"text.secondary",children:0===q.length?"No recent public harmonizations found.":"No harmonizations match your search criteria."}):(0,n.jsx)(s.default,{children:e.map(e=>{var o,r,t,a,i,d,h,u;let g=(null===(r=e.apiData)||void 0===r?void 0:null===(o=r.instruments)||void 0===o?void 0:o.map(e=>e.name).filter(Boolean))||[],p=g.length>0?g.join(" with "):"Untitled Harmonization";return(0,n.jsxs)(s.default,{sx:{position:"relative",mb:2},children:[(0,n.jsx)(j.A,{title:"Click to view in Harmony",children:(0,n.jsx)(c.A,{sx:{cursor:"pointer","&:hover":{bgcolor:"action.hover"},p:2},onClick:()=>{window.open((0,B.F_)(e.id),"_blank")},children:(0,n.jsxs)(w.A,{sx:{p:2,"&:last-child":{pb:2}},children:[(0,n.jsxs)(s.default,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,n.jsx)(N.A,{size:16,color:"#4caf50"}),(0,n.jsx)(l.A,{variant:"h6",sx:{flex:1},children:p})]}),(0,n.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:["Last accessed:"," ",(null===(i=e.lastAccessed)||void 0===i?void 0:null===(a=i.toDate)||void 0===a?void 0:null===(t=a.call(i))||void 0===t?void 0:t.toLocaleDateString())||"Unknown"," • Created: ",(null===(u=e.created)||void 0===u?void 0:null===(h=u.toDate)||void 0===h?void 0:null===(d=h.call(u))||void 0===d?void 0:d.toLocaleDateString())||"Unknown"]})]})})}),(0,n.jsx)(s.default,{sx:{position:"absolute",top:8,right:8,zIndex:1},children:(0,n.jsx)(j.A,{title:"Delete",children:(0,n.jsx)(S.A,{variant:"outlined",size:"small",onClick:o=>{o.stopPropagation(),eg(e.id)},startIcon:(0,n.jsx)(H.A,{size:16}),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)",color:"error.main",borderColor:"error.main","&:hover":{backgroundColor:"error.main",color:"white"}},children:!K&&"Delete"})})})]},e.id)})})})()})]}),(0,n.jsxs)(C.A,{sx:{mb:2},children:[(0,n.jsx)(y.A,{expandIcon:(0,n.jsx)(I.A,{size:20}),sx:{bgcolor:"background.paper","&:hover":{bgcolor:"action.hover"}},children:(0,n.jsxs)(s.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(R.A,{size:20}),(0,n.jsx)(l.A,{variant:"h6",children:"My Harmonizations"}),(0,n.jsx)(b.A,{label:em(G).length,size:"small"})]})}),(0,n.jsx)(A.A,{children:(()=>{let e=em(G);return 0===G.length?(0,n.jsx)(l.A,{color:"text.secondary",children:"No harmonizations saved yet. Create some harmonizations in the Harmony app to see them here."}):0===e.length?(0,n.jsx)(l.A,{color:"text.secondary",children:"No harmonizations match your search criteria."}):(0,n.jsx)(s.default,{children:e.map(e=>{var o,r,t,a,i,d,h,u,g,p;let x=(null===(r=e.apiData)||void 0===r?void 0:null===(o=r.instruments)||void 0===o?void 0:o.map(e=>e.name).filter(Boolean))||[],m=x.length>0?x.join(" with "):"Untitled Harmonization",v=(null===(a=e.apiData)||void 0===a?void 0:null===(t=a.instruments)||void 0===t?void 0:t.reduce((e,o)=>{var r;return e+((null===(r=o.questions)||void 0===r?void 0:r.length)||0)},0))||0;return(0,n.jsxs)(s.default,{sx:{position:"relative",mb:2},children:[(0,n.jsx)(j.A,{title:"Click to view in Harmony",children:(0,n.jsx)(c.A,{sx:{cursor:"pointer","&:hover":{bgcolor:"action.hover"},p:2},onClick:()=>{window.open((0,B.F_)(e.id),"_blank")},children:(0,n.jsxs)(w.A,{sx:{p:2,"&:last-child":{pb:2}},children:[(0,n.jsxs)(s.default,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[e.public?(0,n.jsx)(N.A,{size:16,color:"#4caf50"}):(0,n.jsx)(z.A,{size:16,color:"#666"}),(0,n.jsx)(l.A,{variant:"h6",sx:{flex:1},children:m})]}),(0,n.jsxs)(l.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Created:"," ",(null===(h=e.created)||void 0===h?void 0:null===(d=h.toDate)||void 0===d?void 0:null===(i=d.call(h))||void 0===i?void 0:i.toLocaleDateString())||"Unknown",e.lastAccessed&&(0,n.jsxs)(n.Fragment,{children:[" • Last accessed: ",(null===(p=e.lastAccessed)||void 0===p?void 0:null===(g=p.toDate)||void 0===g?void 0:null===(u=g.call(p))||void 0===u?void 0:u.toLocaleDateString())||"Unknown"]})]}),v>0&&(0,n.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:[v," questions harmonized"]})]})})}),(0,n.jsx)(s.default,{sx:{position:"absolute",top:8,right:8,zIndex:1},children:(0,n.jsx)(j.A,{title:"Delete",children:(0,n.jsx)(S.A,{variant:"outlined",size:"small",onClick:o=>{o.stopPropagation(),eg(e.id)},startIcon:(0,n.jsx)(H.A,{size:16}),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)",color:"error.main",borderColor:"error.main","&:hover":{backgroundColor:"error.main",color:"white"}},children:!K&&"Delete"})})})]},e.id)})})})()})]}),(0,n.jsxs)(C.A,{sx:{mb:2},children:[(0,n.jsx)(y.A,{expandIcon:(0,n.jsx)(I.A,{size:20}),sx:{bgcolor:"background.paper","&:hover":{bgcolor:"action.hover"}},children:(0,n.jsxs)(s.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(P.default,{src:(0,O.xC)()+"icons/discover.svg",alt:"Search",width:20,height:20}),(0,n.jsx)(l.A,{variant:"h6",children:"Saved Searches"}),(0,n.jsx)(b.A,{label:ev(Q).length,size:"small"})]})}),(0,n.jsx)(A.A,{children:(()=>{let e=ev(Q);return 0===Q.length?(0,n.jsx)(l.A,{color:"text.secondary",children:"No searches saved yet. Save searches from the discovery page to see them here."}):0===e.length?(0,n.jsx)(l.A,{color:"text.secondary",children:"No searches match your search criteria."}):(0,n.jsx)(s.default,{children:e.map(e=>{var o,r,t;let a=e.filters?Object.entries(e.filters):[],i=a.slice(0,5);return(0,n.jsxs)(s.default,{sx:{position:"relative",mb:2},children:[(0,n.jsx)(j.A,{title:"Click to re-run search",children:(0,n.jsx)(c.A,{sx:{cursor:"pointer","&:hover":{bgcolor:"action.hover"},p:2},onClick:()=>ep(e),children:(0,n.jsxs)(w.A,{sx:{p:2,"&:last-child":{pb:2}},children:[(0,n.jsx)(l.A,{variant:"h6",sx:{mb:1},children:e.query}),(0,n.jsxs)(l.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:[e.resultCount," results • Saved:"," ",(null===(t=e.created)||void 0===t?void 0:null===(r=t.toDate)||void 0===r?void 0:null===(o=r.call(t))||void 0===o?void 0:o.toLocaleDateString())||"Unknown"]}),i.length>0&&(0,n.jsxs)(s.default,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:1},children:[i.map(e=>{let[o,r]=e;return(0,n.jsx)(b.A,{label:"".concat(o,": ").concat(Array.isArray(r)?r.join(", "):r),size:"small",variant:"outlined",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"}}},o)}),a.length>5&&(0,n.jsx)(b.A,{label:"+".concat(a.length-5," more"),size:"small",variant:"outlined",sx:{fontSize:"0.75rem",color:"text.secondary"}})]})]})})}),(0,n.jsx)(s.default,{sx:{position:"absolute",top:8,right:8,zIndex:1},children:(0,n.jsx)(j.A,{title:"Delete",children:(0,n.jsx)(S.A,{variant:"outlined",size:"small",onClick:o=>{o.stopPropagation(),eh(e.id)},startIcon:(0,n.jsx)(H.A,{size:16}),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)",color:"error.main",borderColor:"error.main","&:hover":{backgroundColor:"error.main",color:"white"}},children:!K&&"Delete"})})})]},e.id)})})})()})]})]}):(0,n.jsxs)(s.default,{sx:{p:3},children:[(0,n.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"My Saves"}),(0,n.jsx)(l.A,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"This feature allows you to manage your saved harmonizations, searches, and resources from your research."}),(0,n.jsxs)(c.A,{sx:{maxWidth:600,mx:"auto",p:3},children:[(0,n.jsx)(l.A,{variant:"h6",gutterBottom:!0,color:"primary",children:"Sign in to Access Your Saves"}),(0,n.jsx)(l.A,{variant:"body1",sx:{mb:2},children:"This feature only works if you login. It only takes a moment to create an account and allows you to save your research results for future access."}),(0,n.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"By signing in, you can:"}),(0,n.jsxs)(s.default,{component:"ul",sx:{textAlign:"left",mb:3},children:[(0,n.jsx)(l.A,{component:"li",variant:"body2",sx:{mb:1},children:"Save research studies and harmonisations"}),(0,n.jsx)(l.A,{component:"li",variant:"body2",sx:{mb:1},children:"Save your search queries and results"}),(0,n.jsx)(l.A,{component:"li",variant:"body2",sx:{mb:1},children:"Access your saved items across sessions"}),(0,n.jsx)(l.A,{component:"li",variant:"body2",sx:{mb:1},children:"Organize and manage your research collection"})]}),(0,n.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:["We respect your privacy. Please review our"," ",(0,n.jsx)("a",{href:"https://harmonydata.ac.uk/privacy-policy",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline"},children:"privacy policy"})," ","to understand how we handle your data."]})]})]})}},86453:(e,o,r)=>{"use strict";r.d(o,{A:()=>x});var n=r(95155),t=r(78416),a=r(36417),i=r(9561),s=r(68998),l=r(47821),c=r(27753),d=r(26214),h=r(22282),u=r(2743),g=r(6327),p=r(2599);function x(e){let{open:o,onClose:r,data:x,title:m="Debug Data"}=e,v=()=>{navigator.clipboard.writeText(JSON.stringify(x,null,2))};return(0,n.jsxs)(t.A,{open:o,onClose:r,maxWidth:"lg",fullWidth:!0,sx:{"& .MuiDialog-paper":{maxHeight:"90vh",height:"90vh"}},children:[(0,n.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[(0,n.jsx)(i.A,{variant:"h6",component:"div",children:m}),(0,n.jsxs)(s.default,{children:[(0,n.jsx)(l.A,{onClick:v,size:"small",sx:{mr:1},title:"Copy JSON to clipboard",children:(0,n.jsx)(u.A,{fontSize:"small"})}),(0,n.jsx)(l.A,{onClick:r,size:"small",children:(0,n.jsx)(g.A,{fontSize:"small"})})]})]}),(0,n.jsx)(c.A,{dividers:!0,sx:{p:0,height:"100%"},children:o&&(0,n.jsx)(s.default,{sx:{height:"100%",overflow:"auto","& .w-json-view-container":{backgroundColor:"#fafafa",fontSize:"13px",fontFamily:'"SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace'}},children:(0,n.jsx)(p.Ay,{value:x,collapsed:2,displayObjectSize:!0,displayDataTypes:!0,enableClipboard:!0,style:{backgroundColor:"#fafafa",padding:"16px"}})})}),(0,n.jsxs)(d.A,{children:[(0,n.jsx)(h.A,{onClick:v,startIcon:(0,n.jsx)(u.A,{}),children:"Copy JSON"}),(0,n.jsx)(h.A,{onClick:r,variant:"contained",children:"Close"})]})]})}},53452:(e,o,r)=>{"use strict";r.d(o,{A:()=>t});var n=r(22282);let t=(0,r(89142).Ay)(n.A,{shouldForwardProp:e=>"chipVariant"!==e})(e=>{let{theme:o,chipVariant:r="primary",onClick:n=()=>{}}=e;return{onClick:n,borderRadius:8,textTransform:"none",padding:"0 16px",height:32,minHeight:32,fontSize:"0.875rem",fontWeight:500,whiteSpace:"nowrap",lineHeight:1,..."primary"===r&&{backgroundColor:o.palette.primary.main,color:o.palette.primary.contrastText,"&:hover":{backgroundColor:o.palette.primary.dark}},..."secondary"===r&&{backgroundColor:o.palette.secondary.main,color:o.palette.secondary.contrastText,"&:hover":{backgroundColor:o.palette.secondary.dark}},..."dark"===r&&{backgroundColor:"#444653",color:"#FFFFFF","&:hover":{backgroundColor:"#363742"}}}})},10683:(e,o,r)=>{"use strict";r.d(o,{AuthProvider:()=>u,A:()=>h});var n=r(95155),t=r(12115),a=r(14565),i=r(49904),s=r(27058);let l=(0,i.Wp)({apiKey:"AIzaSyBQVkRjbTQD6BXCdo2JeiFfwyvGVT7bOXM",authDomain:"harmony-6bd51.firebaseapp.com",projectId:"harmony-6bd51",storageBucket:"harmony-6bd51.appspot.com",messagingSenderId:"914732561143",appId:"1:914732561143:web:b041f0c5e7fab57400d9f2",measurementId:"G-S79J6E39ZP"}),c=(0,a.xI)(l);(0,s.aU)(l);let d=(0,t.createContext)(void 0);function h(){let e=(0,t.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function u(e){let{children:o}=e,[r,i]=(0,t.useState)(null),[s,l]=(0,t.useState)(!0),h=async e=>(0,a.df)(c,e).then(e=>e.user).catch(o=>e.credentialFromError(o));return(0,t.useEffect)(()=>(0,a.hg)(c,e=>{i(e),l(!1)}),[]),(0,n.jsx)(d.Provider,{value:{currentUser:r,login:function(e,o){return(0,a.x9)(c,e,o)},signup:function(e,o){return(0,a.eJ)(c,e,o)},logout:function(){return(0,a.CI)(c)},resetPassword:function(e){return(0,a.J1)(c,e)},signInWithGoogle:function(){return h(new a.HF)},signInWithGitHub:function(){return h(new a.Dt)},signInWithTwitter:function(){return h(new a.ny)},loading:s},children:!s&&o})}},63612:(e,o,r)=>{"use strict";r.d(o,{S:()=>l,SearchProvider:()=>s});var n=r(95155),t=r(12115);let a={query:"",selectedFilters:{},useSearch2:!1,hybridWeight:.5,maxDistance:.4,selectedCategory:null,resourceType:null,similarUid:null},i=(0,t.createContext)(void 0);function s(e){let{children:o}=e,[r,s]=(0,t.useState)(a),l=(0,t.useCallback)(e=>{s(o=>({...o,...e}))},[]),c=(0,t.useCallback)(()=>{s(a)},[]),d=(0,t.useCallback)(e=>{s({...a,query:e.query,selectedFilters:e.filters||{}})},[]);return(0,n.jsx)(i.Provider,{value:{searchSettings:r,updateSearchSettings:l,resetSearchSettings:c,loadSearchFromSaved:d},children:o})}function l(){let e=(0,t.useContext)(i);if(void 0===e)throw Error("useSearch must be used within a SearchProvider");return e}},73179:(e,o,r)=>{"use strict";r.d(o,{db:()=>s});var n=r(49904),t=r(14565),a=r(54615);let i=(0,n.Wp)({apiKey:"AIzaSyBQVkRjbTQD6BXCdo2JeiFfwyvGVT7bOXM",authDomain:"harmony-6bd51.firebaseapp.com",projectId:"harmony-6bd51",storageBucket:"harmony-6bd51.appspot.com",messagingSenderId:"914732561143",appId:"1:914732561143:web:b041f0c5e7fab57400d9f2",measurementId:"G-S79J6E39ZP"});(0,t.xI)(i);let s=(0,a.aU)(i)},3485:(e,o,r)=>{"use strict";r.d(o,{sM:()=>i,xC:()=>s});var n=r(2818);let t={"Office for National Statistics":"ONS","National Health Service":"NHS","Department for Education":"DfE","Department of Health":"DoH","Department of Health and Social Care":"DHSC","Medical Research Council":"MRC","National Institute for Health and Care Excellence":"NICE","National Institute for Health Research":"NIHR","Economic and Social Research Council":"ESRC","Arts and Humanities Research Council":"AHRC","Biotechnology and Biological Sciences Research Council":"BBSRC","Engineering and Physical Sciences Research Council":"EPSRC","Natural Environment Research Council":"NERC","Science and Technology Facilities Council":"STFC","UK Research and Innovation":"UKRI","University College London":"UCL","University of Oxford":"Oxford","University of Cambridge":"Cambridge","Imperial College London":"Imperial","King's College London":"KCL","London School of Economics":"LSE","Edinburgh University":"Edin","University of Manchester":"Manchester","University of Bristol":"Bristol","University of Warwick":"Warwick","World Health Organization":"WHO","United Nations":"UN","European Union":"EU_flag","Organisation for Economic Co-operation and Development":"OECD","Wellcome Trust":"Wellcome","Nuffield Foundation":"Nuffield","British Heart Foundation":"BHF","Cancer Research UK":"CRUK","Alzheimer's Society":"Alzheimer","Diabetes UK":"Diabetes","National Institute of Mental Health":"NIMH","National Institutes of Health":"NIH","Centers for Disease Control and Prevention":"CDC","Social Care Institute for Excellence":"SCIE"},a={MRC:"/logos/MRC.png",ESRC:"/logos/ESRC.png",UKRI:"/logos/UKRI.png",NERC:"/logos/NERC.png",STFC:"/logos/STFC.png",AHRC:"/logos/AHRC.png",BBSRC:"/logos/BBSRC.png",EPSRC:"/logos/EPSRC.png",NIHR:"/logos/NIHR.png",BHF:"/logos/BHF.png",CRUK:"/logos/CRUK.png",Wellcome:"/logos/Wellcome.png",Nuffield:"/logos/Nuffield.png",ONS:"/logos/ONS.png",NHS:"/logos/NHS.png",DfE:"/logos/DfE.png",DHSC:"/logos/DHSC.png",DoHSC:"/logos/DHSC.png",NICE:"/logos/NICE.png",SCIE:"/logos/SCIE.png",HOUK:"/logos/HOUK.png",UCL:"/logos/UCL.png",Oxford:"/logos/Oxford.png",Cambridge:"/logos/Cambridge.png",Imperial:"/logos/Imperial.png",KCL:"/logos/KCL.png",LSE:"/logos/LSE.png",Edin:"/logos/Edin.png",NIH:"/logos/NIH.png",NIMH:"/logos/NIMH.png",NIDA:"/logos/NIDA.png",NIAAA:"/logos/NIAAA.png",NSF:"/logos/NSF.png",CDC:"/logos/CDC.png",FDA:"/logos/FDA.png",EU_flag:"/logos/EU_flag.png",EUCom:"/logos/EUCom.png",ERC:"/logos/ERC.png",H2020:"/logos/H2020.png",HorizonEU:"/logos/HorizonEU.png",WHO:"/logos/WHO.png",VR:"/logos/VR.png",BMBF:"/logos/BMBF.png",DFG:"/logos/DFG.png",CNRS:"/logos/CNRS.png",INSERM:"/logos/INSERM.png",ARC:"/logos/ARC.png",NHMRC:"/logos/NHMRC.png",CIHR:"/logos/CIHR.png",Uni:"/logos/university.png",Hosp:"/logos/hospital.png",Gov:"/logos/government.png",NGO:"/logos/ngo.png",Charity:"/logos/charity.png",Rayne:"/logos/Rayne.png",SRFound:"/logos/SRFound.png",BCTrust:"/logos/BCTrust.png",UKHF:"/logos/UKHF.png",RCN:"/logos/RCN.png",KingsFund:"/logos/KingsFund.png",MHRN:"/logos/MHRN.png",McPF:"/logos/McPF.png",BLF:"/logos/BLF.png",CLAHRC:"/logos/CLAHRC.png",TNA:"/logos/TNA.png",NAO:"/logos/NAO.png",RCP:"/logos/RCP.png",SU:"/logos/SU.png",SLaM:"/logos/SLaM.png"};function i(e,o){if(o&&o.trim().length>0)return console.log("Using provided logo for ".concat(e||"Unknown",": ").concat(o)),o;if(!e||0===e.trim().length){console.log("No organization name provided to findOrganizationLogo");return}if(e.includes(" ")&&e.split(" ").every(e=>e.length<=6)){for(let o of(console.log('Organization name "'.concat(e,'" appears to be a space-delimited list of abbreviations')),e.split(" ").map(e=>e.trim()).filter(e=>e.length>0))){if(a[o])return console.log('Found direct logo match for abbreviation "'.concat(o,'": ').concat(a[o])),a[o];for(let[e,r]of Object.entries(t))if(e.toLowerCase().includes(o.toLowerCase())||r.toLowerCase()===o.toLowerCase()){let n="/logos/".concat(r,".png");return console.log('Found partial match for "'.concat(o,'" with known organization "').concat(e,'" (').concat(r,"): ").concat(n)),n}}console.log('No logo match found for any part of "'.concat(e,'"'));return}let r=t[e];if(r){let o="/logos/".concat(r,".png");return console.log('Found direct organization match for "'.concat(e,'": ').concat(o)),o}if(a[e])return console.log('Found direct logo match for organization abbreviation "'.concat(e,'": ').concat(a[e])),a[e];for(let[o,r]of Object.entries(t))if(e.toLowerCase().includes(o.toLowerCase())||e.toLowerCase().includes(r.toLowerCase())){let n="/logos/".concat(r,".png");return console.log('Found partial match for "'.concat(e,'" with known organization "').concat(o,'": ').concat(n)),n}console.log('No logo match found for "'.concat(e,'"'))}function s(){return n.env.GITHUB_PAGES_DEPLOYMENT?"/search/":window.location.pathname.startsWith("/search")?"/search/":"/"}},44766:(e,o,r)=>{"use strict";r.d(o,{C4:()=>n,F_:()=>a,ud:()=>t});let n=()=>"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://localhost:3000":window.location.origin,t=()=>("localhost"===window.location.hostname||window.location.hostname,"/app/"),a=e=>"".concat(n()).concat(t(),"#/model/").concat(e)}},e=>{var o=o=>e(e.s=o);e.O(0,[2992,9895,2154,6586,4889,1057,2282,9234,9141,2926,5733,5779,3340,4315,8441,1517,7358],()=>o(70460)),_N_E=e.O()}]);