(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{5465:(e,t,r)=>{Promise.resolve().then(r.bind(r,86450))},64665:(e,t,r)=>{"use strict";r.d(t,{A:()=>v});var a=r(12115),i=r(43463),o=r(7123),n=r(89142),s=r(12567),l=r(78562),d=r(81045),c=r(37157);function u(e){return(0,c.Ay)("MuiCard",e)}(0,d.A)("MuiCard",["root"]);var h=r(95155);let g=e=>{let{classes:t}=e;return(0,o.A)({root:["root"]},u,t)},p=(0,n.Ay)(l.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),v=a.forwardRef(function(e,t){let r=(0,s.b)({props:e,name:"MuiCard"}),{className:a,raised:o=!1,...n}=r,l={...r,raised:o},d=g(l);return(0,h.jsx)(p,{className:(0,i.A)(d.root,a),elevation:o?8:void 0,ref:t,ownerState:l,...n})})},2241:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var a=r(12115),i=r(43463),o=r(7123),n=r(39793),s=r(89142),l=r(98330),d=r(12567),c=r(30555),u=r(95155);let h=e=>{let{absolute:t,children:r,classes:a,flexItem:i,light:n,orientation:s,textAlign:l,variant:d}=e;return(0,o.A)({root:["root",t&&"absolute",d,n&&"light","vertical"===s&&"vertical",i&&"flexItem",r&&"withChildren",r&&"vertical"===s&&"withChildrenVertical","right"===l&&"vertical"!==s&&"textAlignRight","left"===l&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]},c.K,a)},g=(0,s.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})((0,l.A)(e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,n.X4)(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}})),p=(0,s.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})((0,l.A)(e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)"),whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")}}]}})),v=a.forwardRef(function(e,t){let r=(0,d.b)({props:e,name:"MuiDivider"}),{absolute:a=!1,children:o,className:n,orientation:s="horizontal",component:l=o||"vertical"===s?"div":"hr",flexItem:c=!1,light:v=!1,role:f="hr"!==l?"separator":void 0,textAlign:m="center",variant:x="fullWidth",...y}=r,_={...r,absolute:a,component:l,flexItem:c,light:v,orientation:s,role:f,textAlign:m,variant:x},b=h(_);return(0,u.jsx)(g,{as:l,className:(0,i.A)(b.root,n),role:f,ref:t,ownerState:_,"aria-orientation":"separator"===f&&("hr"!==l||"vertical"===s)?s:void 0,...y,children:o?(0,u.jsx)(p,{className:b.wrapper,ownerState:_,children:o}):null})});v&&(v.muiSkipListHighlight=!0);let f=v},30555:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,K:()=>o});var a=r(81045),i=r(37157);function o(e){return(0,i.Ay)("MuiDivider",e)}let n=(0,a.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},86450:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var a=r(95155),i=r(12115),o=r(9552),n=r(9561),s=r(35417),l=r(68998),d=r(42649),c=r(64665),u=r(43463),h=r(7123),g=r(89142),p=r(12567),v=r(81045),f=r(37157);function m(e){return(0,f.Ay)("MuiCardContent",e)}(0,v.A)("MuiCardContent",["root"]);let x=e=>{let{classes:t}=e;return(0,h.A)({root:["root"]},m,t)},y=(0,g.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),_=i.forwardRef(function(e,t){let r=(0,p.b)({props:e,name:"MuiCardContent"}),{className:i,component:o="div",...n}=r,s={...r,component:o},l=x(s);return(0,a.jsx)(y,{as:o,className:(0,u.A)(l.root,i),ownerState:s,ref:t,...n})});var b=r(49234),j=r(2241);function w(e){var t,r,i,o,s,d,u,h,g,p,v,f,m,x,y,w,A,S,C,R,k,E,L;let{resource:M}=e,O=(null===(t=M.dataset_schema)||void 0===t?void 0:t.name)||M.title||"Untitled Resource",T=(null===(r=M.dataset_schema)||void 0===r?void 0:r.description)||M.description||"",W=(null===(i=M.dataset_schema)||void 0===i?void 0:i.funder)?M.dataset_schema.funder.map(e=>e.name).join(", "):M.funders,P=(null===(o=M.dataset_schema)||void 0===o?void 0:o.publisher)?M.dataset_schema.publisher.map(e=>e.name).join(", "):M.owner||M.institution,N=null!==(E=null===(s=M.extra_data)||void 0===s?void 0:s.age_upper)&&void 0!==E?E:M.age_upper,I=null!==(L=null===(d=M.extra_data)||void 0===d?void 0:d.age_lower)&&void 0!==L?L:M.age_lower,U=(null===(u=M.dataset_schema)||void 0===u?void 0:u.url)||(M.url?[M.url]:[]),D=(null===(h=M.extra_data)||void 0===h?void 0:h.country_codes)||M.country_codes||[],F=(null===(g=M.extra_data)||void 0===g?void 0:g.study_design)||M.study_design||[],z=((null===(p=M.dataset_schema)||void 0===p?void 0:p.keywords)||M.topics||[]).filter(e=>"string"==typeof e&&!e.includes("<a title=")&&!e.startsWith("<")),B=(null===(v=M.dataset_schema)||void 0===v?void 0:v["@type"])==="Dataset"||(null===(f=M.resource_type)||void 0===f?void 0:f.toLowerCase())==="dataset",V=(null===(m=M.dataset_schema)||void 0===m?void 0:m["@type"])==="Property"||(null===(x=M.resource_type)||void 0===x?void 0:x.toLowerCase())==="variable";return(0,a.jsx)(c.A,{sx:{marginBottom:2},children:(0,a.jsxs)(_,{children:[(0,a.jsx)(n.default,{variant:"h6",gutterBottom:!0,children:O}),T&&(0,a.jsx)(n.default,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{mb:2},children:T}),M.cosine_similarity&&(0,a.jsx)(b.A,{size:"small",label:"Relevance: ".concat(Math.round(100*M.cosine_similarity),"%"),color:"primary",variant:"outlined",sx:{mb:2}}),(0,a.jsxs)(l.default,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:1.5},children:[(M.id||(null===(y=M.extra_data)||void 0===y?void 0:y.uuid))&&(0,a.jsxs)(n.default,{variant:"body2",children:[(0,a.jsx)("strong",{children:"ID:"})," ",M.id||(null===(w=M.extra_data)||void 0===w?void 0:w.uuid)]}),((null===(A=M.dataset_schema)||void 0===A?void 0:A["@type"])||M.resource_type)&&(0,a.jsxs)(n.default,{variant:"body2",children:[(0,a.jsx)("strong",{children:"Type:"})," ",(null===(S=M.dataset_schema)||void 0===S?void 0:S["@type"])||M.resource_type]}),(void 0!==I||void 0!==N)&&(0,a.jsxs)(n.default,{variant:"body2",children:[(0,a.jsx)("strong",{children:"Age Range:"})," ",void 0!==I?I:"N/A"," - ",void 0!==N?N:"N/A"]}),((null===(C=M.dataset_schema)||void 0===C?void 0:C.temporalCoverage)||M.start_year||M.end_year)&&(0,a.jsxs)(n.default,{variant:"body2",children:[(0,a.jsx)("strong",{children:"Time Period:"})," ",(null===(R=M.dataset_schema)||void 0===R?void 0:R.temporalCoverage)||"".concat(M.start_year||"N/A"," to ").concat(M.end_year||"N/A")]}),void 0!==M.duration_years&&(0,a.jsxs)(n.default,{variant:"body2",children:[(0,a.jsx)("strong",{children:"Duration (years):"})," ",M.duration_years]}),D.length>0&&(0,a.jsxs)(n.default,{variant:"body2",children:[(0,a.jsx)("strong",{children:"Countries:"})," ",D.join(", ")]}),M.language_codes&&M.language_codes.length>0&&(0,a.jsxs)(n.default,{variant:"body2",children:[(0,a.jsx)("strong",{children:"Languages:"})," ",M.language_codes.join(", ")]}),M.geographic_coverage&&(0,a.jsxs)(n.default,{variant:"body2",children:[(0,a.jsx)("strong",{children:"Geographic Coverage:"})," ",M.geographic_coverage]}),P&&(0,a.jsxs)(n.default,{variant:"body2",children:[(0,a.jsx)("strong",{children:"Publisher:"})," ",P]}),W&&(0,a.jsxs)(n.default,{variant:"body2",children:[(0,a.jsx)("strong",{children:"Funders:"})," ",W]}),B&&void 0!==M.sample_size&&(0,a.jsxs)(n.default,{variant:"body2",children:[(0,a.jsx)("strong",{children:"Sample Size:"})," ",M.sample_size]}),B&&F.length>0&&(0,a.jsxs)(n.default,{variant:"body2",children:[(0,a.jsx)("strong",{children:"Study Design:"})," ",F.join(", ")]}),B&&void 0!==M.num_variables&&(0,a.jsxs)(n.default,{variant:"body2",children:[(0,a.jsx)("strong",{children:"Number of Variables:"})," ",M.num_variables]}),B&&void 0!==M.num_sweeps&&(0,a.jsxs)(n.default,{variant:"body2",children:[(0,a.jsx)("strong",{children:"Number of Sweeps:"})," ",M.num_sweeps]}),V&&M.question&&(0,a.jsxs)(n.default,{variant:"body2",sx:{gridColumn:"1 / span 2"},children:[(0,a.jsx)("strong",{children:"Question:"})," ",M.question]}),V&&M.response_options&&M.response_options.length>0&&(0,a.jsxs)(n.default,{variant:"body2",sx:{gridColumn:"1 / span 2"},children:[(0,a.jsx)("strong",{children:"Response Options:"})," ",M.response_options.join(", ")]})]}),U.length>0&&(0,a.jsxs)(l.default,{sx:{mt:2},children:[(0,a.jsx)(j.A,{sx:{mb:1}}),(0,a.jsx)(n.default,{variant:"body2",sx:{mb:1},children:(0,a.jsx)("strong",{children:"URLs:"})}),(0,a.jsx)(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:U.map((e,t)=>(0,a.jsx)(b.A,{label:e.length>30?"".concat(e.substring(0,30),"..."):e,component:"a",href:e,target:"_blank",rel:"noopener noreferrer",clickable:!0,size:"small",color:"primary",variant:"outlined"},t))})]}),z.length>0&&(0,a.jsxs)(l.default,{sx:{mt:2},children:[(0,a.jsx)(j.A,{sx:{mb:1}}),(0,a.jsx)(n.default,{variant:"body2",sx:{mb:1},children:(0,a.jsx)("strong",{children:"Keywords:"})}),(0,a.jsx)(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:z.map((e,t)=>(0,a.jsx)(b.A,{label:e,size:"small",variant:"outlined"},t))})]}),B&&(null===(k=M.dataset_schema)||void 0===k?void 0:k.variableMeasured)&&M.dataset_schema.variableMeasured.length>0&&(0,a.jsxs)(l.default,{sx:{mt:2},children:[(0,a.jsx)(j.A,{sx:{mb:1}}),(0,a.jsxs)(n.default,{variant:"body2",sx:{mb:1},children:[(0,a.jsx)("strong",{children:"Variables:"})," ",M.dataset_schema.variableMeasured.length," total"]}),(0,a.jsxs)(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[M.dataset_schema.variableMeasured.slice(0,10).map((e,t)=>(0,a.jsx)(b.A,{label:e.name,size:"small",variant:"outlined",title:e.description},t)),M.dataset_schema.variableMeasured.length>10&&(0,a.jsx)(b.A,{label:"+".concat(M.dataset_schema.variableMeasured.length-10," more"),size:"small",variant:"outlined"})]})]})]})})}function A(e){let{study:t}=e;return(0,a.jsx)(w,{resource:t})}function S(){let[e,t]=(0,i.useState)([]),[r,c]=(0,i.useState)(!0),[u,h]=(0,i.useState)(null);return((0,i.useEffect)(()=>{(async function(){try{c(!0);let e=await (0,d.Hu)("*",{resource_type:["study"]},1,100,!1);t(e.results||[])}catch(e){console.error("Failed to load studies:",e),h("Failed to load studies")}finally{c(!1)}})()},[]),r)?(0,a.jsxs)(o.default,{maxWidth:"xl",sx:{py:4},children:[(0,a.jsx)(n.default,{variant:"h4",component:"h1",gutterBottom:!0,children:"All Studies"}),(0,a.jsx)(n.default,{children:"Loading studies..."})]}):u?(0,a.jsxs)(o.default,{maxWidth:"xl",sx:{py:4},children:[(0,a.jsx)(n.default,{variant:"h4",component:"h1",gutterBottom:!0,children:"All Studies"}),(0,a.jsx)(n.default,{color:"error",children:u})]}):(0,a.jsxs)(o.default,{maxWidth:"xl",sx:{py:4},children:[(0,a.jsx)(n.default,{variant:"h4",component:"h1",gutterBottom:!0,sx:{mb:4},children:"All Studies"}),(0,a.jsx)(n.default,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Browse through all available studies in our database"}),(0,a.jsx)(s.Ay,{container:!0,spacing:3,children:e.map(e=>{var t,r;return(0,a.jsx)(s.Ay,{item:!0,xs:12,sm:6,lg:4,xl:3,children:(0,a.jsx)(A,{study:e})},(null===(t=e.extra_data)||void 0===t?void 0:t.uuid)||(null===(r=e.dataset_schema)||void 0===r?void 0:r.name))})}),0===e.length&&(0,a.jsx)(l.default,{sx:{textAlign:"center",py:8},children:(0,a.jsx)(n.default,{variant:"h6",color:"text.secondary",children:"No studies found"})})]})}},42649:(e,t,r)=>{"use strict";r.d(t,{AV:()=>u,Dd:()=>i,Hu:()=>o,Pn:()=>l,U4:()=>d,Y3:()=>c,v5:()=>s,w3:()=>n});let a="https://harmonydataweaviate.azureedge.net";async function i(){let e=await fetch("".concat(a,"/discover/aggregate"),{method:"GET"});if(!e.ok){let t=await e.text();throw console.error("fetchAggregateFilters error. Status:",e.status,"Response:",t),Error("Failed to fetch aggregate filters")}let t=await e.json();window.__lastAggregateResponse=t,console.log("Aggregate API response cached in window.__lastAggregateResponse for debugging"),console.log("Aggregate response:",{aggregationKeys:Object.keys(t.aggregations||{}),sampleKeys:Object.keys(t.aggregations||{}).slice(0,3).map(e=>({key:e,value:t.aggregations[e]}))});let r=t.aggregations||{};return Object.keys(r).map(e=>({id:e,label:e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "),options:Object.keys(r[e])}))}async function o(e,t){var r,i;let o,n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,d=!(arguments.length>4)||void 0===arguments[4]||arguments[4],c=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,h=arguments.length>7?arguments[7]:void 0,g=t&&Object.keys(t).length>0;if(!e&&!g)return{results:[],aggregations:{},num_hits:0};let p=e&&""!==e.trim()?e.trim():"",v=u&&u.length>0&&!d,f=d?"search2":"search",m="".concat(a,"/discover/").concat(f);if(v){o=m;let e={query:[p],num_results:l},r=void 0!==h?h:(s-1)*l;e.offset=r,void 0!==c&&(e.alpha=c),e.top_level_ids_seen_so_far=u,t&&Object.entries(t).forEach(t=>{let[r,a]=t;a.length>0&&(e[r]=a)}),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},console.log("Using POST request for pagination with body:",{query:[p],topLevelIdsCount:u.length,offset:r,endpoint:f})}else{let e=new URLSearchParams;void 0!==c&&e.set("alpha",c.toString()),e.append("query",p);let r=void 0!==h?h:(s-1)*l;e.set("num_results",l.toString()),e.set("offset",r.toString());let a={};if(t)for(let r in t)if(r.endsWith("_min")||r.endsWith("_max")){let i=r.replace(/_(min|max)$/,"");a[i]||(a[i]={}),r.endsWith("_min")?a[i].min=t[r][0]:a[i].max=t[r][0],e.append(r,t[r][0])}else t[r].forEach(t=>{e.append(r,t)});o="".concat(m,"?").concat(e.toString()),n={method:"GET"},Object.keys(a).length>0&&console.log("Numeric range parameters:",a),console.log("Using GET request:",o)}let x=await fetch(o,n);if(!x.ok)throw console.error("Search API error:",x.status,await x.text()),Error("Search API request failed");let y=await x.json();return window.__lastSearchResponse=y,console.log("Search API response cached in window.__lastSearchResponse for debugging"),console.log("Search results:",{totalHits:y.num_hits,resultCount:(null===(r=y.results)||void 0===r?void 0:r.length)||0,firstResult:null===(i=y.results)||void 0===i?void 0:i[0],aggregations:Object.keys(y.aggregations||{}),endpoint:f,method:v?"POST":"GET",hybridWeight:c}),{results:y.results||[],aggregations:y.aggregations||{},num_hits:y.num_hits,top_level_ids_seen_so_far:y.top_level_ids_seen_so_far||[],next_page_offset:y.next_page_offset}}async function n(e){let t="".concat(a,"/discover/lookup?uuid=").concat(e),r=await fetch(t);if(!r.ok)throw console.error("Failed to fetch result by UUID:",r.statusText),Error("Failed to fetch result by UUID: ".concat(r.statusText));let i=await r.json();return window.__lastLookupResponse=i,i.results[0]}async function s(e){let t=await fetch("https://harmonydata.azureedge.net/api/ogData?url=".concat(encodeURIComponent(e)));if(!t.ok)throw Error("Failed to fetch OpenGraph data");return t.json()}async function l(){let e=await fetch("".concat(a,"/info/version"));if(!e.ok)throw console.error("Failed to fetch version info:",e.statusText),Error("Failed to fetch version info");let t=await e.json();return window.__lastVersionResponse=t,console.log("Version API response cached in window.__lastVersionResponse for debugging"),t}async function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams;Object.entries(e).forEach(e=>{let[r,a]=e;a.length>0&&a.forEach(e=>{t.append(r,e)})});let r=await fetch("".concat(a,"/discover/aggregate?").concat(t.toString()),{headers:{accept:"application/json"}});if(!r.ok)throw Error("Failed to fetch aggregate data");return r.json()}async function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams;Object.entries(e).forEach(e=>{let[r,a]=e;a.length>0&&a.forEach(e=>{t.append(r,e)})});let r=await fetch("".concat(a,"/discover/get_numeric_values?").concat(t.toString()),{headers:{accept:"application/json"}});if(!r.ok)throw Error("Failed to fetch numeric values");return r.json()}async function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams;Object.entries(e).forEach(e=>{let[r,a]=e;a.length>0&&a.forEach(e=>{t.append(r,e)})});let r=await fetch("".concat(a,"/discover/get_word_cloud?").concat(t.toString()),{headers:{accept:"application/json"}});if(!r.ok)throw Error("Failed to fetch word cloud data");return r.json()}}},e=>{var t=t=>e(e.s=t);e.O(0,[380,679,189,234,417,441,517,358],()=>t(5465)),_N_E=e.O()}]);