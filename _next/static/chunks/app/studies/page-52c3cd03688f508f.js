(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{5465:(e,t,l)=>{Promise.resolve().then(l.bind(l,32905))},32905:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>j});var a=l(95155),i=l(12115),s=l(9552),d=l(9561),o=l(35417),n=l(68998),r=l(42649),u=l(64665),c=l(42479),x=l(49234),h=l(5565),v=l(48173),m=l.n(v),f=l(1234),p=l(9450),y=l(64364);function b(e){var t,l,s,o,r,v,b,j,g,_,A,k,w,z,S,H,B;let{study:W}=e,[M,C]=(0,i.useState)(!1),O=(null===(t=W.dataset_schema)||void 0===t?void 0:t.name)||(null===(l=W.extra_data)||void 0===l?void 0:l.name)||"Untitled Study",D=(null===(s=W.dataset_schema)||void 0===s?void 0:s.description)||(null===(o=W.extra_data)||void 0===o?void 0:o.description)||"",E=null===(r=W.extra_data)||void 0===r?void 0:r.slug,F=(null===(v=W.extra_data)||void 0===v?void 0:v.resource_type)||(null===(b=W.dataset_schema)||void 0===b?void 0:b["@type"])||"",L=null===(j=W.dataset_schema)||void 0===j?void 0:j.number_of_variables,N=null===(g=W.extra_data)||void 0===g?void 0:g.country_codes,V=null===(_=W.extra_data)||void 0===_?void 0:_.study_design,q=null;(null===(A=W.dataset_schema)||void 0===A?void 0:A.image)&&!M?q=W.dataset_schema.image:W.image&&!M&&(q=W.image);let I=null===(z=W.dataset_schema)||void 0===z?void 0:null===(w=z.publisher)||void 0===w?void 0:null===(k=w[0])||void 0===k?void 0:k.name,P=null===(B=W.dataset_schema)||void 0===B?void 0:null===(H=B.includedInDataCatalog)||void 0===H?void 0:null===(S=H[0])||void 0===S?void 0:S.name,T=D.length>200?"".concat(D.substring(0,200),"..."):D,U=(0,a.jsxs)(u.A,{sx:{height:"100%",display:"flex",flexDirection:"column",cursor:E?"pointer":"default","&:hover":E?{boxShadow:4,transform:"translateY(-2px)"}:{},transition:"all 0.2s ease-in-out"},children:[(0,a.jsx)(n.default,{sx:{height:200,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.50",borderBottom:"1px solid",borderColor:"grey.200"},children:q&&!M?(0,a.jsx)(h.default,{src:q,alt:O,width:180,height:180,style:{objectFit:"contain",maxHeight:"180px"},onError:()=>C(!0),unoptimized:!0}):(0,a.jsx)(n.default,{sx:{color:"grey.400"},children:F.includes("dataset")?(0,a.jsx)(f.A,{size:64}):F.includes("study")?(0,a.jsx)(p.A,{size:64}):(0,a.jsx)(y.A,{size:64})})}),(0,a.jsxs)(c.A,{sx:{flex:1,display:"flex",flexDirection:"column",p:3},children:[(0,a.jsx)(d.default,{variant:"h6",component:"h2",gutterBottom:!0,sx:{fontWeight:600,lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",minHeight:"2.4em"},children:O}),(0,a.jsx)(d.default,{variant:"body2",color:"text.secondary",sx:{mb:2,flex:1,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:T}),(0,a.jsxs)(n.default,{sx:{mt:"auto"},children:[L&&(0,a.jsx)(n.default,{sx:{mb:1},children:(0,a.jsxs)(d.default,{variant:"caption",color:"text.secondary",children:[L.toLocaleString()," variables"]})}),I&&(0,a.jsx)(n.default,{sx:{mb:1},children:(0,a.jsxs)(d.default,{variant:"caption",color:"text.secondary",children:["Published by ",I]})}),P&&(0,a.jsx)(n.default,{sx:{mb:2},children:(0,a.jsxs)(d.default,{variant:"caption",color:"text.secondary",children:["Available in ",P]})}),(0,a.jsxs)(n.default,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[null==N?void 0:N.slice(0,3).map(e=>(0,a.jsx)(x.A,{label:e,size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:20}},e)),null==V?void 0:V.slice(0,2).map(e=>(0,a.jsx)(x.A,{label:e,size:"small",color:"primary",variant:"outlined",sx:{fontSize:"0.7rem",height:20}},e))]})]})]})]});return E?(0,a.jsx)(m(),{href:"/studies/".concat(E),style:{textDecoration:"none"},children:U}):U}function j(){let[e,t]=(0,i.useState)([]),[l,u]=(0,i.useState)(!0),[c,x]=(0,i.useState)(null);return((0,i.useEffect)(()=>{(async function(){try{u(!0);let e=await (0,r.Hu)("*",{resource_type:["study"]},1,100,!1);t(e.results||[])}catch(e){console.error("Failed to load studies:",e),x("Failed to load studies")}finally{u(!1)}})()},[]),l)?(0,a.jsxs)(s.default,{maxWidth:"xl",sx:{py:4},children:[(0,a.jsx)(d.default,{variant:"h4",component:"h1",gutterBottom:!0,children:"All Studies"}),(0,a.jsx)(d.default,{children:"Loading studies..."})]}):c?(0,a.jsxs)(s.default,{maxWidth:"xl",sx:{py:4},children:[(0,a.jsx)(d.default,{variant:"h4",component:"h1",gutterBottom:!0,children:"All Studies"}),(0,a.jsx)(d.default,{color:"error",children:c})]}):(0,a.jsxs)(s.default,{maxWidth:"xl",sx:{py:4},children:[(0,a.jsx)(d.default,{variant:"h4",component:"h1",gutterBottom:!0,sx:{mb:4},children:"All Studies"}),(0,a.jsx)(d.default,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Browse through all available studies in our database"}),(0,a.jsx)(o.Ay,{container:!0,spacing:3,children:e.map(e=>{var t,l;return(0,a.jsx)(o.Ay,{item:!0,xs:12,sm:6,lg:4,xl:3,children:(0,a.jsx)(b,{study:e})},(null===(t=e.extra_data)||void 0===t?void 0:t.uuid)||(null===(l=e.dataset_schema)||void 0===l?void 0:l.name))})}),0===e.length&&(0,a.jsx)(n.default,{sx:{textAlign:"center",py:8},children:(0,a.jsx)(d.default,{variant:"h6",color:"text.secondary",children:"No studies found"})})]})}},9450:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a=(0,l(14057).A)("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]])},1234:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a=(0,l(14057).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},64364:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a=(0,l(14057).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[380,679,565,26,125,234,779,649,441,517,358],()=>t(5465)),_N_E=e.O()}]);