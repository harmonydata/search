"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1278],{65062:(e,t,a)=>{a.d(t,{A:()=>A});var i=a(95155),l=a(68998),s=a(9561),o=a(47821),n=a(5565),r=a(1234),d=a(90675),c=a(12115),h=a(53452),u=a(78416),x=a(36417),p=a(27753),m=a(26214),v=a(22282),f=a(2743),b=a(6327),g=a(2599);function y(e){let{open:t,onClose:a,data:n,title:r="Debug Data"}=e,d=()=>{navigator.clipboard.writeText(JSON.stringify(n,null,2))};return(0,i.jsxs)(u.A,{open:t,onClose:a,maxWidth:"lg",fullWidth:!0,sx:{"& .MuiDialog-paper":{maxHeight:"90vh",height:"90vh"}},children:[(0,i.jsxs)(x.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[(0,i.jsx)(s.A,{variant:"h6",component:"div",children:r}),(0,i.jsxs)(l.default,{children:[(0,i.jsx)(o.A,{onClick:d,size:"small",sx:{mr:1},title:"Copy JSON to clipboard",children:(0,i.jsx)(f.A,{fontSize:"small"})}),(0,i.jsx)(o.A,{onClick:a,size:"small",children:(0,i.jsx)(b.A,{fontSize:"small"})})]})]}),(0,i.jsx)(p.A,{dividers:!0,sx:{p:0,height:"100%"},children:t&&(0,i.jsx)(l.default,{sx:{height:"100%",overflow:"auto","& .w-json-view-container":{backgroundColor:"#fafafa",fontSize:"13px",fontFamily:'"SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace'}},children:(0,i.jsx)(g.Ay,{value:n,collapsed:2,displayObjectSize:!0,displayDataTypes:!0,enableClipboard:!0,style:{backgroundColor:"#fafafa",padding:"16px"}})})}),(0,i.jsxs)(m.A,{children:[(0,i.jsx)(v.A,{onClick:d,startIcon:(0,i.jsx)(f.A,{}),children:"Copy JSON"}),(0,i.jsx)(v.A,{onClick:a,variant:"contained",children:"Close"})]})]})}var j=a(33084);let C=["#0de5b2","#0f1854","#2b45ed","#00af54","#aeb8fe","#fb4d3d"];function _(e){let{url:t,title:a,size:o=100}=e,n=(0,c.useMemo)(()=>(function(e){let t=e%C.length;return C[t]})(function(e){let t=0;for(let a=0;a<e.length;a++)t=(t<<5)-t+e.charCodeAt(a),t&=t;return Math.abs(t)}(a)),[a]),r=a.charAt(0).toUpperCase(),d=.28*o;return(0,i.jsxs)(l.default,{sx:{position:"relative",width:o,height:o,display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,i.jsx)(j.h,{value:t,size:o,level:"L",fgColor:n,bgColor:"white"}),(0,i.jsx)(l.default,{sx:{position:"absolute",width:d,height:d,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"white",borderRadius:"4px",border:"2px solid ".concat(n),zIndex:1},children:(0,i.jsx)(s.A,{variant:"h6",sx:{fontWeight:"bold",color:n,fontSize:.5*d,lineHeight:1},children:r})})]})}function A(e){var t,a,u,x,p,m,v,f,b,g,j,C,A,w,k,z,S,I,W,D,M,V,F;let{result:O,isSelected:R,onClick:B,onFindSimilar:N}=e,H=!!(O.ancestors&&O.ancestors.length>0),J=null===(a=O.extra_data)||void 0===a?void 0:null===(t=a.resource_type)||void 0===t?void 0:t.includes("variable"),E=null===(x=O.extra_data)||void 0===x?void 0:null===(u=x.resource_type)||void 0===u?void 0:u.includes("dataset"),[L,T]=(0,c.useState)(!1),G=O,P=O;H&&(null===(p=O.ancestors)||void 0===p?void 0:p[0])&&(P=O.ancestors[0],G=O),(null==P?void 0:null===(m=P.extra_data)||void 0===m?void 0:m.resource_type)||P.dataset_schema&&P.dataset_schema["@type"];let Q=(null===(v=P.dataset_schema)||void 0===v?void 0:v.name)||(null===(f=P.extra_data)||void 0===f?void 0:f.name)||"Unnamed Resource",U=H&&E?(null===(b=G.dataset_schema)||void 0===b?void 0:b.description)||(null===(g=G.extra_data)||void 0===g?void 0:g.description)||"":(null===(j=P.dataset_schema)||void 0===j?void 0:j.description)||(null===(C=P.extra_data)||void 0===C?void 0:C.description)||"",X=((null===(A=P.dataset_schema)||void 0===A?void 0:A.keywords)||P.topics||[]).filter(e=>"string"==typeof e&&!e.includes("<a title=")&&!e.startsWith("<")),K=(null===(w=G.dataset_schema)||void 0===w?void 0:w.number_of_variables)||(null===(z=G.dataset_schema)||void 0===z?void 0:null===(k=z.variableMeasured)||void 0===k?void 0:k.length)||0,Z=(null===(S=G.variables_which_matched)||void 0===S?void 0:S.length)||0,q=(null===(I=G.child_datasets)||void 0===I?void 0:I.length)||0,Y=(null===(W=G.dataset_schema)||void 0===W?void 0:W.includedInDataCatalog)&&G.dataset_schema.includedInDataCatalog.length>0,$=U.length>200?"".concat(U.substring(0,200),"..."):U,ee=null,[et,ea]=(0,c.useState)(!1);return(null===(D=P.dataset_schema)||void 0===D?void 0:D.image)&&!et?ee=P.dataset_schema.image:P.thumbnail&&!et&&(ee=P.thumbnail),(0,i.jsxs)(l.default,{onClick:B,sx:{cursor:"pointer",display:"flex",width:"100%",bgcolor:R?"rgba(25, 118, 210, 0.08)":"transparent",borderLeft:R?"3px solid":"3px solid transparent",borderRight:R?"3px solid":"3px solid transparent",borderColor:R?"primary.main":"transparent","&:hover":{bgcolor:R?"rgba(25, 118, 210, 0.12)":"rgba(0, 0, 0, 0.02)"}},children:[(0,i.jsxs)(l.default,{sx:{width:120,minHeight:"100%",py:2,flexShrink:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"grey.500",background:"transparent",position:"relative"},children:[ee&&!et?(0,i.jsx)(n.default,{src:ee,alt:Q,width:100,height:100,style:{objectFit:"contain"},onError:()=>ea(!0),unoptimized:!0}):(0,i.jsx)(_,{url:(()=>{var e,t,a;if((null===(e=P.dataset_schema)||void 0===e?void 0:e.url)&&P.dataset_schema.url.length>0){let e=P.dataset_schema.url[0];if(e&&(e.startsWith("http://")||e.startsWith("https://")))return e}if((null===(t=P.extra_data)||void 0===t?void 0:t.urls)&&P.extra_data.urls.length>0){let e=P.extra_data.urls[0];if(e&&(e.startsWith("http://")||e.startsWith("https://")))return e}return"https://example.com/resource/".concat((null===(a=P.extra_data)||void 0===a?void 0:a.uuid)||Q)})(),title:Q,size:100}),H&&(0,i.jsxs)(i.Fragment,{children:[J&&(0,i.jsx)(l.default,{sx:{position:"absolute",top:0,right:0,bgcolor:"primary.main",color:"white",borderRadius:"50%",width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"bold"},children:"V"}),E&&(0,i.jsx)(l.default,{sx:{position:"absolute",top:0,right:0,bgcolor:"primary.main",color:"white",borderRadius:"50%",width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"bold"},children:(0,i.jsx)(r.A,{size:16})})]})]}),(0,i.jsxs)(l.default,{sx:{display:"flex",flexDirection:"column",p:2,flex:1,background:"transparent"},children:[(0,i.jsxs)(l.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,i.jsx)(s.A,{variant:"h6",gutterBottom:!0,sx:{mb:.5,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:1.2,flex:1,mr:1},children:Q}),(0,i.jsx)(o.A,{size:"small",onClick:e=>{e.stopPropagation(),T(!0)},sx:{opacity:.6,"&:hover":{opacity:1},color:"text.secondary"},children:(0,i.jsx)(d.A,{size:16})})]}),X.length>0&&(0,i.jsx)(s.A,{variant:"body2",sx:{mb:1,color:"text.secondary"},children:X.slice(0,5).map((e,t)=>(0,i.jsxs)(l.default,{component:"span",children:[(0,i.jsx)(l.default,{component:"strong",sx:{fontSize:{xs:"0.75rem",sm:"0.85rem"}},children:e}),t<Math.min(X.length,5)-1&&(0,i.jsx)(l.default,{component:"span",sx:{mx:.5},children:"â€¢"})]},"".concat(e,"-").concat(t)))}),(0,i.jsx)(s.A,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:1.4,mb:1.5},children:$}),(0,i.jsx)(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:"auto"},children:H&&J?(0,i.jsx)(h.A,{chipVariant:"primary",size:"small",children:(null===(M=G.extra_data)||void 0===M?void 0:M.description)||(null===(V=G.extra_data)||void 0===V?void 0:V.name)},null===(F=G.extra_data)||void 0===F?void 0:F.uuid):(0,i.jsxs)(i.Fragment,{children:[K>0&&(0,i.jsx)(h.A,{chipVariant:"primary",size:"small",children:Z>0?"Matched by variable":"".concat(K," Variables")}),Y&&(0,i.jsx)(h.A,{chipVariant:"secondary",size:"small",children:"Data Available"}),q>0&&(0,i.jsxs)(h.A,{chipVariant:"secondary",size:"small",sx:{backgroundColor:"#444653",color:"white","&:hover":{backgroundColor:"#3a3d47"}},children:[q," Dataset",1!==q?"s":""]}),G.hasFreeAccess&&(0,i.jsx)(h.A,{chipVariant:"secondary",size:"small",children:"Free Access"}),G.hasCohortsAvailable&&(0,i.jsx)(h.A,{chipVariant:"secondary",size:"small",children:"Cohorts Available"})]})})]}),(0,i.jsx)(y,{open:L,onClose:()=>T(!1),data:G,title:"Debug: ".concat(Q)})]})}},73179:(e,t,a)=>{a.r(t),a.d(t,{auth:()=>n,db:()=>r});var i=a(49904),l=a(14565),s=a(54615);let o=(0,i.Wp)({apiKey:"AIzaSyBQVkRjbTQD6BXCdo2JeiFfwyvGVT7bOXM",authDomain:"harmony-6bd51.firebaseapp.com",projectId:"harmony-6bd51",storageBucket:"harmony-6bd51.appspot.com",messagingSenderId:"914732561143",appId:"1:914732561143:web:b041f0c5e7fab57400d9f2",measurementId:"G-S79J6E39ZP"}),n=(0,l.getAuth)(o),r=(0,s.getFirestore)(o)}}]);