"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5714],{13709:(e,r,t)=>{t.d(r,{A:()=>w});var a=t(95155),n=t(2778),s=t(52363),o=t(94049),i=t(25635),l=t(1151),c=t(65036),u=t(75912),d=t(70690),h=t(77073),v=t(98168);function w(e){let{open:r,onClose:t,featureName:w="This feature"}=e;return(0,a.jsxs)(n.A,{open:r,onClose:t,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[(0,a.jsx)(s.A,{children:(0,a.jsxs)(o.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsxs)(o.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,a.jsx)(v.A,{size:24,style:{color:"#ff9800"}}),(0,a.jsx)(i.A,{variant:"h6",children:"Coming Soon"})]}),(0,a.jsx)(l.A,{size:"small",onClick:t,children:(0,a.jsx)(h.A,{})})]})}),(0,a.jsx)(c.A,{dividers:!0,children:(0,a.jsxs)(i.A,{variant:"body1",color:"text.secondary",children:[w," is coming soon! We're working hard to bring you this feature."]})}),(0,a.jsx)(u.A,{sx:{p:3,pt:2},children:(0,a.jsx)(d.A,{onClick:t,variant:"contained",children:"Got it"})})]})}},41627:(e,r,t)=>{t.d(r,{D:()=>d,FirebaseProvider:()=>h});var a=t(95155),n=t(12115);let s=null,o=null,i="discoverynext_saved_resources_cache",l=e=>{try{let r={};for(let[t,a]of e.entries())r[t]=Object.fromEntries(a);localStorage.setItem(i,JSON.stringify(r))}catch(e){console.error("Error saving saved resources cache to localStorage:",e)}},c=async()=>{if(s)return s;console.log("\uD83D\uDD0D Loading Firebase Firestore modules dynamically");let[{collection:e,query:r,where:a,getDocs:n,getDoc:i,addDoc:l,deleteDoc:c,doc:u,serverTimestamp:d},{db:h}]=await Promise.all([Promise.all([t.e(2154),t.e(9820),t.e(282)]).then(t.bind(t,65705)),Promise.all([t.e(9895),t.e(2154),t.e(9820),t.e(1182),t.e(2691)]).then(t.bind(t,68464))]);return s={collection:e,query:r,where:a,getDocs:n,getDoc:i,addDoc:l,deleteDoc:c,doc:u,serverTimestamp:d},o=h,{...s,db:h}},u=(0,n.createContext)({checkIfResourceSaved:async()=>({isSaved:!1}),saveResource:async()=>{throw Error("Firebase not available on server")},unsaveResource:async()=>{throw Error("Firebase not available on server")},submitFeedback:async()=>{throw Error("Firebase not available on server")},firestoreReady:!1});function d(){return(0,n.useContext)(u)}function h(e){let{children:r}=e,[t,s]=(0,n.useState)(!1),d=(0,n.useRef)((()=>{try{let e=localStorage.getItem(i);if(e){let r=JSON.parse(e),t=new Map;for(let[e,a]of Object.entries(r))t.set(e,new Map(Object.entries(a)));return t}}catch(e){console.error("Error loading saved resources cache from localStorage:",e)}return new Map})());(0,n.useEffect)(()=>{(async()=>{try{await c(),s(!0)}catch(e){console.error("Failed to load Firebase Firestore modules:",e),s(!1)}})()},[]);let h={...n.useMemo(()=>t?{checkIfResourceSaved:async(e,r)=>{let t=d.current.get(e);if(t){let e=t.get(r);if(void 0!==e)return e}let{collection:a,query:n,where:s,getDocs:i}=await c(),u=n(a(o,"saved_resources"),s("uid","==",e),s("uuid","==",r)),h=await i(u),v=h.empty?{isSaved:!1}:{isSaved:!0,resourceId:h.docs[0].id};return d.current.has(e)||d.current.set(e,new Map),d.current.get(e).set(r,v),l(d.current),v},saveResource:async(e,r)=>{let{collection:t,addDoc:a,serverTimestamp:n}=await c(),s={...r,uid:e,created:n()},i=await a(t(o,"saved_resources"),s);d.current.has(e)||d.current.set(e,new Map);let u=r.uuid;return d.current.get(e).set(u,{isSaved:!0,resourceId:i.id}),l(d.current),i.id},unsaveResource:async e=>{let{deleteDoc:r,doc:t,getDoc:a}=await c(),n=t(o,"saved_resources",e),s=await a(n);if(s.exists()){let e=s.data(),t=e.uid,a=e.uuid;await r(n);let o=d.current.get(t);o&&a&&(o.set(a,{isSaved:!1}),l(d.current))}else await r(n)},submitFeedback:async(e,r)=>{let{collection:t,addDoc:a,serverTimestamp:n}=await c(),s={uid:"anon",rating:e,comment:r||"",created:n(),source:"discoverynext"};return await a(t(o,"ratings"),s)}}:{checkIfResourceSaved:async()=>({isSaved:!1}),saveResource:async()=>{throw Error("Firebase not available on server")},unsaveResource:async()=>{throw Error("Firebase not available on server")},submitFeedback:async()=>{throw Error("Firebase not available on server")}},[t]),firestoreReady:t};return(0,a.jsx)(u.Provider,{value:h,children:r})}},65380:(e,r,t)=>{t.d(r,{A:()=>l,AuthProvider:()=>c});var a=t(95155),n=t(12115);let s=null,o=async()=>{if(s)return s;console.log("\uD83D\uDD0D Loading Firebase modules dynamically");let[{auth:e},{GithubAuthProvider:r,TwitterAuthProvider:a,GoogleAuthProvider:n,signInWithPopup:o,signInWithEmailAndPassword:i,createUserWithEmailAndPassword:l,sendPasswordResetEmail:c,signOut:u,onAuthStateChanged:d}]=await Promise.all([Promise.all([t.e(9895),t.e(2154),t.e(9820),t.e(1182),t.e(2691)]).then(t.bind(t,68464)),Promise.all([t.e(9895),t.e(9820),t.e(1182)]).then(t.bind(t,33885))]);return s={auth:e,GithubAuthProvider:r,TwitterAuthProvider:a,GoogleAuthProvider:n,signInWithPopup:o,signInWithEmailAndPassword:i,createUserWithEmailAndPassword:l,sendPasswordResetEmail:c,signOut:u,onAuthStateChanged:d}},i=(0,n.createContext)({currentUser:null,isAdmin:!1,login:async()=>(console.warn("Auth not available on server"),null),signup:async()=>(console.warn("Auth not available on server"),null),logout:async()=>{console.warn("Auth not available on server")},resetPassword:async()=>{console.warn("Auth not available on server")},signInWithGoogle:async()=>(console.warn("Auth not available on server"),null),signInWithGitHub:async()=>(console.warn("Auth not available on server"),null),signInWithTwitter:async()=>(console.warn("Auth not available on server"),null),loading:!1});function l(){return(0,n.useContext)(i)}function c(e){let{children:r}=e,[s,l]=(0,n.useState)(null),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)(!0),[v,w]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(async()=>{try{let{auth:e,onAuthStateChanged:r}=await o();if(!e){console.warn("Firebase auth not available"),h(!1);return}return w(!0),r(e,async e=>{if(console.log("\uD83D\uDD04 Auth state changed:",{hasUser:!!e,uid:null==e?void 0:e.uid,SSR:!1}),l(e),null==e?void 0:e.uid){console.log("\uD83D\uDD10 AuthContext: User logged in, checking admin status for UID:",e.uid);try{let{isAdmin:r}=await Promise.all([t.e(9895),t.e(2154),t.e(9820),t.e(1182),t.e(7234)]).then(t.bind(t,99703));console.log("\uD83D\uDD10 AuthContext: Admin check function loaded, calling...");let a=await r(e.uid);console.log("\uD83D\uDD10 AuthContext: Admin check completed, result:",a),u(a)}catch(e){console.error("\uD83D\uDD10 AuthContext: Failed to check admin status:",e),u(!1)}}else console.log("\uD83D\uDD10 AuthContext: No user, setting isAdmin to false"),u(!1);h(!1)})}catch(e){console.error("Failed to load Firebase modules:",e),h(!1)}})()},[]);let y={currentUser:s,isAdmin:c,...n.useMemo(()=>{let e=async e=>{let{auth:r,signInWithPopup:t}=await o();return t(r,e).then(e=>e.user).catch(r=>e.credentialFromError(r))};return{login:async(e,r)=>{let{auth:t,signInWithEmailAndPassword:a}=await o();return a(t,e,r)},signup:async(e,r)=>{let{auth:t,createUserWithEmailAndPassword:a}=await o();return a(t,e,r)},logout:async()=>{let{auth:e,signOut:r}=await o();return r(e)},resetPassword:async e=>{let{auth:r,sendPasswordResetEmail:t}=await o();return t(r,e)},signInWithGoogle:async()=>{let{GoogleAuthProvider:r}=await o();return e(new r)},signInWithGitHub:async()=>{let{GithubAuthProvider:r}=await o();return e(new r)},signInWithTwitter:async()=>{let{TwitterAuthProvider:r}=await o();return e(new r)}}},[]),loading:d};return(0,a.jsx)(i.Provider,{value:y,children:r})}}}]);