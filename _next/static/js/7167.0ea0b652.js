"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7167],{98245:(e,a,t)=>{t.d(a,{A:()=>A});var i=t(95155),l=t(68998),o=t(30562),n=t(9561),s=t(47821),r=t(5565),d=t(1234),c=t(90675),h=t(12115),x=t(53452),p=t(78416),u=t(36417),m=t(27753),v=t(26214),b=t(22282),f=t(2743),g=t(6327),y=t(2599);function j(e){let{open:a,onClose:t,data:o,title:r="Debug Data"}=e,d=()=>{navigator.clipboard.writeText(JSON.stringify(o,null,2))};return(0,i.jsxs)(p.A,{open:a,onClose:t,maxWidth:"lg",fullWidth:!0,sx:{"& .MuiDialog-paper":{maxHeight:"90vh",height:"90vh"}},children:[(0,i.jsxs)(u.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[(0,i.jsx)(n.A,{variant:"h6",component:"div",children:r}),(0,i.jsxs)(l.default,{children:[(0,i.jsx)(s.A,{onClick:d,size:"small",sx:{mr:1},title:"Copy JSON to clipboard",children:(0,i.jsx)(f.A,{fontSize:"small"})}),(0,i.jsx)(s.A,{onClick:t,size:"small",children:(0,i.jsx)(g.A,{fontSize:"small"})})]})]}),(0,i.jsx)(m.A,{dividers:!0,sx:{p:0,height:"100%"},children:a&&(0,i.jsx)(l.default,{sx:{height:"100%",overflow:"auto","& .w-json-view-container":{backgroundColor:"#fafafa",fontSize:"13px",fontFamily:'"SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace'}},children:(0,i.jsx)(y.Ay,{value:o,collapsed:2,displayObjectSize:!0,displayDataTypes:!0,enableClipboard:!0,style:{backgroundColor:"#fafafa",padding:"16px"}})})}),(0,i.jsxs)(v.A,{children:[(0,i.jsx)(b.A,{onClick:d,startIcon:(0,i.jsx)(f.A,{}),children:"Copy JSON"}),(0,i.jsx)(b.A,{onClick:t,variant:"contained",children:"Close"})]})]})}function A(e){var a,t,p,u,m,v,b,f,g,y,A,C,_,w,k,z,S,M,D,I,W,V,F;let{result:O,isSelected:B,onClick:N,onFindSimilar:R}=e,J=!!(O.ancestors&&O.ancestors.length>0),T=null===(t=O.extra_data)||void 0===t?void 0:null===(a=t.resource_type)||void 0===a?void 0:a.includes("variable"),E=null===(u=O.extra_data)||void 0===u?void 0:null===(p=u.resource_type)||void 0===p?void 0:p.includes("dataset"),[H,L]=(0,h.useState)(!1),U=O,G=O;J&&(null===(m=O.ancestors)||void 0===m?void 0:m[0])&&(G=O.ancestors[0],U=O),(null==G?void 0:null===(v=G.extra_data)||void 0===v?void 0:v.resource_type)||G.dataset_schema&&G.dataset_schema["@type"];let P=(null===(b=G.dataset_schema)||void 0===b?void 0:b.name)||(null===(f=G.extra_data)||void 0===f?void 0:f.name)||"Unnamed Resource",Q=J&&E?(null===(g=U.dataset_schema)||void 0===g?void 0:g.description)||(null===(y=U.extra_data)||void 0===y?void 0:y.description)||"":(null===(A=G.dataset_schema)||void 0===A?void 0:A.description)||(null===(C=G.extra_data)||void 0===C?void 0:C.description)||"",X=((null===(_=G.dataset_schema)||void 0===_?void 0:_.keywords)||G.topics||[]).filter(e=>"string"==typeof e&&!e.includes("<a title=")&&!e.startsWith("<")),K=(null===(w=U.dataset_schema)||void 0===w?void 0:w.number_of_variables)||(null===(z=U.dataset_schema)||void 0===z?void 0:null===(k=z.variableMeasured)||void 0===k?void 0:k.length)||0,Z=(null===(S=U.variables_which_matched)||void 0===S?void 0:S.length)||0,q=(null===(M=U.child_datasets)||void 0===M?void 0:M.length)||0,Y=(null===(D=U.dataset_schema)||void 0===D?void 0:D.includedInDataCatalog)&&U.dataset_schema.includedInDataCatalog.length>0,$=Q.length>200?"".concat(Q.substring(0,200),"..."):Q,ee=null,[ea,et]=(0,h.useState)(!1);(null===(I=G.dataset_schema)||void 0===I?void 0:I.image)&&!ea?ee=G.dataset_schema.image:G.thumbnail&&!ea&&(ee=G.thumbnail);let ei=e=>{let a=e.trim();return a&&(a.replace(/^(A|The)\s+/i,"").charAt(0).toUpperCase()||a.charAt(0).toUpperCase())||"?"},el=e=>{let a=0;for(let t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a&=a;return Math.abs(a)},eo=e=>{let a=Math.max(80,Math.min(220,(0xff0000&e)>>16)),t=Math.max(80,Math.min(220,(65280&e)>>8)),i=Math.max(80,Math.min(220,255&e));return"rgb(".concat(a,", ").concat(t,", ").concat(i,")")},en=(0,h.useMemo)(()=>eo(el(P)),[P]),es=(0,h.useMemo)(()=>ei(P),[P]);return(0,i.jsxs)(l.default,{onClick:N,sx:{cursor:"pointer",display:"flex",width:"100%",bgcolor:B?"rgba(25, 118, 210, 0.08)":"transparent",borderLeft:B?"3px solid":"3px solid transparent",borderRight:B?"3px solid":"3px solid transparent",borderColor:B?"primary.main":"transparent","&:hover":{bgcolor:B?"rgba(25, 118, 210, 0.12)":"rgba(0, 0, 0, 0.02)"}},children:[(0,i.jsxs)(l.default,{sx:{width:120,minHeight:"100%",py:2,flexShrink:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"grey.500",background:"transparent",position:"relative"},children:[ee&&!ea?(0,i.jsx)(r.default,{src:ee,alt:P,width:100,height:100,style:{objectFit:"contain"},onError:()=>et(!0),unoptimized:!0}):(0,i.jsx)(o.A,{sx:{width:60,height:60,bgcolor:en,fontSize:"1.5rem",fontWeight:"bold"},children:es}),J&&(0,i.jsxs)(i.Fragment,{children:[T&&(0,i.jsx)(l.default,{sx:{position:"absolute",top:0,right:0,bgcolor:"primary.main",color:"white",borderRadius:"50%",width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"bold"},children:"V"}),E&&(0,i.jsx)(l.default,{sx:{position:"absolute",top:0,right:0,bgcolor:"primary.main",color:"white",borderRadius:"50%",width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"bold"},children:(0,i.jsx)(d.A,{size:16})})]})]}),(0,i.jsxs)(l.default,{sx:{display:"flex",flexDirection:"column",p:2,flex:1,background:"transparent"},children:[(0,i.jsxs)(l.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,i.jsx)(n.A,{variant:"h6",gutterBottom:!0,sx:{mb:.5,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:1.2,flex:1,mr:1},children:P}),(0,i.jsx)(s.A,{size:"small",onClick:e=>{e.stopPropagation(),L(!0)},sx:{opacity:.6,"&:hover":{opacity:1},color:"text.secondary"},children:(0,i.jsx)(c.A,{size:16})})]}),X.length>0&&(0,i.jsx)(n.A,{variant:"body2",sx:{mb:1,color:"text.secondary"},children:X.slice(0,5).map((e,a)=>(0,i.jsxs)(l.default,{component:"span",children:[(0,i.jsx)(l.default,{component:"strong",sx:{fontSize:{xs:"0.75rem",sm:"0.85rem"}},children:e}),a<Math.min(X.length,5)-1&&(0,i.jsx)(l.default,{component:"span",sx:{mx:.5},children:"â€¢"})]},"".concat(e,"-").concat(a)))}),(0,i.jsx)(n.A,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:1.4,mb:1.5},children:$}),(0,i.jsx)(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:"auto"},children:J&&T?(0,i.jsx)(x.A,{chipVariant:"primary",size:"small",children:(null===(W=U.extra_data)||void 0===W?void 0:W.description)||(null===(V=U.extra_data)||void 0===V?void 0:V.name)},null===(F=U.extra_data)||void 0===F?void 0:F.uuid):(0,i.jsxs)(i.Fragment,{children:[K>0&&(0,i.jsx)(x.A,{chipVariant:"primary",size:"small",children:Z>0?"Matched by variable":"".concat(K," Variables")}),Y&&(0,i.jsx)(x.A,{chipVariant:"secondary",size:"small",children:"Data Available"}),q>0&&(0,i.jsxs)(x.A,{chipVariant:"secondary",size:"small",sx:{backgroundColor:"#444653",color:"white","&:hover":{backgroundColor:"#3a3d47"}},children:[q," Dataset",1!==q?"s":""]}),U.hasFreeAccess&&(0,i.jsx)(x.A,{chipVariant:"secondary",size:"small",children:"Free Access"}),U.hasCohortsAvailable&&(0,i.jsx)(x.A,{chipVariant:"secondary",size:"small",children:"Cohorts Available"})]})})]}),(0,i.jsx)(j,{open:H,onClose:()=>L(!1),data:U,title:"Debug: ".concat(P)})]})}},73179:(e,a,t)=>{t.r(a),t.d(a,{auth:()=>s,db:()=>r});var i=t(49904),l=t(14565),o=t(54615);let n=(0,i.Wp)({apiKey:"AIzaSyBQVkRjbTQD6BXCdo2JeiFfwyvGVT7bOXM",authDomain:"harmony-6bd51.firebaseapp.com",projectId:"harmony-6bd51",storageBucket:"harmony-6bd51.appspot.com",messagingSenderId:"914732561143",appId:"1:914732561143:web:b041f0c5e7fab57400d9f2",measurementId:"G-S79J6E39ZP"}),s=(0,l.getAuth)(n),r=(0,o.getFirestore)(n)}}]);