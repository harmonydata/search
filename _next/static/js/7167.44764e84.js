"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7167],{98245:(e,a,i)=>{i.d(a,{A:()=>k});var t=i(95155),s=i(68998),l=i(9561),n=i(47821),o=i(5565),r=i(1234),d=i(64517),c=i(9450),h=i(64364),x=i(52604),p=i(90675),u=i(12115),m=i(53452),v=i(78416),b=i(36417),f=i(27753),g=i(26214),y=i(22282),j=i(2743),A=i(6327),C=i(2599);function _(e){let{open:a,onClose:i,data:o,title:r="Debug Data"}=e,d=()=>{navigator.clipboard.writeText(JSON.stringify(o,null,2))};return(0,t.jsxs)(v.A,{open:a,onClose:i,maxWidth:"lg",fullWidth:!0,sx:{"& .MuiDialog-paper":{maxHeight:"90vh",height:"90vh"}},children:[(0,t.jsxs)(b.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[(0,t.jsx)(l.A,{variant:"h6",component:"div",children:r}),(0,t.jsxs)(s.default,{children:[(0,t.jsx)(n.A,{onClick:d,size:"small",sx:{mr:1},title:"Copy JSON to clipboard",children:(0,t.jsx)(j.A,{fontSize:"small"})}),(0,t.jsx)(n.A,{onClick:i,size:"small",children:(0,t.jsx)(A.A,{fontSize:"small"})})]})]}),(0,t.jsx)(f.A,{dividers:!0,sx:{p:0,height:"100%"},children:a&&(0,t.jsx)(s.default,{sx:{height:"100%",overflow:"auto","& .w-json-view-container":{backgroundColor:"#fafafa",fontSize:"13px",fontFamily:'"SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace'}},children:(0,t.jsx)(C.Ay,{value:o,collapsed:2,displayObjectSize:!0,displayDataTypes:!0,enableClipboard:!0,style:{backgroundColor:"#fafafa",padding:"16px"}})})}),(0,t.jsxs)(g.A,{children:[(0,t.jsx)(y.A,{onClick:d,startIcon:(0,t.jsx)(j.A,{}),children:"Copy JSON"}),(0,t.jsx)(y.A,{onClick:i,variant:"contained",children:"Close"})]})]})}var w=i(3485);function k(e){var a,i,v,b,f,g,y,j,A,C,k,z,S,I,D,V,W,F,M,O,R,B,N;let{result:J,isSelected:T,onClick:E,onFindSimilar:H}=e,L=!!(J.ancestors&&J.ancestors.length>0),P=null===(i=J.extra_data)||void 0===i?void 0:null===(a=i.resource_type)||void 0===a?void 0:a.includes("variable"),U=null===(b=J.extra_data)||void 0===b?void 0:null===(v=b.resource_type)||void 0===v?void 0:v.includes("dataset"),[G,Q]=(0,u.useState)(!1),X=J,K=J;L&&(null===(f=J.ancestors)||void 0===f?void 0:f[0])&&(K=J.ancestors[0],X=J);let Z=(null==K?void 0:null===(g=K.extra_data)||void 0===g?void 0:g.resource_type)||K.dataset_schema&&K.dataset_schema["@type"]||"Unknown Resource Type",q=(null===(y=K.dataset_schema)||void 0===y?void 0:y.name)||(null===(j=K.extra_data)||void 0===j?void 0:j.name)||"Unnamed Resource",Y=L&&U?(null===(A=X.dataset_schema)||void 0===A?void 0:A.description)||(null===(C=X.extra_data)||void 0===C?void 0:C.description)||"":(null===(k=K.dataset_schema)||void 0===k?void 0:k.description)||(null===(z=K.extra_data)||void 0===z?void 0:z.description)||"",$=((null===(S=K.dataset_schema)||void 0===S?void 0:S.keywords)||K.topics||[]).filter(e=>"string"==typeof e&&!e.includes("<a title=")&&!e.startsWith("<")),ee=(null===(I=X.dataset_schema)||void 0===I?void 0:I.number_of_variables)||(null===(V=X.dataset_schema)||void 0===V?void 0:null===(D=V.variableMeasured)||void 0===D?void 0:D.length)||0,ea=(null===(W=X.variables_which_matched)||void 0===W?void 0:W.length)||0,ei=(null===(F=X.child_datasets)||void 0===F?void 0:F.length)||0,et=(null===(M=X.dataset_schema)||void 0===M?void 0:M.includedInDataCatalog)&&X.dataset_schema.includedInDataCatalog.length>0,es=Y.length>200?"".concat(Y.substring(0,200),"..."):Y,el=null,[en,eo]=(0,u.useState)(!1);return(null===(O=K.dataset_schema)||void 0===O?void 0:O.image)&&!en?el=K.dataset_schema.image:K.thumbnail&&!en&&(el=K.thumbnail),(0,t.jsxs)(s.default,{onClick:E,sx:{cursor:"pointer",display:"flex",width:"100%",bgcolor:T?"rgba(25, 118, 210, 0.08)":"transparent",borderLeft:T?"3px solid":"3px solid transparent",borderRight:T?"3px solid":"3px solid transparent",borderColor:T?"primary.main":"transparent","&:hover":{bgcolor:T?"rgba(25, 118, 210, 0.12)":"rgba(0, 0, 0, 0.02)"}},children:[(0,t.jsxs)(s.default,{sx:{width:120,minHeight:"100%",py:2,flexShrink:1,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",color:"grey.500",background:"transparent",position:"relative"},children:[el&&!en?(0,t.jsx)(o.default,{src:el,alt:q,width:100,height:100,style:{objectFit:"contain"},onError:()=>eo(!0),unoptimized:!0}):Z.includes("dataset")?(0,t.jsx)(r.A,{size:48}):Z.includes("variable")?(0,t.jsx)(d.A,{size:48}):Z.includes("study")?(0,t.jsx)(c.A,{size:48}):(0,t.jsx)(h.A,{size:48}),L&&(0,t.jsxs)(t.Fragment,{children:[P&&(0,t.jsx)(s.default,{sx:{position:"absolute",top:0,right:0,bgcolor:"primary.main",color:"white",borderRadius:"50%",width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"bold"},children:"V"}),U&&(0,t.jsx)(s.default,{sx:{position:"absolute",top:0,right:0,bgcolor:"primary.main",color:"white",borderRadius:"50%",width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"bold"},children:(0,t.jsx)(r.A,{size:16})})]}),(0,t.jsx)(s.default,{sx:{mt:1,width:"100%",display:"flex",justifyContent:"center"},children:(0,t.jsxs)(m.A,{chipVariant:"secondary",size:"small",onClick:e=>{var a;e.stopPropagation(),(null===(a=X.extra_data)||void 0===a?void 0:a.uuid)&&window.open("".concat((0,w.xC)(),"discover?like=").concat(X.extra_data.uuid),"_blank")},sx:{cursor:"pointer",display:"flex",alignItems:"center",gap:.5},children:["Find Similar ",(0,t.jsx)(x.A,{size:14,style:{marginLeft:4}})]})})]}),(0,t.jsxs)(s.default,{sx:{display:"flex",flexDirection:"column",p:2,flex:1,background:"transparent"},children:[(0,t.jsxs)(s.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,t.jsx)(l.A,{variant:"h6",gutterBottom:!0,sx:{mb:.5,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:1.2,flex:1,mr:1},children:q}),(0,t.jsx)(n.A,{size:"small",onClick:e=>{e.stopPropagation(),Q(!0)},sx:{opacity:.6,"&:hover":{opacity:1},color:"text.secondary"},children:(0,t.jsx)(p.A,{size:16})})]}),$.length>0&&(0,t.jsx)(l.A,{variant:"body2",sx:{mb:1,color:"text.secondary"},children:$.slice(0,5).map((e,a)=>(0,t.jsxs)(s.default,{component:"span",children:[(0,t.jsx)(s.default,{component:"strong",sx:{fontSize:{xs:"0.75rem",sm:"0.85rem"}},children:e}),a<Math.min($.length,5)-1&&(0,t.jsx)(s.default,{component:"span",sx:{mx:.5},children:"â€¢"})]},"".concat(e,"-").concat(a)))}),(0,t.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:1.4,mb:1.5},children:es}),(0,t.jsx)(s.default,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:"auto"},children:L&&P?(0,t.jsx)(m.A,{chipVariant:"primary",size:"small",children:(null===(R=X.extra_data)||void 0===R?void 0:R.description)||(null===(B=X.extra_data)||void 0===B?void 0:B.name)},null===(N=X.extra_data)||void 0===N?void 0:N.uuid):(0,t.jsxs)(t.Fragment,{children:[ee>0&&(0,t.jsx)(m.A,{chipVariant:"primary",size:"small",children:ea>0?"Matched by variable":"".concat(ee," Variables")}),et&&(0,t.jsx)(m.A,{chipVariant:"secondary",size:"small",children:"Data Available"}),ei>0&&(0,t.jsxs)(m.A,{chipVariant:"secondary",size:"small",sx:{backgroundColor:"#444653",color:"white","&:hover":{backgroundColor:"#3a3d47"}},children:[ei," Dataset",1!==ei?"s":""]}),X.hasFreeAccess&&(0,t.jsx)(m.A,{chipVariant:"secondary",size:"small",children:"Free Access"}),X.hasCohortsAvailable&&(0,t.jsx)(m.A,{chipVariant:"secondary",size:"small",children:"Cohorts Available"})]})})]}),(0,t.jsx)(_,{open:G,onClose:()=>Q(!1),data:X,title:"Debug: ".concat(q)})]})}},73179:(e,a,i)=>{i.d(a,{db:()=>o});var t=i(49904),s=i(14565),l=i(54615);let n=(0,t.Wp)({apiKey:"AIzaSyBQVkRjbTQD6BXCdo2JeiFfwyvGVT7bOXM",authDomain:"harmony-6bd51.firebaseapp.com",projectId:"harmony-6bd51",storageBucket:"harmony-6bd51.appspot.com",messagingSenderId:"914732561143",appId:"1:914732561143:web:b041f0c5e7fab57400d9f2",measurementId:"G-S79J6E39ZP"});(0,s.getAuth)(n);let o=(0,l.aU)(n)}}]);