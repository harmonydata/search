"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7626],{65776:(e,a,t)=>{t.d(a,{A:()=>c});var i=t(95155),l=t(64665),s=t(68998),r=t(9561),o=t(5565),d=t(3485),n=t(12115);function c(e){let{name:a,url:t,logo:c,inactive:u,compact:h}=e,[x,v]=(0,n.useState)(c),[m,f]=(0,n.useState)(!1);(0,n.useEffect)(()=>{console.log('Resolving logo for organization: "'.concat(a,'"'));try{let e=(0,d.sM)(a,c);console.log('Resolved logo for organization "'.concat(a,'":'),e),v(e),f(!1)}catch(e){console.error('Error resolving logo for organization "'.concat(a,'":'),e),v(void 0)}},[a,c]);let p=x&&x.length>0&&!m;return(0,i.jsxs)(l.A,{elevation:0,sx:{display:"flex",borderRadius:"16px",overflow:"hidden",width:h?"220px":"280px",height:h?"75px":"85px",flexShrink:0,border:"1px solid",borderColor:"grey.200",cursor:t?"pointer":"default",transition:"all 0.2s",opacity:u?.5:1,"&:hover":t?{boxShadow:2,borderColor:"primary.main"}:{}},onClick:()=>{t&&window.open(t,"_blank","noopener,noreferrer")},children:[(0,i.jsx)(s.default,{sx:{flex:1,bgcolor:"rgba(0,0,0,0.03)",p:2,display:"flex",flexDirection:"column",justifyContent:"center"},children:(0,i.jsx)(r.A,{sx:{fontWeight:500,fontSize:h?"0.8rem":"0.9rem",lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",maxHeight:"3.9em",wordBreak:"break-word",paddingBottom:"1px"},children:a})}),p&&(0,i.jsx)(s.default,{sx:{width:"30%",bgcolor:"white",display:"flex",alignItems:"center",justifyContent:"center",p:1,borderLeft:"1px solid",borderColor:"grey.200"},children:(0,i.jsx)(o.default,{src:x,alt:a,width:h?40:50,height:h?40:50,style:{objectFit:"contain"},onError:()=>{console.error('Error loading image for organization "'.concat(a,'" from path: ').concat(x)),f(!0)},unoptimized:!0})})]})}},77626:(e,a,t)=>{t.d(a,{default:()=>z});var i=t(95155),l=t(68998),s=t(96854),r=t(9561),o=t(47821),d=t(35256),n=t(5565),c=t(20687),u=t(52488),h=t(32645),x=t(12115),v=t(53452),m=t(64665),f=t(3485);function p(e){let{name:a,url:t,logo:s}=e,[o,d]=(0,x.useState)(s),[c,u]=(0,x.useState)(!1);(0,x.useEffect)(()=>{console.log('Resolving logo for data catalog: "'.concat(a,'"'));try{let e=(0,f.sM)(a,s);console.log('Resolved logo for data catalog "'.concat(a,'":'),e),d(e),u(!1)}catch(e){console.error('Error resolving logo for data catalog "'.concat(a,'":'),e),d(void 0)}},[a,s]);let h=o&&o.length>0&&!c;return(0,i.jsxs)(m.A,{elevation:0,sx:{display:"flex",borderRadius:"16px",overflow:"hidden",width:"280px",height:"80px",flexShrink:0,border:"1px solid",borderColor:"grey.200",cursor:t?"pointer":"default",transition:"all 0.2s","&:hover":t?{boxShadow:2,borderColor:"primary.main"}:{}},onClick:()=>{t&&window.open(t,"_blank","noopener,noreferrer")},children:[(0,i.jsx)(l.default,{sx:{flex:1,bgcolor:"rgba(0,0,0,0.03)",p:2,display:"flex",flexDirection:"column",justifyContent:"center"},children:(0,i.jsx)(r.A,{sx:{fontWeight:500,fontSize:"0.9rem",lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",maxHeight:"3.7em",wordBreak:"break-word"},children:a})}),h&&(0,i.jsx)(l.default,{sx:{width:"30%",bgcolor:"white",display:"flex",alignItems:"center",justifyContent:"center",p:1,borderLeft:"1px solid",borderColor:"grey.200"},children:(0,i.jsx)(n.default,{src:o,alt:a,width:50,height:50,style:{objectFit:"contain"},onError:()=>{console.error('Error loading image for data catalog "'.concat(a,'" from path: ').concat(o)),u(!0)},unoptimized:!0})})]})}var g=t(65776),b=t(51857),_=t(67247),y=t(77711),j=t(17146),w=t(63612),A=t(42649),k=t(76046);let C=(0,y.default)(()=>Promise.all([t.e(6386),t.e(9197),t.e(2857),t.e(9234),t.e(2926),t.e(2492),t.e(9260),t.e(1702),t.e(914),t.e(1983),t.e(6356)]).then(t.bind(t,66356)),{loadableGenerated:{webpack:()=>[66356]},loading:()=>(0,i.jsx)("div",{children:"Loading variables..."})}),S=(0,y.default)(()=>Promise.all([t.e(9197),t.e(2857),t.e(9234),t.e(2926),t.e(2492),t.e(8173),t.e(1702),t.e(914),t.e(8466)]).then(t.bind(t,58466)),{loadableGenerated:{webpack:()=>[58466]},loading:()=>(0,i.jsx)("div",{children:"Loading datasets..."})}),z=(0,x.memo)(e=>{var a,m,f,y,z,I,W,D,E,R,P,M,B,F,L,O,V,T,H,N,G,U,q,X,Y,J,K,Q,Z,$,ee,ea,et,ei,el,es,er,eo,ed,en,ec,eu,eh,ex,ev,em,ef,ep,eg,eb,e_;let{study:ey,isDrawerView:ej=!1,studyDataComplete:ew=!1}=e,[eA,ek]=(0,x.useState)(!1),[eC,eS]=(0,x.useState)(!1),[ez,eI]=(0,x.useState)(!1),[eW,eD]=(0,x.useState)(!1),[eE,eR]=(0,x.useState)(!0),[eP,eM]=(0,x.useState)(!1),[eB,eF]=(0,x.useState)(!1),[eL,eO]=(0,x.useState)(null),[eV,eT]=(0,x.useState)(!1),[eH,eN]=(0,x.useState)({description:!0,details:!1,variables:!1,links:!1,childDatasets:!1}),[eG,eU]=(0,x.useState)(null),[eq,eX]=(0,x.useState)(!1),eY=(0,x.useRef)(null),{currentUser:eJ}=(0,j.A)(),{searchSettings:eK,updateSearchSettings:eQ}=(0,w.S)(),eZ=(0,k.useRouter)(),e$=(0,k.usePathname)(),[e0,e1]=(0,x.useState)(!1);(0,x.useEffect)(()=>{e1(!0)},[]);let e2=eG||ey;(0,x.useEffect)(()=>{eU(null)},[null===(a=ey.extra_data)||void 0===a?void 0:a.uuid]);let e5=(e,a)=>{let t=eK.selectedFilters,i=t[e]||[],l=i.includes(a)?i:[...i,a];eQ({selectedFilters:{...t,[e]:l}}),"/discover"!==e$&&eZ.push("/discover")},e6=(null===(m=e2.dataset_schema)||void 0===m?void 0:m.name)||(null===(f=e2.extra_data)||void 0===f?void 0:f.name)||"Untitled Dataset",e4=(null===(y=e2.dataset_schema)||void 0===y?void 0:y.description)||(null===(z=e2.extra_data)||void 0===z?void 0:z.description)||"",e7=(null===(I=e2.extra_data)||void 0===I?void 0:I.ai_summary)||null,e3=e7&&e7.trim().length>0,e9=eE&&e3?e7:e4,e8=(null===(W=e2.dataset_schema)||void 0===W?void 0:W.image)||e2.image||void 0,ae=((null===(D=e2.dataset_schema)||void 0===D?void 0:D.keywords)||[]).filter(e=>"string"==typeof e&&!e.includes("<a title=")&&!e.startsWith("<")),aa=ae.length>0,at=((null===(E=e2.extra_data)||void 0===E?void 0:E.instruments)||[]).length>0,ai=(e2.variables_which_matched||[]).length>0||((null===(R=e2.dataset_schema)||void 0===R?void 0:R.variableMeasured)||[]).length>0||((null===(P=e2.dataset_schema)||void 0===P?void 0:P.number_of_variables)||0)>0,al=[];if((null===(M=e2.dataset_schema)||void 0===M?void 0:M.identifier)&&Array.isArray(e2.dataset_schema.identifier)){let e=e2.dataset_schema.identifier.filter(e=>!!(e.startsWith("http://")||e.startsWith("https://")||e.startsWith("10.")&&e.includes("/"))).map(e=>e.startsWith("10.")&&e.includes("/")?"https://doi.org/".concat(e):e);al.push(...e)}(null===(B=e2.dataset_schema)||void 0===B?void 0:B.url)&&Array.isArray(e2.dataset_schema.url)&&al.push(...e2.dataset_schema.url);let as=al.length>0;(0,x.useEffect)(()=>{eD(!1)},[null===(F=e2.dataset_schema)||void 0===F?void 0:F.name,null===(L=e2.extra_data)||void 0===L?void 0:L.name]),(0,x.useEffect)(()=>{eI(!1)},[null===(O=e2.dataset_schema)||void 0===O?void 0:O.name,null===(V=e2.extra_data)||void 0===V?void 0:V.name]),(0,x.useEffect)(()=>{eY.current&&eY.current.scrollTo({top:0,behavior:"smooth"})},[null===(T=e2.extra_data)||void 0===T?void 0:T.uuid]),(0,x.useEffect)(()=>{(async()=>{var e;if(eJ&&(null===(e=e2.extra_data)||void 0===e?void 0:e.uuid))try{let{collection:e,query:a,where:i,getDocs:l}=await Promise.all([t.e(2154),t.e(1972),t.e(7710)]).then(t.bind(t,54615)),{db:s}=await Promise.all([t.e(2154),t.e(9895),t.e(1972),t.e(7512),t.e(92)]).then(t.bind(t,73179)),r=a(e(s,"saved_resources"),i("uid","==",eJ.uid),i("uuid","==",e2.extra_data.uuid)),o=await l(r);if(o.empty)eM(!1),eO(null);else{let e=o.docs[0];eM(!0),eO(e.id)}}catch(e){console.error("Error checking if resource is saved:",e)}})()},[eJ,null===(H=e2.extra_data)||void 0===H?void 0:H.uuid]);let ar=async()=>{var e,a,i,l,s,r,o,d,n,c,u,h,x,v,m;if(eJ&&(null===(e=e2.extra_data)||void 0===e?void 0:e.uuid)&&!eB){eF(!0);try{let{collection:e,addDoc:f,serverTimestamp:p,query:g,where:b,getDocs:_,deleteDoc:y,doc:j}=await Promise.all([t.e(2154),t.e(1972),t.e(7710)]).then(t.bind(t,54615)),{db:w}=await Promise.all([t.e(2154),t.e(9895),t.e(1972),t.e(7512),t.e(92)]).then(t.bind(t,73179));if(eP&&eL)await y(j(w,"saved_resources",eL)),eM(!1),eO(null);else{let t=(null===(a=e2.dataset_schema)||void 0===a?void 0:a.name)||(null===(i=e2.extra_data)||void 0===i?void 0:i.name)||"Untitled Dataset",g=(null===(l=e2.extra_data)||void 0===l?void 0:l.ai_summary)||(null===(s=e2.dataset_schema)||void 0===s?void 0:s.description)||(null===(r=e2.extra_data)||void 0===r?void 0:r.description)||"",b=(null===(o=e2.dataset_schema)||void 0===o?void 0:o.image)||e2.image||null,_=(null===(d=e2.extra_data)||void 0===d?void 0:d.ai_summary)||null,y={title:t,description:_||g,image:b||null,uuid:e2.extra_data.uuid,slug:e2.extra_data.slug||null,resourceType:e2.extra_data.resource_type||null,keywords:(null===(n=e2.dataset_schema)||void 0===n?void 0:n.keywords)||[],variablesCount:(null===(u=e2.dataset_schema)||void 0===u?void 0:null===(c=u.variableMeasured)||void 0===c?void 0:c.length)||(null===(h=e2.dataset_schema)||void 0===h?void 0:h.number_of_variables)||0,datasetsCount:(null===(x=e2.child_datasets)||void 0===x?void 0:x.length)||0,hasDataAvailable:!!(null===(m=e2.dataset_schema)||void 0===m?void 0:null===(v=m.includedInDataCatalog)||void 0===v?void 0:v.length),hasFreeAccess:e2.hasFreeAccess||!1,hasCohortsAvailable:e2.hasCohortsAvailable||!1,uid:eJ.uid,created:p()},j=await f(e(w,"saved_resources"),y);eM(!0),eO(j.id)}}catch(e){console.error("Error saving/unsaving resource:",e)}finally{eF(!1)}}};(0,x.useEffect)(()=>{var e;eR(!!((null===(e=e2.extra_data)||void 0===e?void 0:e.ai_summary)&&e2.extra_data.ai_summary.trim().length>0))},[null===(N=e2.dataset_schema)||void 0===N?void 0:N.name,null===(G=e2.extra_data)||void 0===G?void 0:G.name,null===(U=e2.extra_data)||void 0===U?void 0:U.ai_summary]),(0,x.useEffect)(()=>{var e;let a=!1;if(eU(null),!ew&&(null==e2?void 0:null===(e=e2.extra_data)||void 0===e?void 0:e.uuid))return eX(!0),(async()=>{try{let e=await (0,A.w3)(e2.extra_data.uuid,eK.query,eK.hybridWeight,eK.maxDistance);a||(eU(e),eX(!1))}catch(e){console.error("Failed to load enhanced study data:",e),a||eX(!1)}})(),()=>{a=!0}},[null==e2?void 0:null===(q=e2.extra_data)||void 0===q?void 0:q.uuid,ew,eK.query,eK.hybridWeight,eK.maxDistance]);let ao=e=>{eN(a=>({...a,[e]:!a[e]}))},ad=(0,x.useMemo)(()=>{var e;let a=e2.variables_which_matched||[],t=(null===(e=e2.dataset_schema)||void 0===e?void 0:e.variableMeasured)||[],i=new Map;return a.forEach(e=>{let a=e.name;a&&i.set(a,{...e,matched:!0})}),t.forEach(e=>{let a=e.name;!a||i.has(a)||i.set(a,e)}),Array.from(i.values())},[e2.variables_which_matched,null===(X=e2.dataset_schema)||void 0===X?void 0:X.variableMeasured]);return(0,i.jsxs)(l.default,{ref:eY,sx:{p:3,width:"100%",height:"100%",overflowY:"auto",flex:1,display:"flex",flexDirection:"column",position:"relative"},children:[eq&&(0,i.jsxs)(l.default,{sx:{position:"absolute",top:8,right:8,zIndex:10,display:"flex",alignItems:"center",gap:.5,p:.5,bgcolor:"background.paper",borderRadius:1,boxShadow:1,border:"1px solid",borderColor:"divider"},children:[(0,i.jsx)(s.A,{size:12}),(0,i.jsx)(r.A,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.6rem",sm:"0.7rem"}},children:"Loading..."})]}),ej&&eJ&&(0,i.jsx)(l.default,{sx:{display:"flex",justifyContent:"flex-end",mb:2},children:(0,i.jsx)(o.A,{onClick:ar,disabled:eB,sx:{color:eP?"primary.main":"text.secondary","&:hover":{color:eP?"primary.dark":"primary.main"}},title:eP?"Remove from saved":"Save to my resources",children:eB?(0,i.jsx)(s.A,{size:20}):(0,i.jsx)(c.A,{size:20,fill:eP?"currentColor":"none"})})}),!ej&&(0,i.jsxs)(l.default,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:2,mb:4},children:[(0,i.jsx)(l.default,{sx:{flex:1},children:(0,i.jsxs)(l.default,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},children:[(0,i.jsx)(r.A,{variant:"h4",gutterBottom:!0,sx:{flex:1,mr:1},children:e6}),eJ&&(0,i.jsx)(o.A,{onClick:ar,disabled:eB,sx:{color:eP?"primary.main":"text.secondary","&:hover":{color:eP?"primary.dark":"primary.main"}},title:eP?"Remove from saved":"Save to my resources",children:eB?(0,i.jsx)(s.A,{size:20}):(0,i.jsx)(c.A,{size:20,fill:eP?"currentColor":"none"})})]})}),e8&&!eW&&(0,i.jsx)(l.default,{sx:{width:100,height:100,position:"relative",borderRadius:"8px",overflow:"hidden",flexShrink:0},children:(0,i.jsx)(n.default,{src:e8,alt:e6,fill:!0,style:{objectFit:"contain"},onError:()=>eD(!0),unoptimized:!0},e6)})]}),e9&&(0,i.jsxs)(l.default,{sx:{mb:4},children:[ez?(0,i.jsx)(b.A,{text:e9,paragraphProps:{variant:"body1",sx:{mb:2}},compact:!0}):(0,i.jsx)(r.A,{variant:"body1",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:5,WebkitBoxOrient:"vertical",mb:2},children:e9}),e3&&ez&&(0,i.jsx)(l.default,{sx:{mt:2,mb:1},children:(0,i.jsx)(r.A,{variant:"body2",color:"primary",sx:{cursor:"pointer",textDecoration:"underline","&:hover":{textDecoration:"none"}},onClick:()=>eR(!eE),children:eE?"Showing AI summary, click to see original":"Showing original, click to see AI summary"})}),e9.length>300&&(0,i.jsxs)(l.default,{onClick:()=>eI(!ez),sx:{display:"flex",alignItems:"center",color:"primary.main",cursor:"pointer",mt:1},children:[(0,i.jsx)(r.A,{variant:"body2",color:"primary",sx:{fontWeight:500,mr:1},children:ez?"Show Less":"Show More"}),ez?(0,i.jsx)(u.A,{size:16}):(0,i.jsx)(h.A,{size:16})]})]}),ai&&(0,i.jsxs)(l.default,{sx:{mb:4},children:[(0,i.jsx)(v.A,{fullWidth:!0,chipVariant:"secondary",endIcon:eA?(0,i.jsx)(u.A,{size:16,style:{fill:"#004735",stroke:"none"}}):(0,i.jsx)(h.A,{size:16,style:{fill:"#004735",stroke:"none"}}),sx:{justifyContent:"space-between",py:2,height:"auto"},onClick:()=>ek(!eA),children:(null===(Y=e2.variables_which_matched)||void 0===Y?void 0:Y.length)?"Related Variables (".concat(e2.variables_which_matched.length," / ").concat((null===($=e2.dataset_schema)||void 0===$?void 0:null===(Z=$.variableMeasured)||void 0===Z?void 0:Z.length)||(null===(ee=e2.dataset_schema)||void 0===ee?void 0:ee.number_of_variables)||0,")"):"Variables (".concat((null===(K=e2.dataset_schema)||void 0===K?void 0:null===(J=K.variableMeasured)||void 0===J?void 0:J.length)||(null===(Q=e2.dataset_schema)||void 0===Q?void 0:Q.number_of_variables)||0,")")}),(0,i.jsx)(d.A,{in:eA,children:(0,i.jsx)(l.default,{sx:{p:2,bgcolor:"rgba(0, 0, 0, 0.02)",borderRadius:2,mb:2},children:(0,i.jsx)(C,{variables:ad,studyName:e6})})})]}),(0,i.jsxs)(l.default,{sx:{mb:4},children:[(0,i.jsx)(v.A,{fullWidth:!0,chipVariant:"secondary",endIcon:eH.details?(0,i.jsx)(u.A,{size:16,style:{fill:"#004735",stroke:"none"}}):(0,i.jsx)(h.A,{size:16,style:{fill:"#004735",stroke:"none"}}),sx:{justifyContent:"space-between",py:2,height:"auto"},onClick:()=>ao("details"),children:"Details"}),(0,i.jsx)(d.A,{in:eH.details,children:(0,i.jsx)(l.default,{sx:{p:2,bgcolor:"rgba(0, 0, 0, 0.02)",borderRadius:2,mb:2},children:(0,i.jsxs)(l.default,{sx:{display:"flex",flexDirection:"column",gap:3},children:[(null===(et=ey.dataset_schema)||void 0===et?void 0:null===(ea=et.publisher)||void 0===ea?void 0:ea[0])&&(0,i.jsxs)(l.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)(r.A,{variant:"subtitle2",children:"Publisher:"}),(0,i.jsx)(g.A,{name:ey.dataset_schema.publisher[0].name||"Unknown Publisher",url:null===(ei=ey.dataset_schema.publisher[0])||void 0===ei?void 0:ei.url,logo:null===(el=ey.dataset_schema.publisher[0])||void 0===el?void 0:el.logo})]}),((null===(es=ey.extra_data)||void 0===es?void 0:es.geographic_coverage)||(null===(er=ey.extra_data)||void 0===er?void 0:er.country_codes))&&(0,i.jsxs)(l.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)(r.A,{variant:"subtitle2",children:"Geographic Coverage:"}),(0,i.jsx)(r.A,{children:ey.extra_data.geographic_coverage||(null===(eo=ey.extra_data.country_codes)||void 0===eo?void 0:eo.join(", "))})]}),((null===(ed=ey.dataset_schema)||void 0===ed?void 0:ed.temporalCoverage)||(null===(en=ey.extra_data)||void 0===en?void 0:en.start_year)&&(null===(ec=ey.extra_data)||void 0===ec?void 0:ec.end_year))&&(0,i.jsxs)(l.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)(r.A,{variant:"subtitle2",children:"Temporal Coverage:"}),(0,i.jsx)(r.A,{children:(e=>{if(!e)return"Not specified";if(e.includes("..")){let[a,t]=e.split("..");return t?"".concat(a," - ").concat(t):"".concat(a," - Present (Ongoing)")}return e})((null===(eu=ey.dataset_schema)||void 0===eu?void 0:eu.temporalCoverage)||"".concat(ey.extra_data.start_year,"..").concat(ey.extra_data.end_year))})]}),(null===(eh=ey.extra_data)||void 0===eh?void 0:eh.sample_size)&&(0,i.jsxs)(l.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)(r.A,{variant:"subtitle2",children:"Sample Size:"}),(0,i.jsx)(r.A,{children:ey.extra_data.sample_size})]}),((null===(ex=ey.extra_data)||void 0===ex?void 0:ex.age_lower)||(null===(ev=ey.extra_data)||void 0===ev?void 0:ev.age_upper))&&(0,i.jsxs)(l.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)(r.A,{variant:"subtitle2",children:"Age Coverage:"}),(0,i.jsx)(r.A,{children:ey.extra_data.age_lower&&ey.extra_data.age_upper?"".concat(ey.extra_data.age_lower," - ").concat(ey.extra_data.age_upper," years"):ey.extra_data.age_lower?"".concat(ey.extra_data.age_lower,"+ years"):"0 - ".concat(ey.extra_data.age_upper," years")})]}),(null===(em=ey.extra_data)||void 0===em?void 0:em.resource_type)&&(0,i.jsxs)(l.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)(r.A,{variant:"subtitle2",children:"Resource Type:"}),(0,i.jsx)(r.A,{children:ey.extra_data.resource_type})]}),(null===(ef=ey.extra_data)||void 0===ef?void 0:ef.study_design)&&ey.extra_data.study_design.length>0&&(0,i.jsxs)(l.default,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)(r.A,{variant:"subtitle2",children:"Study Design:"}),(0,i.jsx)(r.A,{children:ey.extra_data.study_design.join(", ")})]})]})})})]}),(null===(ep=ey.dataset_schema)||void 0===ep?void 0:ep.funder)&&ey.dataset_schema.funder.length>0&&(0,i.jsxs)(l.default,{sx:{mb:4,flexShrink:0},children:[(0,i.jsx)(r.A,{variant:"subtitle2",gutterBottom:!0,children:"Funders:"}),(0,i.jsx)(l.default,{sx:{display:"flex",overflowX:"auto",gap:2,pb:1,"&::-webkit-scrollbar":{height:6},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,0.2)",borderRadius:3}},children:ey.dataset_schema.funder.map((e,a)=>(0,i.jsx)(g.A,{name:e.name||"Funding Organization",url:null==e?void 0:e.url,logo:null==e?void 0:e.logo},"".concat(e.name,"-").concat(a)))})]}),(null===(eg=ey.dataset_schema)||void 0===eg?void 0:eg.includedInDataCatalog)&&ey.dataset_schema.includedInDataCatalog.length>0&&(0,i.jsxs)(l.default,{sx:{mb:4,flexShrink:0},children:[(0,i.jsx)(r.A,{variant:"subtitle2",gutterBottom:!0,children:"Available in Data Catalogs:"}),(0,i.jsx)(l.default,{sx:{display:"flex",overflowX:"auto",gap:2,pb:1,"&::-webkit-scrollbar":{height:6},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,0.2)",borderRadius:3}},children:ey.dataset_schema.includedInDataCatalog.map((e,a)=>(0,i.jsx)(p,{name:e.name||"Data Catalog",url:e.url,logo:e.image},"".concat(e.name,"-").concat(a)))})]}),aa&&(0,i.jsxs)(l.default,{sx:{mb:4},children:[(0,i.jsx)(r.A,{variant:"subtitle2",gutterBottom:!0,children:"Topics:"}),(0,i.jsx)(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:ae.map((e,a)=>(0,i.jsx)(v.A,{onClick:a=>{a.stopPropagation(),e0&&e5("keywords",e)},sx:{cursor:"pointer"},children:e},"topic-".concat(a)))})]}),as&&(0,i.jsxs)(l.default,{sx:{mb:4,flexShrink:0},children:[(0,i.jsx)(v.A,{fullWidth:!0,chipVariant:"secondary",endIcon:eC?(0,i.jsx)(u.A,{size:16,style:{fill:"#004735",stroke:"none"}}):(0,i.jsx)(h.A,{size:16,style:{fill:"#004735",stroke:"none"}}),sx:{justifyContent:"space-between",py:2,height:"auto",mb:2},onClick:()=>eS(!eC),children:"Related Links & Papers"}),(0,i.jsx)(d.A,{in:eC,children:eC&&(0,i.jsx)(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:2,mb:2,alignItems:"flex-start"},children:null==al?void 0:al.map((e,a)=>(0,i.jsx)(l.default,{sx:{flex:"1 1 350px",minWidth:300,maxWidth:500},children:(0,i.jsx)(_.A,{url:e})},"link-".concat(a)))})})]}),at&&(0,i.jsxs)(l.default,{sx:{mb:2},children:[(0,i.jsxs)(v.A,{fullWidth:!0,chipVariant:"secondary",endIcon:eV?(0,i.jsx)(u.A,{size:16,style:{fill:"#004735",stroke:"none"}}):(0,i.jsx)(h.A,{size:16,style:{fill:"#004735",stroke:"none"}}),sx:{justifyContent:"space-between",py:2,height:"auto",mb:2},onClick:()=>eT(!eV),children:["Instruments (",((null===(eb=ey.extra_data)||void 0===eb?void 0:eb.instruments)||[]).length,")"]}),(0,i.jsx)(d.A,{in:eV,children:(0,i.jsx)(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:1},children:((null===(e_=ey.extra_data)||void 0===e_?void 0:e_.instruments)||[]).map((e,a)=>(0,i.jsx)(v.A,{onClick:a=>{a.stopPropagation(),e0&&e5("instruments",e)},sx:{cursor:"pointer"},children:e},"instrument-".concat(a)))})})]}),Array.isArray(ey.child_datasets)&&(ey.child_datasets||[]).length>0&&(0,i.jsxs)(l.default,{sx:{mb:4},children:[(0,i.jsxs)(v.A,{fullWidth:!0,chipVariant:"secondary",endIcon:eH.childDatasets?(0,i.jsx)(u.A,{size:16,style:{fill:"#004735",stroke:"none"}}):(0,i.jsx)(h.A,{size:16,style:{fill:"#004735",stroke:"none"}}),sx:{justifyContent:"space-between",py:2,height:"auto"},onClick:()=>ao("childDatasets"),children:["Related Datasets (",(ey.child_datasets||[]).length,")"]}),(0,i.jsx)(d.A,{in:eH.childDatasets,children:(0,i.jsx)(l.default,{sx:{p:2,bgcolor:"rgba(0, 0, 0, 0.02)",borderRadius:2,mb:2},children:(0,i.jsx)(S,{datasets:ey.child_datasets})})})]})]})})}}]);