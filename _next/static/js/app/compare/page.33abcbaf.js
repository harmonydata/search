(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6402],{1151:(e,t,a)=>{"use strict";a.d(t,{A:()=>b});var r=a(12115),o=a(2821),s=a(57001),n=a(61952),l=a(46660),i=a(48116),d=a(66964),c=a(74798),u=a(16625),h=a(95070),p=a(4474),m=a(81852),x=a(90333),g=a(95155);let y=(0,i.Ay)(h.A,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.loading&&t.loading,"default"!==a.color&&t["color".concat((0,m.A)(a.color))],a.edge&&t["edge".concat((0,m.A)(a.edge))],t["size".concat((0,m.A)(a.size))]]}})((0,d.A)(e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}}),(0,d.A)(e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter((0,c.A)()).map(e=>{let[a]=e;return{props:{color:a},style:{color:(t.vars||t).palette[a].main}}}),...Object.entries(t.palette).filter((0,c.A)()).map(e=>{let[a]=e;return{props:{color:a},style:{"--IconButton-hoverBg":t.vars?"rgba(".concat((t.vars||t).palette[a].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.X4)((t.vars||t).palette[a].main,t.palette.action.hoverOpacity)}}}),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],["&.".concat(x.A.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},["&.".concat(x.A.loading)]:{color:"transparent"}}})),v=(0,i.Ay)("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}}),b=r.forwardRef(function(e,t){let a=(0,u.b)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:l,className:i,color:d="default",disabled:c=!1,disableFocusRipple:h=!1,size:b="medium",id:f,loading:A=null,loadingIndicator:j,...w}=a,C=(0,n.A)(f),S=null!=j?j:(0,g.jsx)(p.A,{"aria-labelledby":C,color:"inherit",size:16}),I={...a,edge:r,color:d,disabled:c,disableFocusRipple:h,loading:A,loadingIndicator:S,size:b},k=(e=>{let{classes:t,disabled:a,color:r,edge:o,size:n,loading:l}=e,i={root:["root",l&&"loading",a&&"disabled","default"!==r&&"color".concat((0,m.A)(r)),o&&"edge".concat((0,m.A)(o)),"size".concat((0,m.A)(n))],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return(0,s.A)(i,x.G,t)})(I);return(0,g.jsxs)(y,{id:A?C:f,className:(0,o.A)(k.root,i),centerRipple:!0,focusRipple:!h,disabled:c||A,ref:t,...w,ownerState:I,children:["boolean"==typeof A&&(0,g.jsx)("span",{className:k.loadingWrapper,style:{display:"contents"},children:(0,g.jsx)(v,{className:k.loadingIndicator,ownerState:I,children:A&&S})}),l]})})},20063:(e,t,a)=>{"use strict";var r=a(47260);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}}),a.o(r,"useServerInsertedHTML")&&a.d(t,{useServerInsertedHTML:function(){return r.useServerInsertedHTML}})},63082:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(70690);let o=(0,a(48116).Ay)(r.A,{shouldForwardProp:e=>"chipVariant"!==e})(e=>{let{theme:t,chipVariant:a="primary",onClick:r=()=>{}}=e;return{onClick:r,borderRadius:8,textTransform:"none",padding:"0 16px",height:32,minHeight:32,fontSize:"0.875rem",fontWeight:500,whiteSpace:"nowrap",lineHeight:1,..."primary"===a&&{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText,"&:hover":{backgroundColor:t.palette.primary.dark}},..."secondary"===a&&{backgroundColor:t.palette.secondary.main,color:t.palette.secondary.contrastText,"&:hover":{backgroundColor:t.palette.secondary.dark}},..."dark"===a&&{backgroundColor:"#444653",color:"#FFFFFF","&:hover":{backgroundColor:"#363742"}}}})},65380:(e,t,a)=>{"use strict";a.d(t,{A:()=>i,AuthProvider:()=>d});var r=a(95155),o=a(12115);let s=null,n=async()=>{if(s)return s;console.log("\uD83D\uDD0D Loading Firebase modules dynamically");let[{auth:e},{GithubAuthProvider:t,TwitterAuthProvider:r,GoogleAuthProvider:o,signInWithPopup:n,signInWithEmailAndPassword:l,createUserWithEmailAndPassword:i,sendPasswordResetEmail:d,signOut:c,onAuthStateChanged:u}]=await Promise.all([Promise.all([a.e(9895),a.e(2154),a.e(1398),a.e(1182),a.e(2691)]).then(a.bind(a,68464)),Promise.all([a.e(9895),a.e(1398),a.e(1182)]).then(a.bind(a,33885))]);return s={auth:e,GithubAuthProvider:t,TwitterAuthProvider:r,GoogleAuthProvider:o,signInWithPopup:n,signInWithEmailAndPassword:l,createUserWithEmailAndPassword:i,sendPasswordResetEmail:d,signOut:c,onAuthStateChanged:u}},l=(0,o.createContext)({currentUser:null,login:async()=>(console.warn("Auth not available on server"),null),signup:async()=>(console.warn("Auth not available on server"),null),logout:async()=>{console.warn("Auth not available on server")},resetPassword:async()=>{console.warn("Auth not available on server")},signInWithGoogle:async()=>(console.warn("Auth not available on server"),null),signInWithGitHub:async()=>(console.warn("Auth not available on server"),null),signInWithTwitter:async()=>(console.warn("Auth not available on server"),null),loading:!1});function i(){return(0,o.useContext)(l)}function d(e){let{children:t}=e,[a,s]=(0,o.useState)(null),[i,d]=(0,o.useState)(!0),[c,u]=(0,o.useState)(!1);(0,o.useEffect)(()=>{(async()=>{try{let{auth:e,onAuthStateChanged:t}=await n();if(!e){console.warn("Firebase auth not available"),d(!1);return}return u(!0),t(e,e=>{console.log("\uD83D\uDD04 Auth state changed:",{hasUser:!!e,uid:null==e?void 0:e.uid,SSR:!1}),s(e),d(!1)})}catch(e){console.error("Failed to load Firebase modules:",e),d(!1)}})()},[]);let h={currentUser:a,...o.useMemo(()=>{let e=async e=>{let{auth:t,signInWithPopup:a}=await n();return a(t,e).then(e=>e.user).catch(t=>e.credentialFromError(t))};return{login:async(e,t)=>{let{auth:a,signInWithEmailAndPassword:r}=await n();return r(a,e,t)},signup:async(e,t)=>{let{auth:a,createUserWithEmailAndPassword:r}=await n();return r(a,e,t)},logout:async()=>{let{auth:e,signOut:t}=await n();return t(e)},resetPassword:async e=>{let{auth:t,sendPasswordResetEmail:a}=await n();return a(t,e)},signInWithGoogle:async()=>{let{GoogleAuthProvider:t}=await n();return e(new t)},signInWithGitHub:async()=>{let{GithubAuthProvider:t}=await n();return e(new t)},signInWithTwitter:async()=>{let{TwitterAuthProvider:t}=await n();return e(new t)}}},[]),loading:i};return(0,r.jsx)(l.Provider,{value:h,children:t})}},75607:(e,t,a)=>{Promise.resolve().then(a.bind(a,84961))},84961:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>T});var r=a(95155),o=a(12115),s=a(33567),n=a(15712),l=a(94049),i=a(25635),d=a(29767),c=a(4474),u=a(22003),h=a(2300),p=a(61023),m=a(42553),x=a(33077),g=a(84578),y=a(28548),v=a(70690),b=a(98267),f=a(20537),A=a(37960),j=a(36697);let w=(0,j.A)((0,r.jsx)("path",{d:"M9.01 14H2v2h7.01v3L13 15l-3.99-4zm5.98-1v-3H22V8h-7.01V5L11 9z"}),"CompareArrows"),C=(0,j.A)((0,r.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),S=(0,j.A)((0,r.jsx)("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"}),"AutoAwesome");var I=a(90109),k=a(59007),_=a(65380),L=a(20063),z=a(28544),B=a(75183),R=a(65705),P=a(95465);let W=e=>{let t=e.variablesCount||0,a=t>0?Array(t).fill({name:"Variable"}):[];return{extra_data:{uuid:e.uuid,slug:e.slug,resource_type:e.resourceType,name:e.title,description:e.description,keywords:e.keywords||[],number_of_variables:t},dataset_schema:{name:e.title,description:e.description,keywords:e.keywords||[],number_of_variables:t,variableMeasured:a,includedInDataCatalog:e.hasDataAvailable?[{}]:[]},child_datasets:Array(e.datasetsCount||0).fill({}),hasFreeAccess:e.hasFreeAccess||!1,hasCohortsAvailable:e.hasCohortsAvailable||!1,thumbnail:e.image}};function T(){let{currentUser:e}=(0,_.A)();(0,L.useRouter)();let t=(0,s.A)();(0,n.A)(t.breakpoints.down("sm"));let[a,j]=(0,o.useState)([]),[T,D]=(0,o.useState)([]),[E,F]=(0,o.useState)(!0),[M,O]=(0,o.useState)(null),[H,G]=(0,o.useState)(null),[N,V]=(0,o.useState)(null),[q,J]=(0,o.useState)(null),[U,Y]=(0,o.useState)(null),[X,Q]=(0,o.useState)(null),[K,Z]=(0,o.useState)(null),[$,ee]=(0,o.useState)(!1),[et,ea]=(0,o.useState)(!1),[er,eo]=(0,o.useState)(""),es=(0,o.useRef)(null);(0,o.useEffect)(()=>{(async()=>{if(!e)return F(!1);try{F(!0),O(null);let t=(0,R.query)((0,R.collection)(P.db,"saved_resources"),(0,R.where)("uid","==",e.uid),(0,R.orderBy)("created","desc"),(0,R.limit)(50)),a=await (0,R.getDocs)(t),r=[];a.forEach(e=>{r.push({id:e.id,...e.data()})});let o=(0,R.query)((0,R.collection)(P.db,"harmonisations"),(0,R.where)("uid","==",e.uid),(0,R.orderBy)("created","desc"),(0,R.limit)(50)),s=await (0,R.getDocs)(o),n=[];s.forEach(e=>{n.push({id:e.id,...e.data()})}),j(r),D(n)}catch(e){console.error("Error loading data:",e),O("Failed to load saved items")}finally{F(!1)}})()},[e]);let en=[...a,...T].filter(e=>{var t;let a=null==(t=e.title)?void 0:t.toLowerCase().includes(er.toLowerCase()),r="uuid"in e;return a&&r}),el=async()=>{if(H&&N){ee(!0),J(null),Y(null),Q(null),Z(null);try{if(!("uuid"in H)||!("uuid"in N))return void O("Only resources can be compared. Please select two saved resources.");let[e,t]=await Promise.all([(0,B.w3)(H.uuid),(0,B.w3)(N.uuid)]);J(e),Y(t);let a=ei(e,t);Q(a),await ed(H,N)}catch(e){console.error("Error comparing items:",e),O("Failed to compare items")}finally{ee(!1)}}},ei=(e,t)=>{var a,r,o,s,n,l,i,d,c,u,h,p,m,x,g,y;let v={topics:[],studyDesigns:[],sources:[],dataCatalogs:[],keywords:[],countries:[],ageRanges:[]},b=(null==(a=e.dataset_schema)?void 0:a.keywords)||[],f=(null==(r=t.dataset_schema)?void 0:r.keywords)||[];v.topics=b.filter(e=>f.some(t=>e.toLowerCase()===t.toLowerCase()));let A=(null==(o=e.extra_data)?void 0:o.study_design)||[],j=(null==(s=t.extra_data)?void 0:s.study_design)||[];v.studyDesigns=A.filter(e=>j.some(t=>e.toLowerCase()===t.toLowerCase()));let w=(null==(n=e.dataset_schema)?void 0:n.publisher)||[],C=(null==(l=t.dataset_schema)?void 0:l.publisher)||[];v.sources=w.filter(e=>C.some(t=>{var a,r;return(null==(a=e.name)?void 0:a.toLowerCase())===(null==(r=t.name)?void 0:r.toLowerCase())})).map(e=>e.name).filter(Boolean);let S=(null==(i=e.dataset_schema)?void 0:i.includedInDataCatalog)||[],I=(null==(d=t.dataset_schema)?void 0:d.includedInDataCatalog)||[];v.dataCatalogs=S.filter(e=>I.some(t=>{var a,r;return(null==(a=e.name)?void 0:a.toLowerCase())===(null==(r=t.name)?void 0:r.toLowerCase())}));let k=(null==(c=e.extra_data)?void 0:c.keywords)||[],_=(null==(u=t.extra_data)?void 0:u.keywords)||[];v.keywords=k.filter(e=>_.some(t=>e.toLowerCase()===t.toLowerCase()));let L=(null==(h=e.extra_data)?void 0:h.country_codes)||[],z=(null==(p=t.extra_data)?void 0:p.country_codes)||[];v.countries=L.filter(e=>z.some(t=>e.toLowerCase()===t.toLowerCase()));let B=null==(m=e.extra_data)?void 0:m.age_lower,R=null==(x=e.extra_data)?void 0:x.age_upper,P=null==(g=t.extra_data)?void 0:g.age_lower,W=null==(y=t.extra_data)?void 0:y.age_upper;return void 0!==B&&void 0!==R&&void 0!==P&&void 0!==W&&B<=W&&R>=P&&(v.ageRanges=["".concat(Math.max(B,P),"-").concat(Math.min(R,W))]),v},ed=async(e,t)=>{ea(!0);try{let a=JSON.stringify({item1:e,item2:t},null,2),r=await fetch("https://harmonydatagpt.azureedge.net/api/cleanup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({system:"You are a helpful assistant that compares academic research entities. You will receive a JSON object containing two research studies, datasets, or harmonisations to compare. Please provide a concise summary highlighting the key similarities and differences between these entities, focusing on their purpose, scope, methodology, and any other relevant aspects that would help researchers understand how these entities relate to each other.",text:a})});if(!r.ok)throw Error("AI API request failed: ".concat(r.statusText));let o=await r.json();if(Array.isArray(o)){let e=o.map(e=>e.question_text).join("\n\n");Z(e)}else Z(o.result||o)}catch(e){console.error("Error generating AI summary:",e),Z("Unable to generate AI summary at this time.")}finally{ea(!1),setTimeout(()=>{es.current&&es.current.scrollIntoView({behavior:"smooth",block:"start"})},100)}};return e?E?(0,r.jsxs)(l.default,{sx:{p:3,textAlign:"center"},children:[(0,r.jsx)(c.A,{}),(0,r.jsx)(i.A,{sx:{mt:2},children:"Loading your saved items..."})]}):(0,r.jsxs)(l.default,{sx:{p:3},children:[(0,r.jsx)(i.A,{variant:"h4",gutterBottom:!0,children:"Compare Research Entities"}),(0,r.jsx)(i.A,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Select two saved resources to compare their similarities and differences."}),M&&(0,r.jsx)(u.A,{severity:"error",sx:{mb:3},children:M}),0===a.length&&(0,r.jsx)(u.A,{severity:"info",sx:{mb:3},children:"You have no saved resources. You need to save some studies or datasets before you can compare them. Go to the search page to find and save resources that interest you."}),a.length>0&&(0,r.jsx)(h.A,{sx:{p:2,mb:3},children:(0,r.jsx)(p.A,{fullWidth:!0,placeholder:"Search resources...",value:er,onChange:e=>eo(e.target.value),InputProps:{startAdornment:(0,r.jsx)(m.A,{position:"start",children:(0,r.jsx)(I.A,{})})}})}),a.length>0&&(0,r.jsxs)(x.Ay,{container:!0,spacing:3,children:[(0,r.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,r.jsx)(d.A,{children:(0,r.jsxs)(g.A,{children:[(0,r.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Select First Item"}),(0,r.jsx)(l.default,{sx:{maxHeight:400,overflow:"auto"},children:en.map(e=>{if("uuid"in e){let t=W(e);return(0,r.jsx)(l.default,{sx:{mb:2,border:(null==H?void 0:H.id)===e.id?"2px solid":"1px solid",borderColor:(null==H?void 0:H.id)===e.id?"primary.main":"grey.200",borderRadius:2,overflow:"hidden"},onClick:()=>G(e),children:(0,r.jsx)(z.A,{result:t,onClick:()=>G(e)})},"resource-".concat(e.id))}{var t,a;let o=(null==(a=e.apiData)||null==(t=a.instruments)?void 0:t.map(e=>e.name).filter(Boolean))||[],s=o.length>0?o.join(" with "):"Untitled Harmonization";return(0,r.jsx)(d.A,{sx:{mb:2,cursor:"pointer",border:(null==H?void 0:H.id)===e.id?"2px solid":"1px solid",borderColor:(null==H?void 0:H.id)===e.id?"primary.main":"grey.200","&:hover":{bgcolor:"action.hover"}},onClick:()=>G(e),children:(0,r.jsxs)(g.A,{sx:{p:2},children:[(0,r.jsxs)(l.default,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,r.jsx)(y.A,{label:"harmonisation",size:"small",color:"secondary"}),(0,r.jsx)(i.A,{variant:"h6",sx:{flex:1},children:s})]}),e.description&&(0,r.jsxs)(i.A,{variant:"body2",color:"text.secondary",children:[e.description.substring(0,100),e.description.length>100&&"..."]})]})},"harmonisation-".concat(e.id))}})})]})})}),(0,r.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,r.jsx)(d.A,{children:(0,r.jsxs)(g.A,{children:[(0,r.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Select Second Item"}),(0,r.jsx)(l.default,{sx:{maxHeight:400,overflow:"auto"},children:en.map(e=>{if("uuid"in e){let t=W(e);return(0,r.jsx)(l.default,{sx:{mb:2,border:(null==N?void 0:N.id)===e.id?"2px solid":"1px solid",borderColor:(null==N?void 0:N.id)===e.id?"primary.main":"grey.200",borderRadius:2,overflow:"hidden"},onClick:()=>V(e),children:(0,r.jsx)(z.A,{result:t,onClick:()=>V(e)})},"resource-".concat(e.id))}{var t,a;let o=(null==(a=e.apiData)||null==(t=a.instruments)?void 0:t.map(e=>e.name).filter(Boolean))||[],s=o.length>0?o.join(" with "):"Untitled Harmonization";return(0,r.jsx)(d.A,{sx:{mb:2,cursor:"pointer",border:(null==N?void 0:N.id)===e.id?"2px solid":"1px solid",borderColor:(null==N?void 0:N.id)===e.id?"primary.main":"grey.200","&:hover":{bgcolor:"action.hover"}},onClick:()=>V(e),children:(0,r.jsxs)(g.A,{sx:{p:2},children:[(0,r.jsxs)(l.default,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,r.jsx)(y.A,{label:"harmonisation",size:"small",color:"secondary"}),(0,r.jsx)(i.A,{variant:"h6",sx:{flex:1},children:s})]}),e.description&&(0,r.jsxs)(i.A,{variant:"body2",color:"text.secondary",children:[e.description.substring(0,100),e.description.length>100&&"..."]})]})},"harmonisation-".concat(e.id))}})})]})})}),(0,r.jsx)(x.Ay,{item:!0,xs:12,children:(0,r.jsxs)(l.default,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[(0,r.jsx)(v.A,{variant:"contained",startIcon:(0,r.jsx)(w,{}),onClick:el,disabled:!H||!N||$,size:"large",children:$?"Comparing...":"Compare Items"}),(0,r.jsx)(v.A,{variant:"outlined",startIcon:(0,r.jsx)(C,{}),onClick:()=>{G(null),V(null),J(null),Y(null),Q(null),Z(null)},disabled:!H&&!N,children:"Reset"})]})}),q&&U&&(0,r.jsx)(x.Ay,{item:!0,xs:12,children:(0,r.jsx)(d.A,{children:(0,r.jsxs)(g.A,{children:[(0,r.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Comparison Results"}),X&&(0,r.jsxs)(l.default,{sx:{mb:3},children:[(0,r.jsx)(i.A,{variant:"h6",gutterBottom:!0,color:"primary",children:"Shared Elements"}),X.topics.length>0&&(0,r.jsxs)(l.default,{sx:{mb:2},children:[(0,r.jsxs)(i.A,{variant:"subtitle2",gutterBottom:!0,children:["Shared Topics (",X.topics.length,")"]}),(0,r.jsx)(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:X.topics.map((e,t)=>(0,r.jsx)(y.A,{label:e,color:"primary",variant:"outlined",size:"small"},t))})]}),X.studyDesigns.length>0&&(0,r.jsxs)(l.default,{sx:{mb:2},children:[(0,r.jsxs)(i.A,{variant:"subtitle2",gutterBottom:!0,children:["Shared Study Designs (",X.studyDesigns.length,")"]}),(0,r.jsx)(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:X.studyDesigns.map((e,t)=>(0,r.jsx)(y.A,{label:e,color:"secondary",variant:"outlined",size:"small"},t))})]}),X.sources.length>0&&(0,r.jsxs)(l.default,{sx:{mb:2},children:[(0,r.jsxs)(i.A,{variant:"subtitle2",gutterBottom:!0,children:["Shared Sources (",X.sources.length,")"]}),(0,r.jsx)(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:X.sources.map((e,t)=>(0,r.jsx)(y.A,{label:e,color:"success",variant:"outlined",size:"small"},t))})]}),X.dataCatalogs.length>0&&(0,r.jsxs)(l.default,{sx:{mb:2},children:[(0,r.jsxs)(i.A,{variant:"subtitle2",gutterBottom:!0,children:["Shared Data Catalogs (",X.dataCatalogs.length,")"]}),(0,r.jsx)(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:X.dataCatalogs.map((e,t)=>(0,r.jsx)(y.A,{label:e.name,color:"info",variant:"outlined",size:"small"},t))})]}),0===X.topics.length&&0===X.studyDesigns.length&&0===X.sources.length&&0===X.dataCatalogs.length&&(0,r.jsx)(i.A,{variant:"body2",color:"text.secondary",children:"No shared elements found between these resources."})]}),(0,r.jsxs)(b.A,{defaultExpanded:!0,ref:es,children:[(0,r.jsx)(f.A,{expandIcon:(0,r.jsx)(k.A,{}),children:(0,r.jsxs)(l.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,r.jsx)(S,{}),(0,r.jsx)(i.A,{variant:"h6",children:"AI Analysis"}),et&&(0,r.jsx)(c.A,{size:20})]})}),(0,r.jsx)(A.A,{children:K?(0,r.jsx)(l.default,{sx:{whiteSpace:"pre-wrap"},children:K.split("\n\n").map((e,t)=>{let a=e.split(/(\*\*.*?\*\*)/g);return(0,r.jsx)(i.A,{variant:"body1",sx:{mb:2},children:a.map((e,t)=>e.startsWith("**")&&e.endsWith("**")?(0,r.jsx)(i.A,{component:"span",sx:{fontWeight:"bold"},children:e.slice(2,-2)},t):e)},t)})}):(0,r.jsx)(i.A,{variant:"body2",color:"text.secondary",children:"AI analysis will appear here after comparison."})})]})]})})})]})]}):(0,r.jsxs)(l.default,{sx:{p:3,textAlign:"center"},children:[(0,r.jsx)(i.A,{variant:"h4",gutterBottom:!0,children:"Compare Research Entities"}),(0,r.jsx)(i.A,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"This feature allows you to compare different research studies and harmonisations from your saved items."}),(0,r.jsxs)(d.A,{sx:{maxWidth:600,mx:"auto",p:3},children:[(0,r.jsx)(i.A,{variant:"h6",gutterBottom:!0,color:"primary",children:"Sign in to Compare Your Research"}),(0,r.jsx)(i.A,{variant:"body1",sx:{mb:2},children:"This feature only works if you login. It only takes a moment to create an account and allows you to save your research results for future comparison."}),(0,r.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"By signing in, you can:"}),(0,r.jsxs)(l.default,{component:"ul",sx:{textAlign:"left",mb:3},children:[(0,r.jsx)(i.A,{component:"li",variant:"body2",sx:{mb:1},children:"Save research studies and harmonisations"}),(0,r.jsx)(i.A,{component:"li",variant:"body2",sx:{mb:1},children:"Compare different research entities"}),(0,r.jsx)(i.A,{component:"li",variant:"body2",sx:{mb:1},children:"Get AI-powered comparison summaries"}),(0,r.jsx)(i.A,{component:"li",variant:"body2",sx:{mb:1},children:"Access your saved items across sessions"})]}),(0,r.jsxs)(i.A,{variant:"body2",color:"text.secondary",children:["We respect your privacy. Please review our"," ",(0,r.jsx)("a",{href:"https://harmonydata.ac.uk/privacy-policy",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline"},children:"privacy policy"})," ","to understand how we handle your data."]})]})]})}},90109:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(14294).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},90333:(e,t,a)=>{"use strict";a.d(t,{A:()=>n,G:()=>s});var r=a(85795),o=a(95195);function s(e){return(0,o.Ay)("MuiIconButton",e)}let n=(0,r.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"])},95465:(e,t,a)=>{"use strict";a.r(t),a.d(t,{auth:()=>l,db:()=>i});var r=a(52078),o=a(33885),s=a(65705);let n=(0,r.Wp)({apiKey:"AIzaSyBQVkRjbTQD6BXCdo2JeiFfwyvGVT7bOXM",authDomain:"harmony-6bd51.firebaseapp.com",projectId:"harmony-6bd51",storageBucket:"harmony-6bd51.appspot.com",messagingSenderId:"914732561143",appId:"1:914732561143:web:b041f0c5e7fab57400d9f2",measurementId:"G-S79J6E39ZP"}),l=(0,o.getAuth)(n),i=(0,s.getFirestore)(n)}},e=>{e.O(0,[9895,2154,9692,1828,690,7213,9474,9829,8548,1398,1182,6918,4456,8952,5183,8544,8441,1255,7358],()=>e(e.s=75607)),_N_E=e.O()}]);