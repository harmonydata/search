(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6402],{75607:(e,o,t)=>{Promise.resolve().then(t.bind(t,28010))},28010:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>D});var a=t(95155),n=t(12115),r=t(35761),s=t(55295),l=t(68998),i=t(9561),d=t(64665),c=t(96854),u=t(10897),g=t(78562),h=t(70152),p=t(70503),m=t(35417),x=t(42479),v=t(49234),f=t(22282),y=t(90662),C=t(28222),A=t(65330),b=t(12983);let w=(0,b.A)((0,a.jsx)("path",{d:"M9.01 14H2v2h7.01v3L13 15l-3.99-4zm5.98-1v-3H22V8h-7.01V5L11 9z"}),"CompareArrows"),j=(0,b.A)((0,a.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),S=(0,b.A)((0,a.jsx)("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"}),"AutoAwesome"),R=(0,t(14057).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var N=t(32645),E=t(17146),H=t(76046),I=t(98245),L=t(42649),F=t(54615),k=t(73179);let _=e=>{let o=e.variablesCount||0,t=o>0?Array(o).fill({name:"Variable"}):[];return{extra_data:{uuid:e.uuid,slug:e.slug,resource_type:e.resourceType,name:e.title,description:e.description,keywords:e.keywords||[],number_of_variables:o},dataset_schema:{name:e.title,description:e.description,keywords:e.keywords||[],number_of_variables:o,variableMeasured:t,includedInDataCatalog:e.hasDataAvailable?[{}]:[]},child_datasets:Array(e.datasetsCount||0).fill({}),hasFreeAccess:e.hasFreeAccess||!1,hasCohortsAvailable:e.hasCohortsAvailable||!1,thumbnail:e.image}};function D(){let{currentUser:e}=(0,E.A)();(0,H.useRouter)();let o=(0,r.A)();(0,s.A)(o.breakpoints.down("sm"));let[t,b]=(0,n.useState)([]),[D,U]=(0,n.useState)([]),[B,M]=(0,n.useState)(!0),[O,z]=(0,n.useState)(null),[W,P]=(0,n.useState)(null),[T,K]=(0,n.useState)(null),[G,V]=(0,n.useState)(null),[q,Y]=(0,n.useState)(null),[J,Q]=(0,n.useState)(null),[X,Z]=(0,n.useState)(null),[$,ee]=(0,n.useState)(!1),[eo,et]=(0,n.useState)(!1),[ea,en]=(0,n.useState)(""),er=(0,n.useRef)(null);(0,n.useEffect)(()=>{(async()=>{if(!e){M(!1);return}try{M(!0),z(null);let o=(0,F.query)((0,F.collection)(k.db,"saved_resources"),(0,F.where)("uid","==",e.uid),(0,F.orderBy)("created","desc"),(0,F.limit)(50)),t=await (0,F.getDocs)(o),a=[];t.forEach(e=>{a.push({id:e.id,...e.data()})});let n=(0,F.query)((0,F.collection)(k.db,"harmonisations"),(0,F.where)("uid","==",e.uid),(0,F.orderBy)("created","desc"),(0,F.limit)(50)),r=await (0,F.getDocs)(n),s=[];r.forEach(e=>{s.push({id:e.id,...e.data()})}),b(a),U(s)}catch(e){console.error("Error loading data:",e),z("Failed to load saved items")}finally{M(!1)}})()},[e]);let es=[...t,...D].filter(e=>{var o;let t=null===(o=e.title)||void 0===o?void 0:o.toLowerCase().includes(ea.toLowerCase()),a="uuid"in e;return t&&a}),el=async()=>{if(W&&T){ee(!0),V(null),Y(null),Q(null),Z(null);try{if(!("uuid"in W)||!("uuid"in T)){z("Only resources can be compared. Please select two saved resources.");return}let[e,o]=await Promise.all([(0,L.w3)(W.uuid),(0,L.w3)(T.uuid)]);V(e),Y(o);let t=ei(e,o);Q(t),await ed(W,T)}catch(e){console.error("Error comparing items:",e),z("Failed to compare items")}finally{ee(!1)}}},ei=(e,o)=>{var t,a,n,r,s,l,i,d,c,u,g,h,p,m,x,v;let f={topics:[],studyDesigns:[],sources:[],dataCatalogs:[],keywords:[],countries:[],ageRanges:[]},y=(null===(t=e.dataset_schema)||void 0===t?void 0:t.keywords)||[],C=(null===(a=o.dataset_schema)||void 0===a?void 0:a.keywords)||[];f.topics=y.filter(e=>C.some(o=>e.toLowerCase()===o.toLowerCase()));let A=(null===(n=e.extra_data)||void 0===n?void 0:n.study_design)||[],b=(null===(r=o.extra_data)||void 0===r?void 0:r.study_design)||[];f.studyDesigns=A.filter(e=>b.some(o=>e.toLowerCase()===o.toLowerCase()));let w=(null===(s=e.dataset_schema)||void 0===s?void 0:s.publisher)||[],j=(null===(l=o.dataset_schema)||void 0===l?void 0:l.publisher)||[];f.sources=w.filter(e=>j.some(o=>{var t,a;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===(null===(a=o.name)||void 0===a?void 0:a.toLowerCase())})).map(e=>e.name).filter(Boolean);let S=(null===(i=e.dataset_schema)||void 0===i?void 0:i.includedInDataCatalog)||[],R=(null===(d=o.dataset_schema)||void 0===d?void 0:d.includedInDataCatalog)||[];f.dataCatalogs=S.filter(e=>R.some(o=>{var t,a;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===(null===(a=o.name)||void 0===a?void 0:a.toLowerCase())}));let N=(null===(c=e.extra_data)||void 0===c?void 0:c.keywords)||[],E=(null===(u=o.extra_data)||void 0===u?void 0:u.keywords)||[];f.keywords=N.filter(e=>E.some(o=>e.toLowerCase()===o.toLowerCase()));let H=(null===(g=e.extra_data)||void 0===g?void 0:g.country_codes)||[],I=(null===(h=o.extra_data)||void 0===h?void 0:h.country_codes)||[];f.countries=H.filter(e=>I.some(o=>e.toLowerCase()===o.toLowerCase()));let L=null===(p=e.extra_data)||void 0===p?void 0:p.age_lower,F=null===(m=e.extra_data)||void 0===m?void 0:m.age_upper,k=null===(x=o.extra_data)||void 0===x?void 0:x.age_lower,_=null===(v=o.extra_data)||void 0===v?void 0:v.age_upper;return void 0!==L&&void 0!==F&&void 0!==k&&void 0!==_&&L<=_&&F>=k&&(f.ageRanges=["".concat(Math.max(L,k),"-").concat(Math.min(F,_))]),f},ed=async(e,o)=>{et(!0);try{let t=JSON.stringify({item1:e,item2:o},null,2),a=await fetch("https://harmonydatagpt.azureedge.net/api/cleanup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({system:"You are a helpful assistant that compares academic research entities. You will receive a JSON object containing two research studies, datasets, or harmonisations to compare. Please provide a concise summary highlighting the key similarities and differences between these entities, focusing on their purpose, scope, methodology, and any other relevant aspects that would help researchers understand how these entities relate to each other.",text:t})});if(!a.ok)throw Error("AI API request failed: ".concat(a.statusText));let n=await a.json();if(Array.isArray(n)){let e=n.map(e=>e.question_text).join("\n\n");Z(e)}else Z(n.result||n)}catch(e){console.error("Error generating AI summary:",e),Z("Unable to generate AI summary at this time.")}finally{et(!1),setTimeout(()=>{er.current&&er.current.scrollIntoView({behavior:"smooth",block:"start"})},100)}};return e?B?(0,a.jsxs)(l.default,{sx:{p:3,textAlign:"center"},children:[(0,a.jsx)(c.A,{}),(0,a.jsx)(i.A,{sx:{mt:2},children:"Loading your saved items..."})]}):(0,a.jsxs)(l.default,{sx:{p:3},children:[(0,a.jsx)(i.A,{variant:"h4",gutterBottom:!0,children:"Compare Research Entities"}),(0,a.jsx)(i.A,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Select two saved resources to compare their similarities and differences."}),O&&(0,a.jsx)(u.A,{severity:"error",sx:{mb:3},children:O}),0===t.length&&(0,a.jsx)(u.A,{severity:"info",sx:{mb:3},children:"You have no saved resources. You need to save some studies or datasets before you can compare them. Go to the search page to find and save resources that interest you."}),t.length>0&&(0,a.jsx)(g.A,{sx:{p:2,mb:3},children:(0,a.jsx)(h.A,{fullWidth:!0,placeholder:"Search resources...",value:ea,onChange:e=>en(e.target.value),InputProps:{startAdornment:(0,a.jsx)(p.A,{position:"start",children:(0,a.jsx)(R,{})})}})}),t.length>0&&(0,a.jsxs)(m.Ay,{container:!0,spacing:3,children:[(0,a.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,a.jsx)(d.A,{children:(0,a.jsxs)(x.A,{children:[(0,a.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Select First Item"}),(0,a.jsx)(l.default,{sx:{maxHeight:400,overflow:"auto"},children:es.map(e=>{if("uuid"in e){let o=_(e);return(0,a.jsx)(l.default,{sx:{mb:2,border:(null==W?void 0:W.id)===e.id?"2px solid":"1px solid",borderColor:(null==W?void 0:W.id)===e.id?"primary.main":"grey.200",borderRadius:2,overflow:"hidden"},onClick:()=>P(e),children:(0,a.jsx)(I.A,{result:o,onClick:()=>P(e)})},"resource-".concat(e.id))}{var o,t;let n=(null===(t=e.apiData)||void 0===t?void 0:null===(o=t.instruments)||void 0===o?void 0:o.map(e=>e.name).filter(Boolean))||[],r=n.length>0?n.join(" with "):"Untitled Harmonization";return(0,a.jsx)(d.A,{sx:{mb:2,cursor:"pointer",border:(null==W?void 0:W.id)===e.id?"2px solid":"1px solid",borderColor:(null==W?void 0:W.id)===e.id?"primary.main":"grey.200","&:hover":{bgcolor:"action.hover"}},onClick:()=>P(e),children:(0,a.jsxs)(x.A,{sx:{p:2},children:[(0,a.jsxs)(l.default,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,a.jsx)(v.A,{label:"harmonisation",size:"small",color:"secondary"}),(0,a.jsx)(i.A,{variant:"h6",sx:{flex:1},children:r})]}),e.description&&(0,a.jsxs)(i.A,{variant:"body2",color:"text.secondary",children:[e.description.substring(0,100),e.description.length>100&&"..."]})]})},"harmonisation-".concat(e.id))}})})]})})}),(0,a.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,a.jsx)(d.A,{children:(0,a.jsxs)(x.A,{children:[(0,a.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Select Second Item"}),(0,a.jsx)(l.default,{sx:{maxHeight:400,overflow:"auto"},children:es.map(e=>{if("uuid"in e){let o=_(e);return(0,a.jsx)(l.default,{sx:{mb:2,border:(null==T?void 0:T.id)===e.id?"2px solid":"1px solid",borderColor:(null==T?void 0:T.id)===e.id?"primary.main":"grey.200",borderRadius:2,overflow:"hidden"},onClick:()=>K(e),children:(0,a.jsx)(I.A,{result:o,onClick:()=>K(e)})},"resource-".concat(e.id))}{var o,t;let n=(null===(t=e.apiData)||void 0===t?void 0:null===(o=t.instruments)||void 0===o?void 0:o.map(e=>e.name).filter(Boolean))||[],r=n.length>0?n.join(" with "):"Untitled Harmonization";return(0,a.jsx)(d.A,{sx:{mb:2,cursor:"pointer",border:(null==T?void 0:T.id)===e.id?"2px solid":"1px solid",borderColor:(null==T?void 0:T.id)===e.id?"primary.main":"grey.200","&:hover":{bgcolor:"action.hover"}},onClick:()=>K(e),children:(0,a.jsxs)(x.A,{sx:{p:2},children:[(0,a.jsxs)(l.default,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,a.jsx)(v.A,{label:"harmonisation",size:"small",color:"secondary"}),(0,a.jsx)(i.A,{variant:"h6",sx:{flex:1},children:r})]}),e.description&&(0,a.jsxs)(i.A,{variant:"body2",color:"text.secondary",children:[e.description.substring(0,100),e.description.length>100&&"..."]})]})},"harmonisation-".concat(e.id))}})})]})})}),(0,a.jsx)(m.Ay,{item:!0,xs:12,children:(0,a.jsxs)(l.default,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[(0,a.jsx)(f.A,{variant:"contained",startIcon:(0,a.jsx)(w,{}),onClick:el,disabled:!W||!T||$,size:"large",children:$?"Comparing...":"Compare Items"}),(0,a.jsx)(f.A,{variant:"outlined",startIcon:(0,a.jsx)(j,{}),onClick:()=>{P(null),K(null),V(null),Y(null),Q(null),Z(null)},disabled:!W&&!T,children:"Reset"})]})}),G&&q&&(0,a.jsx)(m.Ay,{item:!0,xs:12,children:(0,a.jsx)(d.A,{children:(0,a.jsxs)(x.A,{children:[(0,a.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Comparison Results"}),J&&(0,a.jsxs)(l.default,{sx:{mb:3},children:[(0,a.jsx)(i.A,{variant:"h6",gutterBottom:!0,color:"primary",children:"Shared Elements"}),J.topics.length>0&&(0,a.jsxs)(l.default,{sx:{mb:2},children:[(0,a.jsxs)(i.A,{variant:"subtitle2",gutterBottom:!0,children:["Shared Topics (",J.topics.length,")"]}),(0,a.jsx)(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:J.topics.map((e,o)=>(0,a.jsx)(v.A,{label:e,color:"primary",variant:"outlined",size:"small"},o))})]}),J.studyDesigns.length>0&&(0,a.jsxs)(l.default,{sx:{mb:2},children:[(0,a.jsxs)(i.A,{variant:"subtitle2",gutterBottom:!0,children:["Shared Study Designs (",J.studyDesigns.length,")"]}),(0,a.jsx)(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:J.studyDesigns.map((e,o)=>(0,a.jsx)(v.A,{label:e,color:"secondary",variant:"outlined",size:"small"},o))})]}),J.sources.length>0&&(0,a.jsxs)(l.default,{sx:{mb:2},children:[(0,a.jsxs)(i.A,{variant:"subtitle2",gutterBottom:!0,children:["Shared Sources (",J.sources.length,")"]}),(0,a.jsx)(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:J.sources.map((e,o)=>(0,a.jsx)(v.A,{label:e,color:"success",variant:"outlined",size:"small"},o))})]}),J.dataCatalogs.length>0&&(0,a.jsxs)(l.default,{sx:{mb:2},children:[(0,a.jsxs)(i.A,{variant:"subtitle2",gutterBottom:!0,children:["Shared Data Catalogs (",J.dataCatalogs.length,")"]}),(0,a.jsx)(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:J.dataCatalogs.map((e,o)=>(0,a.jsx)(v.A,{label:e.name,color:"info",variant:"outlined",size:"small"},o))})]}),0===J.topics.length&&0===J.studyDesigns.length&&0===J.sources.length&&0===J.dataCatalogs.length&&(0,a.jsx)(i.A,{variant:"body2",color:"text.secondary",children:"No shared elements found between these resources."})]}),(0,a.jsxs)(y.A,{defaultExpanded:!0,ref:er,children:[(0,a.jsx)(C.A,{expandIcon:(0,a.jsx)(N.A,{}),children:(0,a.jsxs)(l.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,a.jsx)(S,{}),(0,a.jsx)(i.A,{variant:"h6",children:"AI Analysis"}),eo&&(0,a.jsx)(c.A,{size:20})]})}),(0,a.jsx)(A.A,{children:X?(0,a.jsx)(l.default,{sx:{whiteSpace:"pre-wrap"},children:X.split("\n\n").map((e,o)=>{let t=e.split(/(\*\*.*?\*\*)/g);return(0,a.jsx)(i.A,{variant:"body1",sx:{mb:2},children:t.map((e,o)=>e.startsWith("**")&&e.endsWith("**")?(0,a.jsx)(i.A,{component:"span",sx:{fontWeight:"bold"},children:e.slice(2,-2)},o):e)},o)})}):(0,a.jsx)(i.A,{variant:"body2",color:"text.secondary",children:"AI analysis will appear here after comparison."})})]})]})})})]})]}):(0,a.jsxs)(l.default,{sx:{p:3,textAlign:"center"},children:[(0,a.jsx)(i.A,{variant:"h4",gutterBottom:!0,children:"Compare Research Entities"}),(0,a.jsx)(i.A,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"This feature allows you to compare different research studies and harmonisations from your saved items."}),(0,a.jsxs)(d.A,{sx:{maxWidth:600,mx:"auto",p:3},children:[(0,a.jsx)(i.A,{variant:"h6",gutterBottom:!0,color:"primary",children:"Sign in to Compare Your Research"}),(0,a.jsx)(i.A,{variant:"body1",sx:{mb:2},children:"This feature only works if you login. It only takes a moment to create an account and allows you to save your research results for future comparison."}),(0,a.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"By signing in, you can:"}),(0,a.jsxs)(l.default,{component:"ul",sx:{textAlign:"left",mb:3},children:[(0,a.jsx)(i.A,{component:"li",variant:"body2",sx:{mb:1},children:"Save research studies and harmonisations"}),(0,a.jsx)(i.A,{component:"li",variant:"body2",sx:{mb:1},children:"Compare different research entities"}),(0,a.jsx)(i.A,{component:"li",variant:"body2",sx:{mb:1},children:"Get AI-powered comparison summaries"}),(0,a.jsx)(i.A,{component:"li",variant:"body2",sx:{mb:1},children:"Access your saved items across sessions"})]}),(0,a.jsxs)(i.A,{variant:"body2",color:"text.secondary",children:["We respect your privacy. Please review our"," ",(0,a.jsx)("a",{href:"https://harmonydata.ac.uk/privacy-policy",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline"},children:"privacy policy"})," ","to understand how we handle your data."]})]})]})}},53452:(e,o,t)=>{"use strict";t.d(o,{A:()=>n});var a=t(22282);let n=(0,t(89142).Ay)(a.A,{shouldForwardProp:e=>"chipVariant"!==e})(e=>{let{theme:o,chipVariant:t="primary",onClick:a=()=>{}}=e;return{onClick:a,borderRadius:8,textTransform:"none",padding:"0 16px",height:32,minHeight:32,fontSize:"0.875rem",fontWeight:500,whiteSpace:"nowrap",lineHeight:1,..."primary"===t&&{backgroundColor:o.palette.primary.main,color:o.palette.primary.contrastText,"&:hover":{backgroundColor:o.palette.primary.dark}},..."secondary"===t&&{backgroundColor:o.palette.secondary.main,color:o.palette.secondary.contrastText,"&:hover":{backgroundColor:o.palette.secondary.dark}},..."dark"===t&&{backgroundColor:"#444653",color:"#FFFFFF","&:hover":{backgroundColor:"#363742"}}}})},17146:(e,o,t)=>{"use strict";t.d(o,{A:()=>i,AuthProvider:()=>d});var a=t(95155),n=t(12115);let r=null,s=async()=>{if(r)return r;console.log("\uD83D\uDD0D Loading Firebase modules dynamically");let[{auth:e},{GithubAuthProvider:o,TwitterAuthProvider:a,GoogleAuthProvider:n,signInWithPopup:s,signInWithEmailAndPassword:l,createUserWithEmailAndPassword:i,sendPasswordResetEmail:d,signOut:c,onAuthStateChanged:u}]=await Promise.all([Promise.all([t.e(2154),t.e(9895),t.e(1972),t.e(7512),t.e(1175)]).then(t.bind(t,95918)),Promise.all([t.e(9895),t.e(1972),t.e(7512)]).then(t.bind(t,14565))]);return r={auth:e,GithubAuthProvider:o,TwitterAuthProvider:a,GoogleAuthProvider:n,signInWithPopup:s,signInWithEmailAndPassword:l,createUserWithEmailAndPassword:i,sendPasswordResetEmail:d,signOut:c,onAuthStateChanged:u}},l=(0,n.createContext)({currentUser:null,login:async()=>(console.warn("Auth not available on server"),null),signup:async()=>(console.warn("Auth not available on server"),null),logout:async()=>{console.warn("Auth not available on server")},resetPassword:async()=>{console.warn("Auth not available on server")},signInWithGoogle:async()=>(console.warn("Auth not available on server"),null),signInWithGitHub:async()=>(console.warn("Auth not available on server"),null),signInWithTwitter:async()=>(console.warn("Auth not available on server"),null),loading:!1});function i(){return(0,n.useContext)(l)}function d(e){let{children:o}=e,[t,r]=(0,n.useState)(null),[i,d]=(0,n.useState)(!0),[c,u]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(async()=>{try{let{auth:e,onAuthStateChanged:o}=await s();if(!e){console.warn("Firebase auth not available"),d(!1);return}return u(!0),o(e,e=>{console.log("\uD83D\uDD04 Auth state changed:",{hasUser:!!e,uid:null==e?void 0:e.uid,SSR:!1}),r(e),d(!1)})}catch(e){console.error("Failed to load Firebase modules:",e),d(!1)}})()},[]);let g={currentUser:t,...n.useMemo(()=>{let e=async e=>{let{auth:o,signInWithPopup:t}=await s();return t(o,e).then(e=>e.user).catch(o=>e.credentialFromError(o))};return{login:async(e,o)=>{let{auth:t,signInWithEmailAndPassword:a}=await s();return a(t,e,o)},signup:async(e,o)=>{let{auth:t,createUserWithEmailAndPassword:a}=await s();return a(t,e,o)},logout:async()=>{let{auth:e,signOut:o}=await s();return o(e)},resetPassword:async e=>{let{auth:o,sendPasswordResetEmail:t}=await s();return t(o,e)},signInWithGoogle:async()=>{let{GoogleAuthProvider:o}=await s();return e(new o)},signInWithGitHub:async()=>{let{GithubAuthProvider:o}=await s();return e(new o)},signInWithTwitter:async()=>{let{TwitterAuthProvider:o}=await s();return e(new o)}}},[]),loading:i};return(0,a.jsx)(l.Provider,{value:g,children:o})}},3485:(e,o,t)=>{"use strict";t.d(o,{sM:()=>s,xC:()=>l});var a=t(2818);let n={"Office for National Statistics":"ONS","National Health Service":"NHS","Department for Education":"DfE","Department of Health":"DoH","Department of Health and Social Care":"DHSC","Medical Research Council":"MRC","National Institute for Health and Care Excellence":"NICE","National Institute for Health Research":"NIHR","Economic and Social Research Council":"ESRC","Arts and Humanities Research Council":"AHRC","Biotechnology and Biological Sciences Research Council":"BBSRC","Engineering and Physical Sciences Research Council":"EPSRC","Natural Environment Research Council":"NERC","Science and Technology Facilities Council":"STFC","UK Research and Innovation":"UKRI","University College London":"UCL","University of Oxford":"Oxford","University of Cambridge":"Cambridge","Imperial College London":"Imperial","King's College London":"KCL","London School of Economics":"LSE","Edinburgh University":"Edin","University of Manchester":"Manchester","University of Bristol":"Bristol","University of Warwick":"Warwick","World Health Organization":"WHO","United Nations":"UN","European Union":"EU_flag","Organisation for Economic Co-operation and Development":"OECD","Wellcome Trust":"Wellcome","Nuffield Foundation":"Nuffield","British Heart Foundation":"BHF","Cancer Research UK":"CRUK","Alzheimer's Society":"Alzheimer","Diabetes UK":"Diabetes","National Institute of Mental Health":"NIMH","National Institutes of Health":"NIH","Centers for Disease Control and Prevention":"CDC","Social Care Institute for Excellence":"SCIE"},r={MRC:"/logos/MRC.png",ESRC:"/logos/ESRC.png",UKRI:"/logos/UKRI.png",NERC:"/logos/NERC.png",STFC:"/logos/STFC.png",AHRC:"/logos/AHRC.png",BBSRC:"/logos/BBSRC.png",EPSRC:"/logos/EPSRC.png",NIHR:"/logos/NIHR.png",BHF:"/logos/BHF.png",CRUK:"/logos/CRUK.png",Wellcome:"/logos/Wellcome.png",Nuffield:"/logos/Nuffield.png",ONS:"/logos/ONS.png",NHS:"/logos/NHS.png",DfE:"/logos/DfE.png",DHSC:"/logos/DHSC.png",DoHSC:"/logos/DHSC.png",NICE:"/logos/NICE.png",SCIE:"/logos/SCIE.png",HOUK:"/logos/HOUK.png",UCL:"/logos/UCL.png",Oxford:"/logos/Oxford.png",Cambridge:"/logos/Cambridge.png",Imperial:"/logos/Imperial.png",KCL:"/logos/KCL.png",LSE:"/logos/LSE.png",Edin:"/logos/Edin.png",NIH:"/logos/NIH.png",NIMH:"/logos/NIMH.png",NIDA:"/logos/NIDA.png",NIAAA:"/logos/NIAAA.png",NSF:"/logos/NSF.png",CDC:"/logos/CDC.png",FDA:"/logos/FDA.png",EU_flag:"/logos/EU_flag.png",EUCom:"/logos/EUCom.png",ERC:"/logos/ERC.png",H2020:"/logos/H2020.png",HorizonEU:"/logos/HorizonEU.png",WHO:"/logos/WHO.png",VR:"/logos/VR.png",BMBF:"/logos/BMBF.png",DFG:"/logos/DFG.png",CNRS:"/logos/CNRS.png",INSERM:"/logos/INSERM.png",ARC:"/logos/ARC.png",NHMRC:"/logos/NHMRC.png",CIHR:"/logos/CIHR.png",Uni:"/logos/university.png",Hosp:"/logos/hospital.png",Gov:"/logos/government.png",NGO:"/logos/ngo.png",Charity:"/logos/charity.png",Rayne:"/logos/Rayne.png",SRFound:"/logos/SRFound.png",BCTrust:"/logos/BCTrust.png",UKHF:"/logos/UKHF.png",RCN:"/logos/RCN.png",KingsFund:"/logos/KingsFund.png",MHRN:"/logos/MHRN.png",McPF:"/logos/McPF.png",BLF:"/logos/BLF.png",CLAHRC:"/logos/CLAHRC.png",TNA:"/logos/TNA.png",NAO:"/logos/NAO.png",RCP:"/logos/RCP.png",SU:"/logos/SU.png",SLaM:"/logos/SLaM.png"};function s(e,o){if(o&&o.trim().length>0)return console.log("Using provided logo for ".concat(e||"Unknown",": ").concat(o)),o;if(!e||0===e.trim().length){console.log("No organization name provided to findOrganizationLogo");return}if(e.includes(" ")&&e.split(" ").every(e=>e.length<=6)){for(let o of(console.log('Organization name "'.concat(e,'" appears to be a space-delimited list of abbreviations')),e.split(" ").map(e=>e.trim()).filter(e=>e.length>0))){if(r[o])return console.log('Found direct logo match for abbreviation "'.concat(o,'": ').concat(r[o])),r[o];for(let[e,t]of Object.entries(n))if(e.toLowerCase().includes(o.toLowerCase())||t.toLowerCase()===o.toLowerCase()){let a="/logos/".concat(t,".png");return console.log('Found partial match for "'.concat(o,'" with known organization "').concat(e,'" (').concat(t,"): ").concat(a)),a}}console.log('No logo match found for any part of "'.concat(e,'"'));return}let t=n[e];if(t){let o="/logos/".concat(t,".png");return console.log('Found direct organization match for "'.concat(e,'": ').concat(o)),o}if(r[e])return console.log('Found direct logo match for organization abbreviation "'.concat(e,'": ').concat(r[e])),r[e];for(let[o,t]of Object.entries(n))if(e.toLowerCase().includes(o.toLowerCase())||e.toLowerCase().includes(t.toLowerCase())){let a="/logos/".concat(t,".png");return console.log('Found partial match for "'.concat(e,'" with known organization "').concat(o,'": ').concat(a)),a}console.log('No logo match found for "'.concat(e,'"'))}function l(){return a.env.GITHUB_PAGES_DEPLOYMENT?"/search/":window.location.pathname.startsWith("/search")?"/search/":"/"}}},e=>{var o=o=>e(e.s=o);e.O(0,[2154,9895,6586,9197,1972,8378,2857,2282,9234,7512,5135,9260,3670,5779,1138,2649,7167,8441,1517,7358],()=>o(75607)),_N_E=e.O()}]);