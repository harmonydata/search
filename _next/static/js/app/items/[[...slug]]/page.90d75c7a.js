(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3991],{21554:(e,t,a)=>{"use strict";a.d(t,{default:()=>f});var s=a(95155),i=a(12115),d=a(20063),n=a(41402),r=a.n(n),l=a(78977),c=a(75183),o=a(94049),u=a(4474),h=a(25635);function m(e){var t,a,d,n,m,f,_,v,p,y,g,x;let{slug:j,initialData:b}=e,[C,k]=(0,i.useState)(b),[w,I]=(0,i.useState)(!b),[E,N]=(0,i.useState)(null);if((0,i.useEffect)(()=>{b||(async()=>{try{I(!0),N(null);let e=await (0,c.w3)(j);k(e)}catch(e){console.error("Failed to fetch dataset ".concat(j,":"),e),N(e instanceof Error?e.message:"Failed to load dataset")}finally{I(!1)}})()},[j,b]),w)return(0,s.jsx)(o.default,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,s.jsx)(u.A,{})});if(E||!C)return(0,s.jsxs)(o.default,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"400px",gap:2,children:[(0,s.jsx)(h.A,{variant:"h5",children:"Dataset Not Found"}),(0,s.jsx)(h.A,{variant:"body2",color:"text.secondary",children:E||"The requested dataset could not be found. It may have been removed or the URL may be incorrect."})]});let S={"@context":"https://schema.org/","@type":"Dataset",name:null==(t=C.dataset_schema)?void 0:t.name,description:null==(a=C.dataset_schema)?void 0:a.description,url:"https://harmonydata.ac.uk/search/items/".concat(j)};return(null==(d=C.dataset_schema)?void 0:d.identifier)&&(S.identifier=C.dataset_schema.identifier),(null==(n=C.dataset_schema)?void 0:n.keywords)&&(S.keywords=C.dataset_schema.keywords),(null==(m=C.dataset_schema)?void 0:m.temporalCoverage)&&(S.temporalCoverage=C.dataset_schema.temporalCoverage),(null==(f=C.dataset_schema)?void 0:f.publisher)&&(S.publisher=C.dataset_schema.publisher),(null==(_=C.dataset_schema)?void 0:_.creator)&&(S.creator=C.dataset_schema.creator),(null==(v=C.dataset_schema)?void 0:v.license)&&(S.license=C.dataset_schema.license),(null==(p=C.dataset_schema)?void 0:p.spatialCoverage)&&(S.spatialCoverage=C.dataset_schema.spatialCoverage),(null==(y=C.dataset_schema)?void 0:y.distribution)&&(S.distribution=C.dataset_schema.distribution),(null==(g=C.dataset_schema)?void 0:g.dateCreated)&&(S.dateCreated=C.dataset_schema.dateCreated),(null==(x=C.dataset_schema)?void 0:x.dateModified)&&(S.dateModified=C.dataset_schema.dateModified),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r(),{strategy:"beforeInteractive",id:"structured-data",type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(S)}}),(0,s.jsx)(l.default,{study:C})]})}function f(){let e=(0,d.usePathname)(),[t,a]=(0,i.useState)(null);return((0,i.useEffect)(()=>{if(e){let t=e.match(/\/(?:search\/)?items\/(.+)$/);t&&t[1]?a(t[1]):("/items"===e||"/search/items"===e)&&a(null)}},[e]),t)?(0,s.jsx)(m,{slug:t,initialData:null}):(0,s.jsxs)("div",{style:{padding:"2rem",textAlign:"center"},children:[(0,s.jsx)("h1",{children:"Item Not Found"}),(0,s.jsx)("p",{children:"Please provide a valid item slug or UUID in the URL."})]})}},89314:(e,t,a)=>{Promise.resolve().then(a.bind(a,21554))}},e=>{e.O(0,[9692,1828,690,7133,9829,867,2939,5183,5738,3055,8977,8441,1255,7358],()=>e(e.s=89314)),_N_E=e.O()}]);