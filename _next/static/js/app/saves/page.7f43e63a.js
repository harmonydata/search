(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9079],{70460:(e,t,r)=>{Promise.resolve().then(r.bind(r,48147))},30555:(e,t,r)=>{"use strict";r.d(t,{A:()=>s,K:()=>i});var a=r(81045),o=r(37157);function i(e){return(0,o.Ay)("MuiDivider",e)}let s=(0,a.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},93857:(e,t,r)=>{"use strict";r.d(t,{A:()=>s,f:()=>i});var a=r(81045),o=r(37157);function i(e){return(0,o.Ay)("MuiListItemIcon",e)}let s=(0,a.A)("MuiListItemIcon",["root","alignItemsFlexStart"])},28005:(e,t,r)=>{"use strict";r.d(t,{A:()=>s,b:()=>i});var a=r(81045),o=r(37157);function i(e){return(0,o.Ay)("MuiListItemText",e)}let s=(0,a.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},91888:(e,t,r)=>{"use strict";r.d(t,{A:()=>k});var a=r(12115),o=r(43463),i=r(7123),s=r(39793),n=r(37306),l=r(89142),c=r(98330),d=r(12567),h=r(72762),u=r(89679),x=r(59396),p=r(59328),m=r(30555),v=r(93857),y=r(28005),g=r(81045),b=r(37157);function A(e){return(0,b.Ay)("MuiMenuItem",e)}let j=(0,g.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var f=r(95155);let w=e=>{let{disabled:t,dense:r,divider:a,disableGutters:o,selected:s,classes:n}=e,l=(0,i.A)({root:["root",r&&"dense",t&&"disabled",!o&&"gutters",a&&"divider",s&&"selected"]},A,n);return{...n,...l}},C=(0,l.Ay)(u.A,{shouldForwardProp:e=>(0,n.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]}})((0,c.A)(e=>{let{theme:t}=e;return{...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(j.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,s.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(j.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,s.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(j.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,s.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,s.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(j.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(j.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(m.A.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(m.A.inset)]:{marginLeft:52},["& .".concat(y.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(y.A.inset)]:{paddingLeft:36},["& .".concat(v.A.root)]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,["& .".concat(v.A.root," svg")]:{fontSize:"1.25rem"}}}]}})),k=a.forwardRef(function(e,t){let r;let i=(0,d.b)({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:n="li",dense:l=!1,divider:c=!1,disableGutters:u=!1,focusVisibleClassName:m,role:v="menuitem",tabIndex:y,className:g,...b}=i,A=a.useContext(h.A),j=a.useMemo(()=>({dense:l||A.dense||!1,disableGutters:u}),[A.dense,l,u]),k=a.useRef(null);(0,x.A)(()=>{s&&k.current&&k.current.focus()},[s]);let z={...i,dense:j.dense,divider:c,disableGutters:u},I=w(i),D=(0,p.A)(k,t);return i.disabled||(r=void 0!==y?y:-1),(0,f.jsx)(h.A.Provider,{value:j,children:(0,f.jsx)(C,{ref:D,role:v,tabIndex:r,component:n,focusVisibleClassName:(0,o.A)(I.focusVisible,m),className:(0,o.A)(I.root,g),...b,ownerState:z,classes:I})})})},48147:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>F});var a=r(95155),o=r(12115),i=r(35761),s=r(55295),n=r(68998),l=r(9561),c=r(64665),d=r(96854),h=r(10897),u=r(35417),x=r(70152),p=r(70503),m=r(22678),v=r(90507),y=r(90847),g=r(91888),b=r(90662),A=r(28222),j=r(49234),f=r(65330),w=r(72926),C=r(22282),k=r(42479),z=r(32645),I=r(20687),D=r(14057);let S=(0,D.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),M=(0,D.A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),L=(0,D.A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),_=(0,D.A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var O=r(17146),B=r(63612),E=r(76046),H=r(98245),T=r(54615),N=r(73179),R=r(44766),V=r(3485),q=r(5565);let P=e=>{let t=e.variablesCount||0,r=t>0?Array(t).fill({name:"Variable"}):[];return{extra_data:{uuid:e.uuid,slug:e.slug,resource_type:e.resourceType,name:e.title,description:e.description,keywords:e.keywords||[],number_of_variables:t},dataset_schema:{name:e.title,description:e.description,keywords:e.keywords||[],number_of_variables:t,variableMeasured:r,includedInDataCatalog:e.hasDataAvailable?[{}]:[]},child_datasets:Array(e.datasetsCount||0).fill({}),hasFreeAccess:e.hasFreeAccess||!1,hasCohortsAvailable:e.hasCohortsAvailable||!1,thumbnail:e.image}};function F(){let{currentUser:e}=(0,O.A)(),{loadSearchFromSaved:t,updateSearchSettings:r}=(0,B.S)(),D=(0,E.useRouter)(),F=(0,i.A)(),U=(0,s.A)(F.breakpoints.down("sm")),[W,X]=(0,o.useState)([]),[G,K]=(0,o.useState)([]),[Y,Z]=(0,o.useState)([]),[J,Q]=(0,o.useState)([]),[$,ee]=(0,o.useState)(!0),[et,er]=(0,o.useState)(null),[ea,eo]=(0,o.useState)(""),[ei,es]=(0,o.useState)("all"),en=async()=>{if(e)try{let t=(0,T.query)((0,T.collection)(N.db,"harmonisations"),(0,T.where)("uid","==",e.uid),(0,T.orderBy)("created","desc"),(0,T.limit)(50)),r=await (0,T.getDocs)(t),a=[];r.forEach(e=>{a.push({id:e.id,...e.data()})}),X(a)}catch(e){console.error("Error loading harmonizations:",e),er("Failed to load harmonizations")}},el=async()=>{try{let e=(0,T.query)((0,T.collection)(N.db,"harmonisations"),(0,T.where)("public","==",!0),(0,T.orderBy)("lastAccessed","desc"),(0,T.limit)(10)),t=await (0,T.getDocs)(e),r=[];t.forEach(e=>{r.push({id:e.id,...e.data()})}),K(r)}catch(e){console.error("Error loading recent public harmonizations:",e)}},ec=async()=>{if(e)try{let t=(0,T.query)((0,T.collection)(N.db,"saved_searches"),(0,T.where)("uid","==",e.uid),(0,T.orderBy)("created","desc"),(0,T.limit)(50)),r=await (0,T.getDocs)(t),a=[];r.forEach(e=>{a.push({id:e.id,...e.data()})}),Z(a)}catch(e){console.error("Error loading saved searches:",e)}},ed=async()=>{if(e)try{let t=(0,T.query)((0,T.collection)(N.db,"saved_resources"),(0,T.where)("uid","==",e.uid),(0,T.orderBy)("created","desc"),(0,T.limit)(50)),r=await (0,T.getDocs)(t),a=[];r.forEach(e=>{a.push({id:e.id,...e.data()})}),Q(a)}catch(e){console.error("Error loading saved resources:",e)}};(0,o.useEffect)(()=>{let t=async()=>{ee(!0),er(null),await Promise.all([en(),el(),ec(),ed()]),ee(!1)};e?t():ee(!1)},[e]);let eh=async e=>{try{await (0,T.deleteDoc)((0,T.doc)(N.db,"saved_searches",e)),Z(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error deleting saved search:",e)}},eu=async e=>{try{await (0,T.deleteDoc)((0,T.doc)(N.db,"saved_resources",e)),Q(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error deleting saved resource:",e)}},ex=async e=>{try{await (0,T.deleteDoc)((0,T.doc)(N.db,"harmonisations",e)),X(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error deleting harmonization:",e)}},ep=e=>{r({query:e.query,selectedFilters:e.filters||{},useSearch2:e.useSearch2||!1,hybridWeight:e.hybridWeight||.5,maxDistance:e.maxDistance||.4,selectedCategory:e.selectedCategory||null}),D.push("/discover")},em=e=>e.filter(e=>{var t,r;let a=(null===(r=e.apiData)||void 0===r?void 0:null===(t=r.instruments)||void 0===t?void 0:t.map(e=>e.name).filter(Boolean))||[],o=(a.length>0?a.join(" with "):"Untitled Harmonization").toLowerCase().includes(ea.toLowerCase()),i="all"===ei||"harmonisation"===ei;return o&&i}),ev=e=>e.filter(e=>{var t,r;let a=(null===(r=e.apiData)||void 0===r?void 0:null===(t=r.instruments)||void 0===t?void 0:t.map(e=>e.name).filter(Boolean))||[],o=(a.length>0?a.join(" with "):"Untitled Harmonization").toLowerCase().includes(ea.toLowerCase()),i="all"===ei||"harmonisation"===ei;return o&&i}),ey=e=>e.filter(e=>{let t=e.query.toLowerCase().includes(ea.toLowerCase()),r="all"===ei||"search"===ei;return t&&r}),eg=e=>e.filter(e=>{let t=e.title.toLowerCase().includes(ea.toLowerCase()),r="all"===ei||"resource"===ei;return t&&r});return e?$?(0,a.jsx)(n.default,{sx:{p:3,display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:(0,a.jsx)(d.A,{})}):(0,a.jsxs)(n.default,{sx:{p:3},children:[(0,a.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"My Saves"}),(0,a.jsx)(l.A,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Manage your saved harmonizations, searches, and resources."}),et&&(0,a.jsx)(h.A,{severity:"error",sx:{mb:3},children:et}),(0,a.jsx)(n.default,{sx:{mb:3},children:(0,a.jsxs)(u.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,a.jsx)(u.Ay,{item:!0,xs:12,sm:6,children:(0,a.jsx)(x.A,{fullWidth:!0,placeholder:"Search saved items...",value:ea,onChange:e=>eo(e.target.value),InputProps:{endAdornment:(0,a.jsx)(p.A,{position:"end",children:(0,a.jsx)(q.default,{src:(0,V.xC)()+"icons/discover.svg",alt:"Search",width:20,height:20})}),sx:{height:48,"& .MuiOutlinedInput-root":{borderRadius:24},"& .MuiOutlinedInput-notchedOutline":{borderColor:"grey.200"}}},sx:{"& .MuiOutlinedInput-root":{borderRadius:24}}})}),(0,a.jsx)(u.Ay,{item:!0,xs:12,sm:6,children:(0,a.jsxs)(m.A,{fullWidth:!0,children:[(0,a.jsx)(v.A,{children:"Type"}),(0,a.jsxs)(y.A,{value:ei,onChange:e=>es(e.target.value),label:"Type",children:[(0,a.jsx)(g.A,{value:"all",children:"All Types"}),(0,a.jsx)(g.A,{value:"harmonisation",children:"Harmonizations"}),(0,a.jsx)(g.A,{value:"search",children:"Searches"}),(0,a.jsx)(g.A,{value:"resource",children:"Resources"})]})]})})]})}),(0,a.jsxs)(b.A,{defaultExpanded:!0,sx:{mb:2},children:[(0,a.jsx)(A.A,{expandIcon:(0,a.jsx)(z.A,{size:20}),sx:{bgcolor:"background.paper","&:hover":{bgcolor:"action.hover"}},children:(0,a.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,a.jsx)(I.A,{size:20}),(0,a.jsx)(l.A,{variant:"h6",children:"Saved Resources"}),(0,a.jsx)(j.A,{label:eg(J).length,size:"small"})]})}),(0,a.jsx)(f.A,{children:(()=>{let e=eg(J);return 0===J.length?(0,a.jsx)(l.A,{color:"text.secondary",children:"No resources saved yet. Save studies and datasets from the discovery page to see them here."}):0===e.length?(0,a.jsx)(l.A,{color:"text.secondary",children:"No resources match your search criteria."}):(0,a.jsx)(n.default,{children:e.map(e=>{let t=P(e);return(0,a.jsxs)(n.default,{sx:{position:"relative",mb:2},children:[(0,a.jsx)(H.A,{result:t,onClick:()=>{let t;let r="study"===e.resourceType?"studies":"items";"studies"===r?t=e.slug:(t=e.slug||e.uuid,e.slug&&e.slug.length>220&&(t=e.uuid));let a="".concat((0,V.xC)()).concat(r,"/").concat(t);window.location.href=a}}),(0,a.jsx)(n.default,{sx:{position:"absolute",top:8,right:8,zIndex:1},children:(0,a.jsx)(w.A,{title:"Delete",children:(0,a.jsx)(C.A,{variant:"outlined",size:"small",onClick:t=>{t.stopPropagation(),eu(e.id)},startIcon:(0,a.jsx)(S,{size:16}),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)",color:"error.main",borderColor:"error.main","&:hover":{backgroundColor:"error.main",color:"white"}},children:!U&&"Delete"})})})]},e.id)})})})()})]}),(0,a.jsxs)(b.A,{sx:{mb:2},children:[(0,a.jsx)(A.A,{expandIcon:(0,a.jsx)(z.A,{size:20}),sx:{bgcolor:"background.paper","&:hover":{bgcolor:"action.hover"}},children:(0,a.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,a.jsx)(M,{size:20}),(0,a.jsx)(l.A,{variant:"h6",children:"Recent Public Harmonizations"}),(0,a.jsx)(j.A,{label:em(G).length,size:"small"})]})}),(0,a.jsx)(f.A,{children:(()=>{let e=em(G);return 0===e.length?(0,a.jsx)(l.A,{color:"text.secondary",children:0===G.length?"No recent public harmonizations found.":"No harmonizations match your search criteria."}):(0,a.jsx)(n.default,{children:e.map(e=>{var t,r,o,i,s,d,h,u;let x=(null===(r=e.apiData)||void 0===r?void 0:null===(t=r.instruments)||void 0===t?void 0:t.map(e=>e.name).filter(Boolean))||[],p=x.length>0?x.join(" with "):"Untitled Harmonization";return(0,a.jsxs)(n.default,{sx:{position:"relative",mb:2},children:[(0,a.jsx)(w.A,{title:"Click to view in Harmony",children:(0,a.jsx)(c.A,{sx:{cursor:"pointer","&:hover":{bgcolor:"action.hover"},p:2},onClick:()=>{window.location.href=(0,R.F_)(e.id)},children:(0,a.jsxs)(k.A,{sx:{p:2,"&:last-child":{pb:2}},children:[(0,a.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,a.jsx)(M,{size:16,color:"#4caf50"}),(0,a.jsx)(l.A,{variant:"h6",sx:{flex:1},children:p})]}),(0,a.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:["Last accessed:"," ",(null===(s=e.lastAccessed)||void 0===s?void 0:null===(i=s.toDate)||void 0===i?void 0:null===(o=i.call(s))||void 0===o?void 0:o.toLocaleDateString())||"Unknown"," • Created: ",(null===(u=e.created)||void 0===u?void 0:null===(h=u.toDate)||void 0===h?void 0:null===(d=h.call(u))||void 0===d?void 0:d.toLocaleDateString())||"Unknown"]})]})})}),(0,a.jsx)(n.default,{sx:{position:"absolute",top:8,right:8,zIndex:1},children:(0,a.jsx)(w.A,{title:"Delete",children:(0,a.jsx)(C.A,{variant:"outlined",size:"small",onClick:t=>{t.stopPropagation(),ex(e.id)},startIcon:(0,a.jsx)(S,{size:16}),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)",color:"error.main",borderColor:"error.main","&:hover":{backgroundColor:"error.main",color:"white"}},children:!U&&"Delete"})})})]},e.id)})})})()})]}),(0,a.jsxs)(b.A,{sx:{mb:2},children:[(0,a.jsx)(A.A,{expandIcon:(0,a.jsx)(z.A,{size:20}),sx:{bgcolor:"background.paper","&:hover":{bgcolor:"action.hover"}},children:(0,a.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,a.jsx)(L,{size:20}),(0,a.jsx)(l.A,{variant:"h6",children:"My Harmonizations"}),(0,a.jsx)(j.A,{label:ev(W).length,size:"small"})]})}),(0,a.jsx)(f.A,{children:(()=>{let e=ev(W);return 0===W.length?(0,a.jsx)(l.A,{color:"text.secondary",children:"No harmonizations saved yet. Create some harmonizations in the Harmony app to see them here."}):0===e.length?(0,a.jsx)(l.A,{color:"text.secondary",children:"No harmonizations match your search criteria."}):(0,a.jsx)(n.default,{children:e.map(e=>{var t,r,o,i,s,d,h,u,x,p;let m=(null===(r=e.apiData)||void 0===r?void 0:null===(t=r.instruments)||void 0===t?void 0:t.map(e=>e.name).filter(Boolean))||[],v=m.length>0?m.join(" with "):"Untitled Harmonization",y=(null===(i=e.apiData)||void 0===i?void 0:null===(o=i.instruments)||void 0===o?void 0:o.reduce((e,t)=>{var r;return e+((null===(r=t.questions)||void 0===r?void 0:r.length)||0)},0))||0;return(0,a.jsxs)(n.default,{sx:{position:"relative",mb:2},children:[(0,a.jsx)(w.A,{title:"Click to view in Harmony",children:(0,a.jsx)(c.A,{sx:{cursor:"pointer","&:hover":{bgcolor:"action.hover"},p:2},onClick:()=>{window.location.href=(0,R.F_)(e.id)},children:(0,a.jsxs)(k.A,{sx:{p:2,"&:last-child":{pb:2}},children:[(0,a.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[e.public?(0,a.jsx)(M,{size:16,color:"#4caf50"}):(0,a.jsx)(_,{size:16,color:"#666"}),(0,a.jsx)(l.A,{variant:"h6",sx:{flex:1},children:v})]}),(0,a.jsxs)(l.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Created:"," ",(null===(h=e.created)||void 0===h?void 0:null===(d=h.toDate)||void 0===d?void 0:null===(s=d.call(h))||void 0===s?void 0:s.toLocaleDateString())||"Unknown",e.lastAccessed&&(0,a.jsxs)(a.Fragment,{children:[" • Last accessed: ",(null===(p=e.lastAccessed)||void 0===p?void 0:null===(x=p.toDate)||void 0===x?void 0:null===(u=x.call(p))||void 0===u?void 0:u.toLocaleDateString())||"Unknown"]})]}),y>0&&(0,a.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:[y," questions harmonized"]})]})})}),(0,a.jsx)(n.default,{sx:{position:"absolute",top:8,right:8,zIndex:1},children:(0,a.jsx)(w.A,{title:"Delete",children:(0,a.jsx)(C.A,{variant:"outlined",size:"small",onClick:t=>{t.stopPropagation(),ex(e.id)},startIcon:(0,a.jsx)(S,{size:16}),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)",color:"error.main",borderColor:"error.main","&:hover":{backgroundColor:"error.main",color:"white"}},children:!U&&"Delete"})})})]},e.id)})})})()})]}),(0,a.jsxs)(b.A,{sx:{mb:2},children:[(0,a.jsx)(A.A,{expandIcon:(0,a.jsx)(z.A,{size:20}),sx:{bgcolor:"background.paper","&:hover":{bgcolor:"action.hover"}},children:(0,a.jsxs)(n.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,a.jsx)(q.default,{src:(0,V.xC)()+"icons/discover.svg",alt:"Search",width:20,height:20}),(0,a.jsx)(l.A,{variant:"h6",children:"Saved Searches"}),(0,a.jsx)(j.A,{label:ey(Y).length,size:"small"})]})}),(0,a.jsx)(f.A,{children:(()=>{let e=ey(Y);return 0===Y.length?(0,a.jsx)(l.A,{color:"text.secondary",children:"No searches saved yet. Save searches from the discovery page to see them here."}):0===e.length?(0,a.jsx)(l.A,{color:"text.secondary",children:"No searches match your search criteria."}):(0,a.jsx)(n.default,{children:e.map(e=>{var t,r,o;let i=e.filters?Object.entries(e.filters):[],s=i.slice(0,5);return(0,a.jsxs)(n.default,{sx:{position:"relative",mb:2},children:[(0,a.jsx)(w.A,{title:"Click to re-run search",children:(0,a.jsx)(c.A,{sx:{cursor:"pointer","&:hover":{bgcolor:"action.hover"},p:2},onClick:()=>ep(e),children:(0,a.jsxs)(k.A,{sx:{p:2,"&:last-child":{pb:2}},children:[(0,a.jsx)(l.A,{variant:"h6",sx:{mb:1},children:e.query}),(0,a.jsxs)(l.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:[e.resultCount," results • Saved:"," ",(null===(o=e.created)||void 0===o?void 0:null===(r=o.toDate)||void 0===r?void 0:null===(t=r.call(o))||void 0===t?void 0:t.toLocaleDateString())||"Unknown"]}),s.length>0&&(0,a.jsxs)(n.default,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:1},children:[s.map(e=>{let[t,r]=e;return(0,a.jsx)(j.A,{label:"".concat(t,": ").concat(Array.isArray(r)?r.join(", "):r),size:"small",variant:"outlined",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"}}},t)}),i.length>5&&(0,a.jsx)(j.A,{label:"+".concat(i.length-5," more"),size:"small",variant:"outlined",sx:{fontSize:"0.75rem",color:"text.secondary"}})]})]})})}),(0,a.jsx)(n.default,{sx:{position:"absolute",top:8,right:8,zIndex:1},children:(0,a.jsx)(w.A,{title:"Delete",children:(0,a.jsx)(C.A,{variant:"outlined",size:"small",onClick:t=>{t.stopPropagation(),eh(e.id)},startIcon:(0,a.jsx)(S,{size:16}),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)",color:"error.main",borderColor:"error.main","&:hover":{backgroundColor:"error.main",color:"white"}},children:!U&&"Delete"})})})]},e.id)})})})()})]})]}):(0,a.jsxs)(n.default,{sx:{p:3},children:[(0,a.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"My Saves"}),(0,a.jsx)(l.A,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"This feature allows you to manage your saved harmonizations, searches, and resources from your research."}),(0,a.jsxs)(c.A,{sx:{maxWidth:600,mx:"auto",p:3},children:[(0,a.jsx)(l.A,{variant:"h6",gutterBottom:!0,color:"primary",children:"Sign in to Access Your Saves"}),(0,a.jsx)(l.A,{variant:"body1",sx:{mb:2},children:"This feature only works if you login. It only takes a moment to create an account and allows you to save your research results for future access."}),(0,a.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"By signing in, you can:"}),(0,a.jsxs)(n.default,{component:"ul",sx:{textAlign:"left",mb:3},children:[(0,a.jsx)(l.A,{component:"li",variant:"body2",sx:{mb:1},children:"Save research studies and harmonisations"}),(0,a.jsx)(l.A,{component:"li",variant:"body2",sx:{mb:1},children:"Save your search queries and results"}),(0,a.jsx)(l.A,{component:"li",variant:"body2",sx:{mb:1},children:"Access your saved items across sessions"}),(0,a.jsx)(l.A,{component:"li",variant:"body2",sx:{mb:1},children:"Organize and manage your research collection"})]}),(0,a.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:["We respect your privacy. Please review our"," ",(0,a.jsx)("a",{href:"https://harmonydata.ac.uk/privacy-policy",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline"},children:"privacy policy"})," ","to understand how we handle your data."]})]})]})}},44766:(e,t,r)=>{"use strict";r.d(t,{C4:()=>a,F_:()=>i,ud:()=>o});let a=()=>"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://localhost:3000":window.location.origin,o=()=>("localhost"===window.location.hostname||window.location.hostname,"/app/"),i=e=>"".concat(a()).concat(o(),"#/model/").concat(e)},20687:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(14057).A)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[2154,9895,6586,9197,1972,8378,2857,2282,9234,7512,2926,5135,9260,3670,5779,1138,280,7167,8441,1517,7358],()=>t(70460)),_N_E=e.O()}]);